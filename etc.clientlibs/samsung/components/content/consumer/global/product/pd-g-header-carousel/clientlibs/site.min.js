var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var e=0;return function(){return e<c.length?{done:!1,value:c[e++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var e="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return e?e.call(c):$jscomp.arrayIterator(c)};$jscomp.arrayFromIterator=function(c){for(var e,g=[];!(e=c.next()).done;)g.push(e.value);return g};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};
(function(){var c=window.sg.common.$q,e=window.sg.common.utils.setMobileFocusLoop,g=window.sg.common.utils.removeMobileFocusLoop,k=window.sg.common.utils.isRtl,l=window.sg.common.libs,d=function(a){this.els={el:a,containerEl:a.querySelector(".header-carousel__container"),wrapperEl:a.querySelector(".header-carousel__wrapper"),slideEls:a.querySelectorAll(".header-carousel__slide"),arrowIndicatorWrapEL:a.querySelector(".arrow-indicator-wrap"),carouselPrevButtonEl:a.querySelector(".arrow-indicator--prev"),
carouselNextButtonEl:a.querySelector(".arrow-indicator--next"),indicatorWrapEl:a.querySelector(".header-carousel__indicator-wrap"),indicatorEl:a.querySelector(".indicator"),indicatorControlButtonEl:a.querySelector(".indicator .indicator__controls"),carouselControllerEl:a.querySelector(".header-carousel__carousel-controller"),videoStartButtonEls:a.querySelectorAll(".header-carousel__btn-video-start"),videoEls:a.querySelectorAll(".header-carousel__video .video"),videoCloseButtonEls:a.querySelectorAll(".header-carousel__btn-video-close"),
layerPopupCtaEls:a.querySelectorAll(".cta[data-target-popup-id]"),swiperAutoplayStopButtonEl:a.querySelector(".swiper-autoplay-stop-btn"),currentVideoTitleEl:a.querySelector(".popup-video__current-video-title")};this.ele={window:c(window)};this.handler={focusLock:this.focusLock.bind(this)};this.indicator=window.sg.common.indicator;this.lazyLoad=window.sg.common.lazyLoad;this.video=window.sg.common.video;this.getCurrentDevice=window.sg.common.utils.getCurrentDevice;this.isVisible=window.sg.common.utils.isVisible;
this.closest=window.sg.common.utils.closest;this.isCarouselShow=!1;this.isCarousel=1<this.els.slideEls.length;this.applyCarouselControlEvent=!0;this.isMouseEnterOnActiveSlide=this.isDuplicateSlide=!1;this.stateRtl=k();this.isCarousel&&(this.swiper={},this.carouselData=this.els.containerEl.dataset.carouselData?JSON.parse(this.els.containerEl.dataset.carouselData):{autoRolling:!1,infiniteRolling:!1,desktopIndicatorUse:!1,mobileIndicatorUse:!1,desktopArrowUse:!1,mobileArrowUse:!1},this.isReiterate=this.autoplay=
!1);this.beforeDevice=this.getCurrentDevice();this.isFrontVideoPlay=!1;this.currentPlayingFrontVideoEl={};this.playCta=this.closeCta=null;this.init()};d.prototype.init=function(){d.instances.has(this.els.el)||(d.instances.set(this.els.el,this),this.isCarousel&&(this.setSwiper(),this.setComponentTextColorForIndicator(),this.checkSwiperStatus()),this.bindEvents(),this.addControlEvent(),this.checkCarouselShow())};d.prototype.setSwiper=function(){this.els.el.classList.add("indicator-container");this.els.containerEl.classList.add("swiper-container");
this.els.wrapperEl.classList.add("swiper-wrapper");[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(a){a.classList.add("swiper-slide");a.classList.add("indicator-page");a.querySelector(".header-carousel__background-media").classList.add("indicator-background")});this.swiper=new Swiper(this.els.containerEl,{loop:this.carouselData.infiniteRolling,autoHeight:!0,navigation:{prevEl:".arrow-indicator--prev",nextEl:".arrow-indicator--next"}});this.els.slideEls=this.els.el.querySelectorAll(".header-carousel__slide");
this.autoplay=this.carouselData.autoRolling;this.setAccessibility();this.indicator.reInit(this.els.indicatorEl)};d.prototype.checkSwiperStatus=function(){this.isFrontVideoPlay||("desktop"===this.getCurrentDevice()?(this.carouselData.desktopArrowUse?(this.els.arrowIndicatorWrapEL.style.display="block",this.carouselData.infiniteRolling?(this.els.carouselPrevButtonEl.style.display="block",this.els.carouselNextButtonEl.style.display="block"):(this.swiper.isBeginning?(document.activeElement===this.els.carouselPrevButtonEl&&
this.els.carouselNextButtonEl.focus(),this.els.carouselPrevButtonEl.style.display="none"):this.els.carouselPrevButtonEl.style.display="block",this.swiper.isEnd?(document.activeElement===this.els.carouselNextButtonEl&&this.els.carouselPrevButtonEl.focus(),this.els.carouselNextButtonEl.style.display="none"):this.els.carouselNextButtonEl.style.display="block")):(this.els.arrowIndicatorWrapEL.style.display="none",this.els.carouselPrevButtonEl.style.display="none",this.els.carouselNextButtonEl.style.display=
"none"),this.els.indicatorEl.style.display=this.carouselData.desktopIndicatorUse?"block":"none"):(this.carouselData.mobileArrowUse?(this.els.arrowIndicatorWrapEL.style.display="block",this.carouselData.infiniteRolling?(this.els.carouselPrevButtonEl.style.display="block",this.els.carouselNextButtonEl.style.display="block"):(this.swiper.isBeginning?(document.activeElement===this.els.carouselPrevButtonEl&&this.els.carouselNextButtonEl.focus(),this.els.carouselPrevButtonEl.style.display="none"):this.els.carouselPrevButtonEl.style.display=
"block",this.swiper.isEnd?(document.activeElement===this.els.carouselNextButtonEl&&this.els.carouselPrevButtonEl.focus(),this.els.carouselNextButtonEl.style.display="none"):this.els.carouselNextButtonEl.style.display="block")):(this.els.arrowIndicatorWrapEL.style.display="none",this.els.carouselPrevButtonEl.style.display="none",this.els.carouselNextButtonEl.style.display="none"),this.els.indicatorEl.style.display=this.carouselData.mobileIndicatorUse?"block":"none"),this.carouselData.infiniteRolling||
(this.swiper.allowSlidePrev=!this.swiper.isBeginning,!1===this.stateRtl&&(this.swiper.allowSlideNext=!this.swiper.isEnd)))};d.prototype.setAccessibility=function(){var a=this;[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(b,f){f===a.swiper.activeIndex?([].concat($jscomp.arrayFromIterable(b.querySelectorAll(".cta"))).forEach(function(a){a.removeAttribute("tabindex")}),(f=b.querySelector(".header-carousel__btn-video-start"))&&f.removeAttribute("tabindex"),b.removeAttribute("aria-hidden")):
([].concat($jscomp.arrayFromIterable(b.querySelectorAll(".cta"))).forEach(function(a){a.setAttribute("tabindex","-1")}),(f=b.querySelector(".header-carousel__btn-video-start"))&&f.setAttribute("tabindex","-1"),b.setAttribute("aria-hidden","true"))})};d.prototype.checkCarouselShow=function(){var a=this;this.isVisible(this.els.el)&&!this.isCarouselShow?(this.isCarouselShow=!0,this.lazyLoad.setLazyLoad(),this.isFrontVideoPlay?this.video.init(this.currentPlayingFrontVideoEl):(this.isCarousel&&this.els.slideEls[this.swiper.activeIndex].querySelector(".header-carousel__background-media .image__preview").addEventListener("load",
function(){a.swiper.update()}),this.playCarousel())):!this.isVisible(this.els.el)&&this.isCarouselShow&&(this.isCarouselShow=!1,this.isFrontVideoPlay?this.video.dispose(this.currentPlayingFrontVideoEl):this.pauseCarousel())};d.prototype.playCarousel=function(){if(this.applyCarouselControlEvent)if(this.isCarousel)if(this.carouselData.autoRolling)this.autoplay&&this.indicator.play(this.els.indicatorEl);else{var a=this.els.slideEls[this.swiper.activeIndex].querySelector(".header-carousel__background-media .video");
a&&this.video.play(a)}else(a=this.els.slideEls[0].querySelector(".header-carousel__background-media .video"))&&this.video.play(a)};d.prototype.pauseCarousel=function(){if(this.applyCarouselControlEvent)if(this.isCarousel)if(this.carouselData.autoRolling)this.autoplay&&this.indicator.pause(this.els.indicatorEl);else{var a=this.els.slideEls[this.swiper.activeIndex].querySelector(".header-carousel__background-media .video video");a&&a.pause()}else(a=this.els.slideEls[0].querySelector(".header-carousel__background-media .video video"))&&
a.pause()};d.prototype.addControlEvent=function(){var a=this;this.isCarousel&&0<=this.swiper.previousIndex&&this.removeControlEvent();var b=0;this.isCarousel&&(b=this.swiper.activeIndex);this.playCarousel=this.playCarousel.bind(this);this.pauseCarousel=this.pauseCarousel.bind(this);b=this.els.slideEls[b].querySelector(".header-carousel__slide-inner");b.addEventListener("mouseenter",this.pauseCarousel);b.addEventListener("mouseleave",this.playCarousel);[].concat($jscomp.arrayFromIterable(b.querySelectorAll(".cta"))).forEach(function(b){b.addEventListener("focus",
a.pauseCarousel);b.addEventListener("focusout",a.playCarousel)});if(b=b.querySelector(".header-carousel__btn-video-start"))b.addEventListener("focus",this.pauseCarousel),b.addEventListener("focusout",this.playCarousel)};d.prototype.removeControlEvent=function(){var a=this,b=this.els.slideEls[this.swiper.previousIndex].querySelector(".header-carousel__slide-inner");b.removeEventListener("mouseenter",this.pauseCarousel);b.removeEventListener("mouseleave",this.playCarousel);[].concat($jscomp.arrayFromIterable(b.querySelectorAll(".cta"))).forEach(function(b){b.removeEventListener("focus",
a.pauseCarousel);b.removeEventListener("focusout",a.playCarousel)});var c=b.querySelector(".header-carousel__btn-video-start");c&&(c.removeEventListener("focus",this.pauseCarousel),c.removeEventListener("focusout",this.playCarousel));(b=b.querySelector(".header-carousel__background-media .video video"))&&b.pause();this.isFrontVideoPlay&&(this.applyCarouselControlEvent=!0,this.isFrontVideoPlay=!1,this.currentPlayingFrontVideoEl.parentElement.style.display="none",this.video.dispose(this.currentPlayingFrontVideoEl),
this.currentPlayingFrontVideoEl.removeAttribute("tabindex"),this.currentPlayingFrontVideoEl.parentElement.parentElement.querySelector(".header-carousel__btn-video-start").removeAttribute("tabindex"),this.currentPlayingFrontVideoEl.parentElement.parentElement.querySelector(".header-carousel__btn-video-start").removeAttribute("aria-hidden"),this.currentPlayingFrontVideoEl.parentElement.parentElement.parentElement.setAttribute("tabindex","0"),this.currentPlayingFrontVideoEl.parentElement.parentElement.parentElement.removeAttribute("aria-hidden"),
[].concat($jscomp.arrayFromIterable(this.currentPlayingFrontVideoEl.parentElement.parentElement.parentElement.querySelectorAll(".cta"))).forEach(function(a){a.removeAttribute("tabindex");a.removeAttribute("aria-hidden")}),this.currentPlayingFrontVideoEl={},this.isCarousel&&(this.els.arrowIndicatorWrapEL.style.display="block",this.els.containerEl.classList.contains("header-carousel__container--bottom-indicator")||(this.els.indicatorEl.style.display=this.carouselData.desktopIndicatorUse?"block":"none")));
this.closest(document.activeElement,".header-carousel")&&document.activeElement!==this.els.carouselPrevButtonEl&&document.activeElement!==this.els.carouselNextButtonEl&&!document.activeElement.classList.contains("indicator__item")&&document.activeElement.blur()};d.prototype.setComponentTextColorForIndicator=function(){var a="";this.els.containerEl.classList.remove("text-color--black");this.els.containerEl.classList.remove("text-color--white");var b=this.els.slideEls[this.swiper.activeIndex].querySelector(".header-carousel__text-wrap");
b.classList.contains("header-carousel__text-wrap--black")?a="text-color--black":b.classList.contains("header-carousel__text-wrap--white")&&(a="text-color--white");this.els.containerEl.classList.add(a)};d.prototype.focusLock=function(a){a.keyCode===l.keyCode.TAB_KEY&&(!1===a.shiftKey&&this.closeCta===document.activeElement?(a.preventDefault(),this.playCta.focus()):!0===a.shiftKey&&this.playCta===document.activeElement&&(a.preventDefault(),this.closeCta.focus()))};d.prototype.bindEvents=function(){var a=
this;[].concat($jscomp.arrayFromIterable(this.els.videoStartButtonEls)).forEach(function(b,c){b.addEventListener("click",function(){a.applyCarouselControlEvent=!1;a.isFrontVideoPlay=!0;a.currentPlayingFrontVideoEl=a.els.videoEls[c];a.currentPlayingFrontVideoEl.parentElement.style.display="block";a.video.init(a.currentPlayingFrontVideoEl);a.els.videoCloseButtonEls[c].focus();a.closeCta=a.els.videoCloseButtonEls[c];a.playCta=a.currentPlayingFrontVideoEl.parentElement.querySelector(".popup-video__current-video-title");
a.els.currentVideoTitleEl.innerText=JSON.parse(a.currentPlayingFrontVideoEl.dataset.videoData).title;a.ele.window.off("keydown",a.handler.focusLock).on("keydown",a.handler.focusLock);0>=document.querySelectorAll("[data-aria-hidden]").length&&e(a.currentPlayingFrontVideoEl.parentElement);a.isCarousel&&(a.els.arrowIndicatorWrapEL.style.display="none",a.els.containerEl.classList.contains("header-carousel__container--bottom-indicator")||(a.els.indicatorEl.style.display="none"))})});[].concat($jscomp.arrayFromIterable(this.els.videoCloseButtonEls)).forEach(function(b,
c){b.addEventListener("click",function(){a.applyCarouselControlEvent=!0;a.isFrontVideoPlay=!1;0<document.querySelectorAll("[data-aria-hidden]").length&&g();a.currentPlayingFrontVideoEl.parentElement.style.display="none";a.video.dispose(a.currentPlayingFrontVideoEl);a.ele.window.off("keydown",a.handler.focusLock);a.currentPlayingFrontVideoEl={};a.isCarousel&&(a.els.arrowIndicatorWrapEL.style.display="block",a.els.containerEl.classList.contains("header-carousel__container--bottom-indicator")||(a.els.indicatorEl.style.display=
a.carouselData.desktopIndicatorUse?"block":"none"));a.els.videoStartButtonEls[c].focus()})});this.isCarousel&&([].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(b){b.querySelector(".header-carousel__slide-inner").addEventListener("mouseenter",function(){a.isMouseEnterOnActiveSlide=!0});b.querySelector(".header-carousel__slide-inner").addEventListener("mouseleave",function(){a.isMouseEnterOnActiveSlide=!1})}),this.els.indicatorEl.addEventListener("indicatorReiterate",function(){a.isReiterate=
!0}),this.els.indicatorEl.addEventListener("indicatorMove",function(b){a.isDuplicateSlide?a.isDuplicateSlide=!1:a.isReiterate?(a.isReiterate=!1,a.swiper.slideTo(a.els.slideEls.length-1)):a.swiper.slideToLoop(b.detail)}),this.els.indicatorControlButtonEl&&this.els.indicatorControlButtonEl.addEventListener("click",function(){a.autoplay=!a.autoplay}),this.swiper.on("slideChange",function(){a.addControlEvent();a.lazyLoad.setLazyLoad();a.checkSwiperStatus();a.setAccessibility();a.setComponentTextColorForIndicator();
a.isDuplicateSlide=!1;a.swiper.activeIndex===a.els.slideEls.length-1&&0===a.swiper.realIndex?a.isDuplicateSlide=!0:0===a.swiper.activeIndex&&a.swiper.realIndex===a.els.indicatorEl.querySelectorAll(".indicator__item").length-1&&(a.isDuplicateSlide=!0);a.indicator.move(a.els.indicatorEl,a.swiper.realIndex)}),this.swiper.on("slideChangeTransitionEnd",function(){a.lazyLoad.setLazyLoad();a.swiper.slideToLoop(a.swiper.realIndex,0,!1);a.isMouseEnterOnActiveSlide||a.playCarousel()}),this.swiper.on("resize",
function(){a.checkSwiperStatus()}));[].concat($jscomp.arrayFromIterable(this.els.layerPopupCtaEls)).forEach(function(b){b.addEventListener("click",function(){a.applyCarouselControlEvent=!1;window.sg.components.prGj2aCover.openPopup(document.querySelector(b.dataset.targetPopupId),b)});b.addEventListener("closeConverterPopup",function(){a.applyCarouselControlEvent=!0})});this.els.swiperAutoplayStopButtonEl&&this.els.swiperAutoplayStopButtonEl.addEventListener("click",function(){a.pauseCarousel();a.autoplay=
!1});document.addEventListener("scroll",function(){a.checkCarouselShow()});window.addEventListener("resize",function(){a.applyCarouselControlEvent&&a.checkCarouselShow()});window.addEventListener("orientationchange",function(){a.applyCarouselControlEvent&&a.checkCarouselShow()})};d.instances=new WeakMap;var h={initAll:function(){[].concat($jscomp.arrayFromIterable(document.querySelectorAll(".header-carousel"))).forEach(function(a){d.instances.has(a)||new d(a)})}};window.sg.components.headerCarousel=
h;c.ready(function(){return h.initAll()})})();