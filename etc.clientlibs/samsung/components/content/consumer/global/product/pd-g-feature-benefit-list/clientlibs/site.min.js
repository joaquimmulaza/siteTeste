(function(){var c=window.sg.common.$q,n=window.sg.common.constants.KEY_CODE,p=window.sg.common.utils,h=window.sg.common.swiperManager,l=window.sg.common.lazyLoad,k=window.sg.common.video,g=function(d){var a=this;this.timeID=null;this.mobileFlag=this.desktopFlag=!1;this.playEl=null;this.isVideo=this.playFlag=!1;this.activeIndex=null;this.ele={window:c(window),section:c(d),list:null,listWrap:null,indicator:null,item:null,itemCta:null,image:null,imageWrap:null,disclaimer:null,bundleVideo:null,allVideoEl:null};
this.selector={swiperContainer:".swiper-container",list:".feature-benefit-list__list",listWrap:".feature-benefit-list__list-wrap",indicator:".indicator",item:".feature-benefit-list__item",itemCta:".feature-benefit-list__item-cta",imageWrap:".feature-benefit-list__image",image:".feature-benefit-list__item .feature-benefit-list__image \x3e .image",disclaimer:".feature-benefit-list__disclaimer .list-type",bundleVideo:".feature-benefit-list__video",allVideoEl:".feature-benefit-list__video .video",checkSize:".feature-benefit-list__image \x3e .image, .feature-benefit-list__image .video",
loadImage:".image .image__main"};this.handler={resize:function(){a.timeID&&clearTimeout(a.timeID);a.timeID=setTimeout(a.handler.timeResize,10)},timeResize:function(){if("desktop"===p.getCurrentDevice()){!1===a.desktopFlag&&(a.desktopFlag=!0,a.mobileFlag=!1,a.ele.itemCta.off("click").on("click",a.handler.eventHandler),a.ele.itemCta.off("keydown").on("keydown",a.handler.eventHandler),a.ele.section.find(".swiper-slide-focus").attr("tabindex","0"),a.handler.setFirstVideo(),null===a.activeIndex&&(a.activeIndex=
0),a.ele.section.find(".js-item-active").hasClass("swiper-slide-active")||a.ele.section.find(".js-item-active").addClass("swiper-slide-active"),window.sg.common.image.initAll(),l.initAll());var b=0;a.ele.list.css({height:""});var f=a.ele.listWrap.outerHeight();a.ele.section.find(a.selector.checkSize).target.forEach(function(a){a=c(a).outerHeight();b<a&&(b=a)});a.ele.list.css({height:b+2+"px"});f<b&&a.ele.imageWrap.css({height:b+"px"})}else!1===a.mobileFlag&&(a.desktopFlag=!1,a.mobileFlag=!0,a.handler.setFirstVideo(),
window.sg.common.image.initAll(),l.initAll(),null===a.activeIndex&&(a.activeIndex=0),h.slideUpdate(a.ele.section.find(a.selector.swiperContainer).target[0]),a.handler.slideSetting()),a.ele.list.css({height:""}),a.ele.section.find(a.selector.item).css({height:""}),a.ele.section.find(a.selector.imageWrap).css({height:""}),h.slideUpdate(a.ele.section.find(a.selector.swiperContainer).target[0]),a.handler.arrowPosition(a.activeIndex)},eventHandler:function(b){if("keydown"!==b.type||b.keyCode===n.ENTER){b=
c(b.target).closest(a.selector.item);var f=b.find(a.selector.bundleVideo);a.ele.item.removeClass("js-item-active");a.ele.item.removeClass("swiper-slide-active");b.addClass("js-item-active");b.addClass("swiper-slide-active");a.ele.disclaimer.removeClass("js-disc-active");var e=b.index();0===a.ele.indicator.index()&&(e=b.index()-1);a.ele.disclaimer.eq(e).addClass("js-disc-active");a.handler.setSelected();a.handler.controlVideo(f.find(".video"));a.activeIndex=e}},setSelected:function(){a.ele.item.target.forEach(function(b){var f=
c(b).find(".feature-benefit-list__item-cta"),e=f.attr("aria-label"),d=JSON.parse(f.attr("data-global-text")).selectedText;null===f.attr("data-default-label")&&f.attr("data-default-label",e);e=f.attr("data-default-label");c(b).hasClass("js-item-active")?(c(b).find(".video").target.length?(f.attr("aria-label",e+", "+d),c(b).find("video").attr("tabindex","0")):f.attr("aria-label",e+", "+d),c(b).find(".feature-benefit-list__image").target.length&&c(b).find(".feature-benefit-list__image").attr("aria-hidden",
!1),0===c(b).index()?c(b).closest(a.selector.swiperContainer).find(".arrow-indicator--prev").addClass("swiper-button-disabled"):c(b).index()===c(b).closest(a.selector.swiperContainer).find(a.selector.item).target.length-1?(c(b).closest(a.selector.swiperContainer).find(".arrow-indicator--prev").removeClass("swiper-button-disabled"),c(b).closest(a.selector.swiperContainer).find(".arrow-indicator--next").addClass("swiper-button-disabled")):(c(b).closest(a.selector.swiperContainer).find(".arrow-indicator--prev").removeClass("swiper-button-disabled"),
c(b).closest(a.selector.swiperContainer).find(".arrow-indicator--next").removeClass("swiper-button-disabled"))):(c(b).find(".video").target.length?(f.attr("aria-label",e),c(b).find("video").attr("tabindex","-1")):f.attr("aria-label",e),c(b).find(".feature-benefit-list__image").target.length&&c(b).find(".feature-benefit-list__image").attr("aria-hidden",!0))})},setFirstVideo:function(){a.ele.section.find(a.selector.item).target.forEach(function(b){b=c(b);b.hasClass("swiper-slide-active")&&0<b.find(".video").target.length&&
a.handler.controlVideo(b.find(".video"))});a.handler.setSelected()},slideChangeTransitionEnd:function(b,f){var e=c(b.wrapperEl);b=e.closest(a.selector.list).find(".feature-benefit-bundle__disclaimer\x3eul\x3eli");e=e.find(".swiper-slide");var d=e.eq(f).find(a.selector.bundleVideo);b.removeClass("js-disc-active");b.eq(f).addClass("js-disc-active");e.removeClass("js-item-active");e.eq(f).addClass("js-item-active");a.handler.controlVideo(d.find(".video"),"slide");e.find(".feature-benefit-list__image").attr("aria-hidden",
!0);e.eq(f).find(".feature-benefit-list__image").attr("aria-hidden",!1)},playAfterload:function(a){!0===a.target.autoplay&&a.target.play()},controlVideo:function(b,f){if(!0===a.playFlag&&null!==a.playEl){a.playEl.attr("aria-hidden",!0);var e=a.playEl.find("video");e.attr("tabindex",-1);e=e.target[0];e.pause();"slide"===f&&0!==e.currentTime&&(e.currentTime=0);a.playFlag=!1;a.playEl=null}if(b.target.length){b.attr("aria-hidden",!1);b.find("video").attr("tabindex","0");setTimeout(function(){b.removeAttr("tabindex")},
500);e=b.target[0];var c=b.find("video").target[0];"slide"!==f&&(c.pause(),0!==c.currentTime&&(c.currentTime=0));JSON.parse(e.dataset.videoData).autoplay?0===c.readyState?(c.removeEventListener("loadeddata",a.handler.playAfterload),c.addEventListener("loadeddata",a.handler.playAfterload)):setTimeout(function(){c.play()},150):c.load();a.playEl=b;a.playFlag=!0}},checkImageLoad:function(b){h.slideUpdate(a.ele.section.find(a.selector.swiperContainer).target[0]);a.handler.resize();c(b.target).off("load",
a.handler.checkImageLoad)},slideMove:function(a){var b=c(a.target).closest(".arrow-indicator");a=c(a.target).closest(".basic-swiper").target[0];b.hasClass("arrow-indicator--next")?a.swiper.slideNext():a.swiper.slidePrev()},slideSetting:function(){a.ele.section.find(a.selector.swiperContainer).target.forEach(function(b){h.slideInitEnd(b,a.handler.slideInitEnd);b.swiper.params.navigation.nextEl=".arrow-indicator--next";b.swiper.params.navigation.prevEl=".arrow-indicator--prev";b.swiper.navigation.init();
b.swiper.on("slideChange",a.handler.slideChange)})},slideInitEnd:function(){setTimeout(function(){a.handler.arrowPosition(a.activeIndex)},800)},slideChange:function(){var b=a.ele.section.find(a.selector.swiperContainer).target[0].swiper.activeIndex;a.handler.arrowPosition(b);a.activeIndex=b;a.activeIndex+1===a.ele.section.find(a.selector.swiperContainer).find(".swiper-slide").target.length&&a.ele.section.find(a.selector.swiperContainer).find(".arrow-indicator--prev").focus();0===a.activeIndex&&a.ele.section.find(a.selector.swiperContainer).find(".arrow-indicator--next").focus()},
arrowPosition:function(b){var c=a.ele.section.find(".feature-benefit-list__item").eq(b).find(".feature-benefit-list__image"),e=a.ele.section.find(".arrow-indicator-wrap");b=a.ele.section.find(".feature-benefit-list__item").eq(b).height();var d=c.height();0<c.target.length?e.css({top:b-d+d/2+"px"}):e.css({top:"50%"})}};g.instances.set(d,this);this.init()};g.prototype.init=function(){this.setProperty();this.bindEvents()};g.prototype.reInit=function(){this.mobileFlag=this.desktopFlag=!1;this.playEl=
null;this.isVideo=this.playFlag=!1;this.unBindEvents();this.init()};g.prototype.setProperty=function(){var d=this;this.ele.list=this.ele.section.find(this.selector.list);this.ele.listWrap=this.ele.section.find(this.selector.listWrap);this.ele.indicator=this.ele.section.find(this.selector.indicator);this.ele.imageWrap=this.ele.section.find(this.selector.imageWrap);this.ele.item=this.ele.section.find(this.selector.item);this.ele.itemCta=this.ele.section.find(this.selector.itemCta);this.ele.disclaimer=
this.ele.section.find(this.selector.disclaimer);this.ele.allVideoEl=this.ele.section.find(this.selector.allVideoEl);this.ele.allVideoEl.target.forEach(function(a){!0!==JSON.parse(a.dataset.videoData).autoplay&&(c(a).find("video").target[0].paused||k.stop(a));d.isVideo=!0;a.setAttribute("aria-hidden",!0);c(a).find("video").attr("tabindex",-1)});var a=this.ele.list.find(".js-item-active");if(0<a.find(this.selector.allVideoEl).target.length){a=a.find(this.selector.allVideoEl);var b=JSON.parse(a.target[0].dataset.videoData),
f=a.find("video").target[0];!0===b.autoplay&&(0<f.currentTime&&(f.currentTime=0),k.play(a.target[0]))}};g.prototype.bindEvents=function(){var c=this;this.ele.window.on("resize",this.handler.resize);this.ele.section.find(this.selector.swiperContainer).target.forEach(function(a){h.slideChangeTransitionEnd(a,c.handler.slideChangeTransitionEnd)});this.handler.resize();this.ele.section.find(this.selector.loadImage).on("load",this.handler.checkImageLoad)};g.prototype.unBindEvents=function(){this.ele.window.off("resize",
this.handler.resize);this.ele.section.find(this.selector.loadImage).off("load",this.handler.checkImageLoad)};g.instances=new WeakMap;var m=function(d){d=void 0===d?null:d;null===d?c(".feature-benefit-list").target.forEach(function(a){new g(a)}):d instanceof Element?new g(d):c(".feature-benefit-list").target.forEach(function(a){new g(a)})};c.ready(m);window.sg.components.featureBenefitList={init:m,reInit:function(d){d=void 0===d?null:d;l.initAll();if(null===d)c(".feature-benefit-list").target.forEach(function(a){var b=
c(a),d=b.find(".swiper-container").target[0];(b=b.find("div.video").target[0])&&k.init(b);g.instances.has(a)?(h.slideReInit(d),g.instances.get(a).reInit()):(h.slideInit(d),new g(a))});else if(d instanceof Element){var a=c(d),b=a.find(".swiper-container").target[0];(a=a.find("div.video").target[0])&&k.init(a);g.instances.has(d)?(h.slideReInit(b),g.instances.get(d).reInit()):(h.slideInit(b),new g(d))}else c(".feature-benefit-list").target.forEach(function(a){var b=c(a),d=b.find(".swiper-container").target[0];
(b=b.find("div.video").target[0])&&k.init(b);g.instances.has(a)?(h.slideReInit(d),g.instances.get(a).reInit()):(h.slideInit(d),new g(a))})}}})();