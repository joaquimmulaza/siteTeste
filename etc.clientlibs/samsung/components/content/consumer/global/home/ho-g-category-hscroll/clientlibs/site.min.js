(function(){var d=window.sg.common.$q,c=function(a){this.els={window:d(window),el:a,scrollbarWrapEl:a.querySelector(".scrollbar__wrap"),imageWrapEls:a.querySelectorAll(".category-slider__card-img-wrap"),titleWrapEls:a.querySelectorAll(".category-slider__card-title-wrap"),mainProductTitleWrapEls:a.querySelectorAll(".main-product .category-slider__card-title-wrap"),subProductTitleWrapEls:a.querySelectorAll(".sub-product .category-slider__card-title-wrap"),subProductEl:a.querySelector(".sub-product"),
ctaEl:a.querySelector(".cta")};this.lazyLoad=window.sg.common.lazyLoad;this.getCurrentDevice=window.sg.common.utils.getCurrentDevice;this.currentDevice=this.getCurrentDevice();this.maxHeight=0;this.isSmallCard=a.classList.contains("small-card");this.handler={scroll:this.handleScroll.bind(this)};this.init()};c.prototype.init=function(){c.instances.has(this.els.el)||(c.instances.set(this.els.el,this),this.loadImageManually(),this.bindEvents())};c.prototype.bindEvents=function(){var a=this;this.els.window.off("scroll",
this.handler.scroll).on("scroll",this.handler.scroll);this.els.scrollbarWrapEl&&this.els.scrollbarWrapEl.addEventListener("scroll",this.handler.scroll);this.isSmallCard?this.els.el.classList.contains("use-folding-type")?(this.els.ctaEl.addEventListener("click",function(){a.els.ctaEl.classList.contains("open")?(a.els.ctaEl.classList.remove("open"),a.els.ctaEl.querySelector("span").innerHTML=a.els.ctaEl.dataset.openText,a.els.ctaEl.setAttribute("aria-label",a.els.ctaEl.dataset.openText),a.els.subProductEl.classList.remove("open"),
window.scrollTo(0,window.pageYOffset+a.els.el.getBoundingClientRect().top)):(a.els.ctaEl.classList.add("open"),a.els.ctaEl.querySelector("span").innerHTML=a.els.ctaEl.dataset.closeText,a.els.ctaEl.setAttribute("aria-label",a.els.ctaEl.dataset.closeText),a.els.subProductEl.classList.add("open"),a.loadImageManually(),a.setTextWrapHeight("sub"))}),window.addEventListener("resize",function(){a.setTextWrapHeight("all");a.loadImageManually()}),this.setTextWrapHeight("main")):(window.addEventListener("resize",
function(){a.setTextWrapHeight("small");a.loadImageManually()}),this.setTextWrapHeight("small")):window.addEventListener("resize",function(){a.loadImageManually()})};c.prototype.handleScroll=function(){this.loadImageManually()};c.prototype.setTextWrapHeight=function(a){if("mobile"===this.getCurrentDevice()){"desktop"===this.currentDevice&&(this.currentDevice=this.getCurrentDevice());if("all"===a||"main"===a)for(var b=0;b<this.els.mainProductTitleWrapEls.length;b++)0===b&&(this.maxHeight=0),this.els.mainProductTitleWrapEls[b].getBoundingClientRect().height>
this.maxHeight&&(this.maxHeight=this.els.mainProductTitleWrapEls[b].getBoundingClientRect().height),0===(b+1)%3&&(this.els.mainProductTitleWrapEls[b-2].style.minHeight=this.maxHeight+"px",this.els.mainProductTitleWrapEls[b-1].style.minHeight=this.maxHeight+"px",this.els.mainProductTitleWrapEls[b].style.minHeight=this.maxHeight+"px",this.maxHeight=0),b+1===this.els.mainProductTitleWrapEls.length&&2===(b+1)%3&&(this.els.mainProductTitleWrapEls[b-1].style.minHeight=this.maxHeight+"px",this.els.mainProductTitleWrapEls[b].style.minHeight=
this.maxHeight+"px");if("all"===a||"sub"===a)for(b=0;b<this.els.subProductTitleWrapEls.length;b++)0===b&&(this.maxHeight=0),this.els.subProductTitleWrapEls[b].getBoundingClientRect().height>this.maxHeight&&(this.maxHeight=this.els.subProductTitleWrapEls[b].getBoundingClientRect().height),0===(b+1)%3&&(this.els.subProductTitleWrapEls[b-2].style.minHeight=this.maxHeight+"px",this.els.subProductTitleWrapEls[b-1].style.minHeight=this.maxHeight+"px",this.els.subProductTitleWrapEls[b].style.minHeight=this.maxHeight+
"px",this.maxHeight=0),b+1===this.els.subProductTitleWrapEls.length&&2===(b+1)%3&&(this.els.subProductTitleWrapEls[b-1].style.minHeight=this.maxHeight+"px",this.els.subProductTitleWrapEls[b].style.minHeight=this.maxHeight+"px");if("small"===a){for(a=0;a<this.els.titleWrapEls.length;a++)0===a&&(this.maxHeight=0),this.els.titleWrapEls[a].getBoundingClientRect().height>this.maxHeight&&(this.maxHeight=this.els.titleWrapEls[a].getBoundingClientRect().height);for(a=0;a<this.els.titleWrapEls.length;a++)this.els.titleWrapEls[a].style.minHeight=
this.maxHeight+"px"}}else if("mobile"===this.currentDevice){for(a=0;a<this.els.mainProductTitleWrapEls.length;a++)this.els.mainProductTitleWrapEls[a].removeAttribute("style");for(a=0;a<this.els.subProductTitleWrapEls.length;a++)this.els.subProductTitleWrapEls[a].removeAttribute("style");for(a=0;a<this.els.titleWrapEls.length;a++)this.els.titleWrapEls[a].removeAttribute("style");this.currentDevice=this.getCurrentDevice()}};c.prototype.isSliderItemVisible=function(a){var b=this.els.el.getBoundingClientRect();
a=a.getBoundingClientRect();var c=a.left>=b.left&&a.left<=b.right||a.right>=b.left&&a.right<=b.right;return(a.top>=b.top&&a.top<=b.bottom||a.bottom>=b.top&&a.bottom<=b.bottom)&&c};c.prototype.loadImageManually=function(){var a=this;this.els.imageWrapEls.forEach(function(b){window.sg.common.utils.isVisible(b)&&a.isSliderItemVisible(b)&&window.sg.common.lazyLoad.setLazyLoadManually(b)})};c.instances=new WeakMap;var e={initAll:function(){document.querySelectorAll(".category-slider").forEach(function(a){c.instances.has(a)||
new c(a)})}};window.sg.components.categoryHscroll=e;d.ready(function(){return e.initAll()})})();