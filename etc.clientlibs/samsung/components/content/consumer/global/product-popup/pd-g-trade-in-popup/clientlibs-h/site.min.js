var tradeInRecaptcha,tradeinData=function(){function Na(){var a=$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__seca-imei-wrap");null!=J&&""!==J&&(trlayerPopFlag=5<J.length||5>J.length?!1:!0);trlayerPopFlag?(JSON.stringify({sku:z,postal_code:J}),$.ajax({url:M+"/"+v+"/servicesv2/postal-code-check/getTradeInTat/"+z+"?postCode\x3d"+J,type:"GET",dataType:"json",xhrFields:{withCredentials:!0},async:!0,success:function(b){null!=b&&b.valid?(deviceOffers=b,a.find(".text-field-v2.no-title").removeClass("error").addClass("success"),
$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)):(a.find(".text-field-v2.no-title").removeClass("success").addClass("error"),$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),a.find(".text-field-v2__text.error").html(Granite.I18n.get("Trade-in is not available at your zipcode.")))},
error:function(b){a.find(".text-field-v2.no-title").removeClass("success").addClass("error");var c=Granite.I18n.get("We're sorry, an error occurred.");null!=b.responseJSON&&(b=b.responseJSON,null!=b.message&&""!==b.message&&(c=b.message));a.find(".text-field-v2__text.error").html(c)}})):(a.find(".text-field-v2.no-title").removeClass("success").addClass("error"),$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),a.find(".text-field-v2__text.error").html(Granite.I18n.get("Please enter your Zipcode")))}
function Oa(){var a=0;b.configuratorBaseData={};b.configuratorBaseData.baseName="";b.configuratorBaseData.Samsung=[];var c=b._tradeInJsonData.companies;if(0<c.length)for(var d=0;d<c.length;d++)null!=c[d].company&&(-1<c[d].company.toLowerCase().indexOf("samsung")?b.configuratorBaseData.Samsung.push(c[d]):(null==b.configuratorBaseData[c[d].company]&&(b.configuratorBaseData[c[d].company]=[],b.configuratorBaseData.baseName=""===b.configuratorBaseData.baseName?c[d].company:b.configuratorBaseData.baseName+
","+c[d].company),b.configuratorBaseData[c[d].company].push(c[d])));c=b.configuratorBaseData.baseName.split(",");c.sort();0<b.configuratorBaseData.Samsung.length&&(c.unshift("Samsung"),b.configuratorBaseData.baseName=c.join());var f="";0<c.length&&$.each(c,function(c,d){null!=b.configuratorBaseData[d]&&$.each(b.configuratorBaseData[d],function(d,e){if(null!=e.company&&""!==e.company&&"null"!==e.company){if("id"===g)f+='\x3cli class\x3d"trade-in-popup__dropdown--select-item" brandName\x3d"'+e.company+
'" an-tr\x3d"header(pim)_trade in-'+G+'-text-category" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+e.company.toLowerCase()+'" data-modelname\x3d"'+C+'" data-modelcode\x3d"'+D+'"\x3e',f+='\t\x3ca href\x3d"javascript:void(0);" role\x3d"option"\x3e',f+='\t\t\x3cspan class\x3d"trade-in-popup__dropdown--select-item-name"\x3e'+e.company+"\x3c/span\x3e",f+="\t\x3c/a\x3e";else{f+='\x3cli class\x3d"trade-in-popup__brand-item"\x3e';f+='\t\x3cinput type\x3d"radio" id\x3d"brand-'+
c+d+'" name\x3d"brand" class\x3d"trade-in-popup__brand-item-input hidden" brandName\x3d"'+e.company+'" an-tr\x3d"header(pim)_trade in-'+G+'-text-category" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+e.company.toLowerCase()+'" data-modelname\x3d"'+C+'" data-modelcode\x3d"'+D+'"\x3e';f+='\t\x3clabel for\x3d"brand-'+c+d+'" class\x3d"trade-in-popup__brand-item-label"\x3e';f+='\t\t\x3cspan class\x3d"trade-in-popup__brand-item-name"\x3e'+e.company+"\x3c/span\x3e";
f+='\t\t\x3cspan class\x3d"trade-in-popup__brand-item-price"\x3e';if(!b._useQuestion||N||"se"===g||"dk"===g||"fi"===g||"no"===g){d=null!=e.uptoprice&&e.uptoprice?e.uptoprice:0;var h=null!=e.cashback&&e.cashback?e.cashback:0;f+="\t\t\x3cspan\x3e"+Granite.I18n.get("Up to")+"\x3c/span\x3e";f="pt"===g?f+("\t\t\t\x3cem\x3e"+currencyComma(parseFloat(d)+parseFloat(h),k)+"\x3c/em\x3e"):f+("\t\t\t\x3cem\x3e-"+currencyComma(parseFloat(d)+parseFloat(h),k)+"\x3c/em\x3e")}f+="\t\t\x3c/span\x3e";f+="\t\x3c/label\x3e"}f+=
"\x3c/li\x3e";d=null!=e.uptoprice&&e.uptoprice?e.uptoprice:0;e=null!=e.cashback&&e.cashback?e.cashback:0;parseFloat(d)+parseFloat(e)>a&&(a=parseFloat(d)+parseFloat(e))}})});"id"===g?($(".trade-in-popup .trade-in-popup__brand-dropdown-wrap .scrollbar__contents").html(f),window.sg.components.tradeInPopup.bindDropdownEvent(),$(".trade-in-popup .trade-in-popup__model-dropdown-wrap .scrollbar__contents li:not(:first-child)").remove(),window.sg.components.tradeInPopup.bindModelDropdownItemEvent()):b._layerWrap.find(".trade-in-popup__brand-wrap .trade-in-popup__brand-list").html(f);
return a}function ia(){var a="",c=0;"nz"!==g&&null!=b._tradeInJsonData.termsandcond&&Object.values(b._tradeInJsonData.termsandcond)[0]&&(a=m?a+('\x3cstrong class\x3d"trade-in-popup__confirm-terms-title"\x3e'+Granite.I18n.get("To apply the estimated trade-in value to your purchase, read and accept the terms and conditions of the program included below.")+"\x3c/strong\x3e"):a+('\x3cstrong class\x3d"trade-in-popup__confirm-terms-title"\x3e'+Granite.I18n.get("Confirm Terms and Conditions")+"\x3c/strong\x3e"));
$.each(b._tradeInJsonData.termsandcond,function(d,e){"it"==g&&("Y"==b._instantdiscount?"termsandcond1"==d&&(e=null):"termsandcond1"!=d&&(e=null));null!=e&&(c++,a+='\x3cdiv class\x3d"trade-in-popup__confirm-terms-checkbox-wrap is-required"\x3e',a+='\t\x3cdiv class\x3d"checkbox-v2"\x3e',a+='\t\t\x3cinput type\x3d"checkbox" name\x3d"checkbox" class\x3d"hidden" id\x3d"trade-chk'+c+'"\x3e',a+='\t\t\t\x3clabel class\x3d"checkbox-v2__label" for\x3d"trade-chk'+c+'"\x3e',a+='\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-box-wrap"\x3e',
a+='\t\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-box"\x3e',a+='\t\t\t\t\t\x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false"\x3e',a+='\t\t\t\t\t\t\x3cuse xlink:href\x3d"#done-bold" href\x3d"#done-bold"\x3e\x3c/use\x3e',a+="\t\t\t\t\t\x3c/svg\x3e",a+="\t\t\t\t\x3c/span\x3e",a+="\t\t\t\x3c/span\x3e",a+='\t\t\t\x3cspan class\x3d"checkbox-v2__label-text"\x3e'+e+"\x3c/span\x3e",a+="\t\t\x3c/label\x3e",a+="\t\x3c/div\x3e",a+="\x3c/div\x3e")});"au"===g&&(a+='\x3cdiv class\x3d"trade-in-popup__confirm-terms-checkbox-wrap is-required"\x3e\n\t\t\t\t\t\x3cdiv class\x3d"checkbox-v2"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"checkbox" name\x3d"checkbox" class\x3d"hidden" id\x3d"trade-chk'+
c+'"\x3e\n\t\t\t\t\t\t\t\x3clabel class\x3d"checkbox-v2__label" for\x3d"trade-chk'+c+'"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-box-wrap"\x3e\n\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-box"\x3e\n\t\t\t\t\t\t\t\t\t\x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cuse xlink:href\x3d"#done-bold" href\x3d"#done-bold"\x3e\x3c/use\x3e\n\t\t\t\t\t\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-text"\x3eAgree to a pre-authorisation charge for an amount equal to the trade-in amount you received on your trade-in device**\x3c/span\x3e\n\t\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e');
""!==a?(0===$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").length&&$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__disclaimer-wrap, .trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__logo-wrap").after('\x3cdiv class\x3d"trade-in-popup__confirm-terms"\x3e\x3c/div\x3e'),a+='\x3cp class\x3d"trade-in-popup__confirm-terms-required-field"\x3e'+Granite.I18n.get("* Required field")+"\x3c/p\x3e","th"===g&&(a+='\x3cp class\x3d"trade-in-popup__apply-failed"\x3e'+
Granite.I18n.get("Authorization failed. Please check that you have sufficient funds in your account and try again.")+"\x3c/p\x3e"),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").html(a)):($(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").remove(),$(".trade-in-popup .trade-in-popup__apply-wrap").find("button.trade-in-popup__btn-apply").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__apply-wrap").find("button.trade-in-popup__btn-apply").attr("disabled",
!1));var d=b._layerWrap,f=b._brand,e=b._model,h=b._discountPrice,q=b._cashbackPrice;K&&S&&(d.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-brand").text(f),d.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-model").text(e),d.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-desc").remove(),f="",0<h&&(f+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e-'+currencyComma(h,k)+" ("+Granite.I18n.get("Upfront discount")+")\x3c/span\x3e"),0<
q&&(f=f+'\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+("-"+currencyComma(q,k)+" ("+Granite.I18n.get("Cashback")+")\x3c/span\x3e")),""!=f&&d.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").after(f));"th"===g&&h&&0===parseInt(h)&&(wa=!1,d=$(".trade-in-popup__apply-wrap .trade-in-popup__confirm-terms"),d.find(".trade-in-popup__confirm-terms-title").remove(),d.find(".trade-in-popup__confirm-terms-checkbox-wrap").remove(),d.find(".trade-in-popup__confirm-terms-required-field").remove(),
d.find(".trade-in-popup__apply-failed").html(Granite.I18n.get("Sorry! Your device is not satisfied the condition for trade-in.")))}function ja(a){if(null!=a){if(null!=a.companies&&0<a.companies.length){b._useImeivalidation=a.useimeivalidation;b._useQuestion=a.usequestion;b._tradeInJsonData=a;b._provider=a.provider;y(a.chooseInstantDiscountOrCashback)&&(b._chooseInstantDiscountOrCashback=a.chooseInstantDiscountOrCashback);if(Pa){var c=a.tradeInFlowConfig;b._dummyImei=c.dummyImei;b._hiddenSteps=c.hiddenSteps;
b._preselectedSteps=c.hiddenSteps}c=0;E||"sg"===g||u||l?(b._useQuestion=!0,b._useImeivalidation=!0,b._step="sg"===g||u||l?["discount","device-seca","imei","condition","apply"]:p?["discount","imei","apply"]:"nz"==g?["sepco-device","imei","condition","apply"]:m?["discount","sepco-device","condition","apply"]:["discount","imei","condition","apply"]):b._step="nl"===g||"be"===g||"be_fr"===g?b._useQuestion?["brand","model","condition","apply"]:["brand","model","apply"]:"au"===g||"nz"===g||"za"===g||"my"===
g?["discount","trade-in-id","apply"]:"id"===g?["zipcode","imei","apply"]:"fr"===g?["brand","model","condition","imei","apply"]:K&&S?b._useQuestion?["brand","model","condition","apply"]:["brand","model","apply"]:"it"===g?b._useQuestion?["brand","model","condition","imei","apply"]:["brand","model","imei","apply"]:b._useQuestion?["brand","model","imei","condition","apply"]:["brand","model","imei","apply"];"it"==g&&(b._step.unshift("discount"),(b._chooseInstantDiscountOrCashback||"true"==b._chooseInstantDiscountOrCashback)&&
b._step.unshift("instant-discount"));"au"!==g&&"nz"!==g&&"za"!==g&&"my"!==g&&(!E&&(c=Oa(),"be"==g||"be_fr"==g||"nl"==g||l)&&(c=parseFloat(a.maxUpToPrice)),ia());Qa&&Ra.render(b._step);O&&Y.init();ka&&xa.init();b._step.includes("sepco-device")&&U.init();ya&&(b._defaultStep=b._step);var d={};d.maxDiscount=c;d.flag=0<b._tradeInJsonData.companies.length?!0:!1;d.directOutLink=null!=b._tradeInJsonData.directlink&&!0===b._tradeInJsonData.directlink?!0:!1;d.maxTradeInsAllowed=1;d.minOrderEntryValue=0;if(null!=
a.maxTradeInsAllowed)d.maxTradeInsAllowed=a.maxTradeInsAllowed;else if("sg"==g||"vn"==g)d.maxTradeInsAllowed=3;null!=a.minOrderEntryValue&&(d.minOrderEntryValue=a.minOrderEntryValue);za=d.maxTradeInsAllowed}else E&&(b._useQuestion=!0,b._useImeivalidation=!0,b._step=p?["discount","imei","apply"]:["discount","imei","condition","apply"]);window.sg.components.dynamic.DetailAfterEvent.drawTradeInWithPopup(d)}}function Sa(a,b){var c="",f="";null!=a.modelname&&""!==a.modelname&&(c=a.modelname.toLowerCase());
null!=b.modelname&&""!==b.modelname&&(f=b.modelname.toLowerCase());return null!=a.discountprice||null!=a.cashbackprice||null!=b.discountprice||null!=b.cashbackprice?(a=(null!=a.discountprice?parseFloat(a.discountprice):0)+(null!=a.cashbackprice?parseFloat(a.cashbackprice):0),b=(null!=b.discountprice?parseFloat(b.discountprice):0)+(null!=b.cashbackprice?parseFloat(b.cashbackprice):0),a===b?c>f?-1:c<f?1:0:b-a):c<f?-1:c>f?1:0}function Aa(a){var c="";null!=b._tradeInJsonData.companies&&0<b._tradeInJsonData.companies.length&&
b._tradeInJsonData.companies.filter(function(d){$.trim(d.company)===$.trim(a)&&(null!=d.models&&"it"!=g&&d.models.sort(Sa),$.each(d.models,function(d,e){if(null!=e.modelname&&""!=e.modelname&&"null"!==e.modelname){if("id"===g)c+='\x3cli class\x3d"trade-in-popup__dropdown--select-item" modelIndex\x3d"'+d+'" an-tr\x3d"header(pim)_trade in-'+G+'-text-device model" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+a.toLowerCase()+":"+e.modelname.toLowerCase()+'" data-modelname\x3d"'+
C+'" data-modelcode\x3d"'+D+'"\x3e',c+='\t\x3ca href\x3d"javascript:void(0);" role\x3d"option"\x3e',c+='\t\t\x3cspan class\x3d"trade-in-popup__dropdown--select-item-name"\x3e'+e.modelname+"\x3c/span\x3e",c+='\t\t\x3cspan class\x3d"trade-in-popup__dropdown--select-item-price"\x3e'+Granite.I18n.get("Up to")+" "+currencyComma(e.discountprice,k)+"\x3c/span\x3e",c+="\t\x3c/a\x3e";else{var f=null!=e.description&&e.description?e.description:"",q=null!=e.discountprice&&e.discountprice?e.discountprice:0,w=
null!=e.cashbackprice&&e.cashbackprice?e.cashbackprice:0;c="it"===g||"es"===g||"pt"===g||K?c+'\x3cli class\x3d"trade-in-popup__model-item trade-in-popup__model-item--multi-line"\x3e':c+'\x3cli class\x3d"trade-in-popup__model-item"\x3e';c+='\t\x3cinput type\x3d"radio" id\x3d"model-'+d+'" name\x3d"model" class\x3d"trade-in-popup__model-item-input hidden" modelIndex\x3d"'+d+'" an-tr\x3d"header(pim)_trade in-'+G+'-text-device model" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+
a.toLowerCase()+":"+e.modelname.toLowerCase()+'" data-modelname\x3d"'+C+'" data-modelcode\x3d"'+D+'"\x3e';c+='\t\x3clabel for\x3d"model-'+d+'" class\x3d"trade-in-popup__model-item-label"\x3e';c+='\t\t\x3cspan class\x3d"trade-in-popup__model-item-name"\x3e'+e.modelname+"\x3c/span\x3e";c+='\t\t\x3cspan class\x3d"trade-in-popup__model-item-price"\x3e';if(!b._useQuestion||N||V)"it"===g||K?(c+="\t\t\t\t     \x3cem\x3e",null!=e.discountprice&&e.discountprice&&(c+=currencyComma(q,k)+" "+Granite.I18n.get("Upfront discount")),
null!=e.discountprice&&e.discountprice&&null!=e.cashbackprice&&e.cashbackprice&&(c+="\x3cbr/\x3e+"),null!=e.cashbackprice&&e.cashbackprice&&(c+=currencyComma(w,k)+" "+Granite.I18n.get("Cashback")),c+="\x3c/em\x3e"):"es"===g?(c+="\t\t\t\t     \x3cem\x3e",c=null!=e.discountprice&&e.discountprice?c+(Granite.I18n.get("Value to")+" \x3cb\x3e"+currencyComma(q+w,k)+"\x3c/b\x3e\u00a0"+Granite.I18n.get("include promotion")):c+(Granite.I18n.get("Up to")+" -"+currencyComma(w,k)+" "+Granite.I18n.get("Cashback")),
c+="\x3c/em\x3e"):"pt"===g?(c+="\t\t\t\t     \x3cem\x3e",null!=e.discountprice&&e.discountprice&&(c+=currencyComma(q,k)+" "+Granite.I18n.get("Upfront discount")),null!=e.discountprice&&e.discountprice&&null!=e.cashbackprice&&e.cashbackprice&&(c+="\x3cbr/\x3e"),null!=e.cashbackprice&&e.cashbackprice&&(c+=Granite.I18n.get("Up to")+" "+currencyComma(w,k)+" "),c+=" \t\t\t\t\t \x3c/em\x3e"):c="nl"===g||"be"===g||"be_fr"===g?c+("  \t\t\t\t \t \x3cem\x3e-"+currencyCommaExcep(parseFloat(q),k)+"\x3c/em\x3e"):
c+("                    \x3cem\x3e-"+currencyComma(parseFloat(q)+parseFloat(w),k)+(""!==f?"("+f+")":"")+"\x3c/em\x3e");c+="  \t\x3c/span\x3e";c+="\t\x3c/label\x3e"}c+="\x3c/li\x3e"}}))});"id"===g?($(".trade-in-popup .trade-in-popup__model-dropdown-wrap .scrollbar__contents li:not(:first-child)").remove(),$(".trade-in-popup .trade-in-popup__model-dropdown-wrap .scrollbar__contents").append(c),window.sg.components.tradeInPopup.bindModelDropdownItemEvent()):"pl"===g?$(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-list.trade-in-popup__model-list--sepol").html(c):
$(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-list").html(c)}function P(a){a="";a=N?M+"/"+v+"/assessment/TRADE_IN":A+"/"+v+"/assessment/TRADE_IN";var c={productCode:b._conditionSeriveCode};if(E||"sg"===g||l)c={imei:b._value,productCode:b._conditionSeriveCode};"nz"===g&&(c.provider="ASSURANTV2");r&&(c.provider="FOXWAY");m&&(c.imei=b._dummyImei);var d="true"===$("#isEppPage").val()?{withCredentials:!0}:{};$.ajax({url:a,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:d,
timeout:1E4,data:c,success:function(a){if(null!=a.questions&&0<a.questions.length){b._condisionJsonData=a;Ta();a=$(".trade-in-popup .trade-in-popup__condition-wrap li.trade-in-popup__condition-list-item, .trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms input,.trade-in-popup .trade-in-popup__condition-wrap .checkbox-v2__input").length;var c=$(".trade-in-popup .trade-in-popup__condition-wrap input:checked").length;a===c&&"sg"==g&&($(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),
$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("disabled",!1),$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").click());l&&(b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue").removeClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!1),$("#voucherCode").val(""));l||window.sg.components.tradeInPopup.bindTooltipEvent();
O&&Y.callBackWhenConditionGridDone()}},error:function(a){errLayerPop(a)}})}function Ta(){var a="",c="",d="";r?null!=b._condisionJsonData.questions&&0<b._condisionJsonData.questions.length&&(a+=b._condisionJsonData.questions.map(function(a,b){return'\n\t\t\t\t\t\t\x3cli class\x3d"trade-in-popup__condition-list-item"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__condition-list-text"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__condition-list-number"\x3e\n\t\t\t\t\t\t\t\t'+(b+1).toString().padStart(2,
"0")+'\n\t\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\t\x3cp class\x3d"trade-in-popup__condition-list-item-option"\x3e'+a.description+'\x3c/p\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-tooltip"\x3e\n\t\t\t\t\t\t\t\t\t\x3cbutton type\x3d"button" class\x3d"trade-in-popup__condition-list-item-tooltip-btn"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("see what this means")+'\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\x3c/button\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-tooltip-box"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__condition-list-item-tooltip-box-arrow"\x3e\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-tooltip-box-text"\x3e\n\t\t\t\t\t\t\t\t\t\t\t'+
a.toolTip+'\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"'+(a.multichoice?"trade-in-popup__condition-list-item-radio-wrap":"trade-in-popup__condition-list-item-check-wrap")+'"\x3e\n\t\t\t\t\t\t\t\t'+a.answers.map(function(c){return'\n\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-check"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\x3cinput type\x3d"radio" \n\t\t\t\t\t\t\t\t\t\t\t\t\tid\x3d"condition-list-'+
b+"-"+c.value+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\tname\x3d"'+b+'" \n\t\t\t\t\t\t\t\t\t\t\t\t\tclass\x3d"trade-in-popup__condition-list-item-check-input hidden"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue\x3d"'+c.value+'"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-answer-name\x3d"'+a.code+'"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\x3clabel for\x3d"condition-list-'+b+"-"+c.value+'" class\x3d"trade-in-popup__condition-list-item-check-label"\x3e'+c.label+"\x3c/label\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e"}).join("")+"\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/li\x3e"}).join("")):
l?null!=b._condisionJsonData.questions&&0<b._condisionJsonData.questions.length&&($.each(b._condisionJsonData.questions,function(b,c){a+='\x3cli class\x3d"trade-in-popup__issue-list-item is-opened"\x3e';a+='\t\x3cdiv class\x3d"trade-in-popup__issue-list-item-num-wrap"\x3e';a+='\t\t\x3cp class\x3d"trade-in-popup__issue-list-item-num"\x3e0'+(b+1)+"\x3c/p\x3e";a+="\t\x3c/div\x3e";a+='\t\x3cdiv class\x3d"trade-in-popup__issue-list-item-text-wrap"\x3e';a+='\t\t\x3cstrong class\x3d"trade-in-popup__issue-list-item-title"\x3e'+
c.title+"\x3c/strong\x3e";a+="\t\x3c/div\x3e";a+='\t\x3cdiv class\x3d"trade-in-popup__issue-list-item-button-wrap"\x3e';a+='\t\t\x3cbutton class\x3d"trade-in-popup__issue-list-item-button"\x3e'+Granite.I18n.get("Edit")+"\x3c/button\x3e";a+="\x3c/div\x3e";var d="";5<c.answers.length&&(d="checkbox-multi-row");a+='\x3cdiv class\x3d"trade-in-popup__issue-list-item-details" '+d+'"\x3e';$.each(c.answers,function(d,e){a+='\t\x3cdiv class\x3d"trade-in-popup__issue-list-item-details-checkbox-wrap"\x3e';a+=
'\t\t\x3cdiv class\x3d"checkbox-v2"\x3e';a+='\t\t\t\x3cinput class\x3d"checkbox-v2__input" type\x3d"checkbox" name\x3d"'+c.questionId+'" id\x3d"conditionCheck'+b+"-"+d+'" value\x3d"'+e.value+'"\x3e';a+='\t\t\t\x3clabel class\x3d"checkbox-v2__label" for\x3d"conditionCheck'+b+"-"+d+'"\x3e';a+='\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-box-wrap"\x3e';a+='\t\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-box"\x3e';a+='\t\t\t\t\t\t\x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';
a+='\t\t\t\t\t\t\t\x3cuse xlink:href\x3d"#done-bold" href\x3d"#done-bold"\x3e\x3c/use\x3e';a+="\t\t\t\t\t\t\x3c/svg\x3e";a+="\t\t\t\t\t\x3c/span\x3e";a+="\t\t\t\t\x3c/span\x3e";a+='\t\t\t\t\x3cspan class\x3d"checkbox-v2__label-text"\x3e'+e.label+"\x3c/span\x3e";a+="\t\t\t\x3c/label\x3e";a+="\t\t\x3c/div\x3e";a+="\t\x3c/div\x3e"});a+="\x3c/div\x3e"}),a+="\x3c/li\x3e"):u?null!=b._condisionJsonData.questions&&0<b._condisionJsonData.questions.length&&$.each(b._condisionJsonData.questions,function(c,d){$.each($(b._condisionJsonData.questions[c].description).find(".grade-item-container"),
function(b,c){a=4<$(c).find("li").length?a+'\x3cli class\x3d"trade-in-popup__condition-list-item"\x3e':a+'\x3cli class\x3d"trade-in-popup__condition-list-item single-selection"\x3e';a+='  \x3cdiv class\x3d"trade-in-popup__condition-list-item-option"\x3e';0===b&&(a+='\x3cspan class\x3d"trade-in-popup__condition-list-item-title"\x3e'+Granite.I18n.get("Is your device Grade A or Grade B condition?")+"\x3c/span\x3e");a+="\t\x3cul\x3e";$.each($(c).find("li"),function(b,c){a+="\x3cli\x3e"+$(c).text()+"\x3c/li\x3e"});
a+="\t\x3c/ul\x3e";a+="\x3c/div\x3e";a+='  \x3cdiv class\x3d"trade-in-popup__condition-list-item-check-wrap"\x3e';$.each(d.answers,function(c,e){b===c&&(a+='\x3cdiv class\x3d"trade-in-popup__condition-list-item-check"\x3e',a+='  \x3cinput type\x3d"radio" id\x3d"conditionCheck'+b+"-"+c+'" name\x3d"'+d.questionId+'" class\x3d"trade-in-popup__condition-list-item-check-input hidden" value\x3d"'+e.value+'"\x3e',a+='  \x3clabel for\x3d"conditionCheck'+b+"-"+c+'" class\x3d"trade-in-popup__condition-list-item-check-label"\x3e',
a+=e.label,a+="  \x3c/label\x3e",a+="\x3c/div\x3e")});a+="\x3c/div\x3e";a+="\x3c/li\x3e"})}):null!=b._condisionJsonData.questions&&0<b._condisionJsonData.questions.length&&($.each(b._condisionJsonData.questions,function(b,d){var e="";d.hideQuestion&&"sg"==g&&(e="hidden");a+='\x3cli class\x3d"trade-in-popup__condition-list-item '+e+'"\x3e';"th"===g?a+='\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-option"\x3e'+d.description+"\x3c/div\x3e":(a+='\x3cp class\x3d"trade-in-popup__condition-list-item-option"\x3e',
a+=d.description,a+="\x3c/p\x3e");a+='\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-check-wrap"\x3e';$.each(d.answers,function(c,f){a+='\t\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-check"\x3e';var h="hidden"==e&&"yes"==f.label.toLowerCase()?"checked":"";a=E||"sg"===g?a+('\t\t\x3cinput type\x3d"radio" id\x3d"inpRadio'+b+c+'" name\x3d"'+d.code+'" class\x3d"trade-in-popup__condition-list-item-check-input hidden" value\x3d"'+f.value+'" '+h+"\x3e"):a+('\t\t\x3cinput type\x3d"radio" id\x3d"inpRadio'+
b+c+'" name\x3d"'+f.name+'" class\x3d"trade-in-popup__condition-list-item-check-input hidden" value\x3d"'+f.value+'"\x3e');a+='\t\t\t\x3clabel for\x3d"inpRadio'+b+c+'" class\x3d"trade-in-popup__condition-list-item-check-label"\x3e'+f.label+"\x3c/label\x3e";a+="\t\t\x3c/div\x3e"});null!=d.toolTip&&""!==d.toolTip&&(a+='\x3cdiv class\x3d"trade-in-popup__condition-list-item-tooltip"\x3e',a+='\t\x3cbutton type\x3d"button" class\x3d"trade-in-popup__condition-list-item-tooltip-btn"\x3e',a+='\t\t\x3cspan class\x3d"blind"\x3e'+
Granite.I18n.get("see what this means")+"\x3c/span\x3e",a+="\t\x3c/button\x3e",a+='\t\x3cdiv class\x3d"trade-in-popup__condition-list-item-tooltip-box"\x3e',a+='\t\x3cspan class\x3d"trade-in-popup__condition-list-item-tooltip-box-arrow"\x3e\x3c/span\x3e',a+='\t\t\x3cp class\x3d"trade-in-popup__condition-list-item-tooltip-box-text"\x3e'+d.toolTip+"\x3c/p\x3e",a+="\t\x3c/div\x3e",a+="\x3c/div\x3e");a+="  \x3c/div\x3e";a+=" \x3c/div\x3e";a+="\x3c/li\x3e";O&&0==b&&(c=a,a="")}),O&&(d=a));l?b._layerWrap.find(".trade-in-popup__condition-wrap .trade-in-popup__issue-list").html(a):
O?(b._layerWrap.find(".trade-in-popup__condition-wrap .trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--yes .trade-in-popup__condition-list").html(c),b._layerWrap.find(".trade-in-popup__condition-wrap .trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--no .trade-in-popup__condition-list").html(d)):b._layerWrap.find(".trade-in-popup__condition-wrap .trade-in-popup__condition-list").html(a)}function Ua(a){var c="";null!=a.carriers&&0<a.carriers.length&&
$.each(a.carriers,function(a,b){null!=b.carrierName&&""!==b.carrierName&&"null"!==b.carrierName&&(c+='\t\x3cli class\x3d"trade-in-popup__carrier-list-item" data-role-service\x3d"'+b.carrierTradeinCode+'"\x3e',c+='\t\t\x3cinput type\x3d"radio" id\x3d"carrier-list-'+a+'" name\x3d"carrier-list" class\x3d"trade-in-popup__carrier-list-item-input hidden" an-tr\x3d"header(pim)_trade in-"'+G+'-text-carrier" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select carrier:"'+b.carrierName.toLowerCase()+
'" data-modelname\x3d"'+C+'" data-modelcode\x3d"'+D+'"\x3e',c+='\t\t\x3clabel for\x3d"carrier-list-'+a+'" class\x3d"trade-in-popup__carrier-list-item-label"\x3e'+b.carrierName+"\x3c/label\x3e",c+="\t\x3c/li\x3e")});b._layerWrap.find(".trade-in-popup__carrier-wrap .trade-in-popup__carrier-list").html(c)}function la(){var a=b._layerWrap,c=b._brand,d=b._model,f=b._price,e=b._discountPrice,h=b._cashbackPrice,q=b._promotion;"ru"==g&&a.find(".trade-in-popup__imei-condition-check-wrap input:radio[value\x3d'no']").prop("checked",
!0);a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-product-brand").text(c);a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-product-model").text(d);"es"===g&&void 0!==e&&0!==e||"pt"===g?a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price").text(null!=f?Granite.I18n.get("Up to")+" "+currencyComma(f,k):""):a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price").text(null!=f?"-"+currencyComma(f,k):"");a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-brand").text(c);
a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-model").text(d);"es"===g&&void 0!==e&&0!==e?a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price").text(null!=f?Granite.I18n.get("Up to")+" "+currencyComma(f,k)+"*":""):a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price").text(null!=f?"-"+currencyComma(f,k)+"*":"");c="";K?(0<e&&(c+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e-'+currencyComma(e,k)+" ("+Granite.I18n.get("Upfront discount")+
")\x3c/span\x3e"),0<h&&(c=c+'\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+("-"+currencyComma(h,k)+" ("+Granite.I18n.get("Cashback")+")\x3c/span\x3e")),""!=c&&(a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price-desc").remove(),a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").after(c),a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-desc").remove(),a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").after(c))):
"es"===g?(e=void 0!=e&&e?parseFloat(e):0,h=void 0!=h&&h?parseFloat(h):0,S?0<e?c=c+'\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+(Granite.I18n.get("Value to")+" \x3cb\x3e"+currencyComma(e+h,k)+"\x3c/b\x3e\x3cbr\x3e"+Granite.I18n.get("include promotion")+"\x3c/span\x3e"):(c=c+'\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+Granite.I18n.get("Up to"),c+="-"+currencyComma(h,k)+" ("+Granite.I18n.get("Cashback")+")\x3c/span\x3e"):c+='\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e'+
Granite.I18n.get("*Valoraci\u00f3n estimada")+"\x3c/span\x3e",""!=c&&(a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price-desc").remove(),a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").after(c),a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-desc").remove(),a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").after(c))):(a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price-desc").html(""!=
q?"("+q+")":""),a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-desc").html(""!=q?"("+q+")":""));b._useQuestion&&!V&&"it"!=g&&a.find(".trade-in-popup__imei-wrap .trade-in-popup__summary-price-wrap").remove()}function Ba(a){var c="";a=b._step[a];"zipcode"===a?c=".trade-in-popup__zipcode-wrap":"discount"===a?c=".trade-in-popup__discount-wrap":"trade-in-id"===a?c=".trade-in-popup__trade-in-id-wrap":"brand"===a?c=".trade-in-popup__brand-wrap":"model"===a?c=".trade-in-popup__model-wrap":
"carrier"===a?c=".trade-in-popup__carrier-wrap":"imei"===a?c=".trade-in-popup__imei-wrap":"device-seca"===a?c=".trade-in-popup__seca-select-wrap":"condition"===a?c=".trade-in-popup__condition-wrap":"apply"===a?c=".trade-in-popup__apply-wrap":"instant-discount"===a?c=".trade-in-popup__instant-discount-wrap":"sepco-device"===a&&(c=".trade-in-popup__sepco-device-wrap");window.sg.components.tradeInPopup.showStep(c);I--;Q()}function Va(a,c){var d="";a=b._step[a];if("discount"===a)d=".trade-in-popup__discount-wrap",
"it"==g?($(".trade-in-popup .trade-in-popup__discount-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__discount-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)):$(".trade-in-popup .trade-in-popup__discount-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");else if("trade-in-id"===a)d=".trade-in-popup__trade-in-id-wrap",$("#trade-in-id-input").val(""),$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__imei-form .text-field-v2").removeClass("error").removeClass("success").removeClass("active"),
$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),"au"===g&&(b._reCaptchaFlag=!1,c=$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__imei-form .text-field-v2"),c.addClass("disabled"),c.find(".text-field-v2__input, .text-field-v2__input-icon").attr("disabled","disabled"),0<$("#tradein-reCaptcha").html().length&&0<grecaptcha.getResponse(tradeInRecaptcha).length&&grecaptcha.reset(tradeInRecaptcha));else if("brand"===a)"it"==
g&&($(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__device-type-item .trade-in-popup__device-type-item-input").prop("checked",!1),$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-list .trade-in-popup__brand-item-input").prop("checked",!1),$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),d=".trade-in-popup__brand-wrap");else if("model"===a)d=".trade-in-popup__model-wrap",c=$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-item-input:checked").attr("brandName"),
Aa(c),$(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");else if("carrier"===a)d=".trade-in-popup__carrier-wrap",Ua(b._modelObj),$(".trade-in-popup .trade-in-popup__carrier-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");else if("imei"===a)(d=".trade-in-popup__imei-wrap",$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("error").removeClass("success").removeClass("active").removeClass("delete"),
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),"nz"==g&&b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".trade-in-popup__seca-imei--sub-title").removeClass("error"),E||"sg"===g||l||u?($("#seca-imei-input").val(""),$(".trade-in-popup .trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","none"),b._layerWrap.find(".trade-in-popup__brand-list-wrap").find("ul.trade-in-popup__brand-list").html("")):
$("#imei-input").val(""),E||"sg"===g||u||l||"it"===g)?"it"==g&&(la(),b._useQuestion&&b._conditionSeriveCode&&Z()):(la(),b._useQuestion&&P(b._conditionSeriveCode));else if("device-seca"===a)d=".trade-in-popup__seca-select-wrap","sg"===g||u?(t=[],Wa("",-1)):l?(t=[],W={},H={},T("",-1)):$(c.target||c.srcElement).hasClass("trade-in-popup__btn-continue")&&(b._layerWrap.find("ul.trade-in-popup__condition-list").html(""),window.sg.components.tradeInPopup.showStep(".trade-in-popup__"+a+"-wrap"),Ca(),P(b._conditionSeriveCode));
else if("condition"===a)d=".trade-in-popup__condition-wrap",Ca(),O&&Y.reset(),ma&&na(),("sg"===g||u||l||"it"===g||"nz"===g)&&P(b._conditionSeriveCode);else if("apply"===a){if(d=".trade-in-popup__apply-wrap",ka&&xa.reset(),"au"!==g&&"za"!==g&&"my"!==g&&"it"!==g&&(b._useQuestion&&b._conditionSeriveCode&&(!p||p&&b._vnselectboxstepYn)&&(m?Z(!0):Z()),ia()),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms input[type\x3d'checkbox']").prop("checked",!1),c=$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']"),
c=aa(c),"th"===g&&(wa||(c=!1)),c?($(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").attr("aria-disabled",!1)):$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").addClass("cta--disabled"),l)return}else"sepco-device"===a&&(d=".trade-in-popup__sepco-device-wrap");("es"===g||"pt"===g||K)&&S&&Da(d);ma&&"condition"===a||(window.sg.components.tradeInPopup.showStep(d),
I++,Q(),"sepco-device"===a&&(U.resetStep(),U.showStep(!1)))}function Da(a){"es"===g&&($(".trade-in-popup .trade-in-popup__btn-back").html(Granite.I18n.get("Back(TV)")),$(".trade-in-popup .trade-in-popup__btn-continue").html(Granite.I18n.get("Continue(TV)")),$(".trade-in-popup .trade-in-popup__btn-close").html(Granite.I18n.get("CLOSE(TV)")),$(".trade-in-popup .trade-in-popup__summary-price-title").html(Granite.I18n.get("Trade-in discount(TV)")));$(".trade-in-popup .trade-in-popup__disclaimer").html(Granite.I18n.get("Trade-In disclaimer(TV)"));
if(!r)switch(a){case ".trade-in-popup__brand-wrap":$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__title").html(Granite.I18n.get("Tell us your current brand to start trade-in!(TV)"));break;case ".trade-in-popup__model-wrap":$(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__title").html(Granite.I18n.get("Choose your model(TV)"));break;case ".trade-in-popup__imei-wrap":$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__title").html(Granite.I18n.get("Almost done! Please enter your IMEI number(TV)"));
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__sub-title").html(Granite.I18n.get("Introduce el IMEI caso tengas un dispositivo 3G/4G/5G o un N\u00famero de Serie caso tengas un dispositivo Wi-Fi(TV)"));a='\n\t\t\t\t\t\t\x3cstrong class\x3d"trade-in-popup__imei-method-title"\x3e'+Granite.I18n.get("Find your IMEI number(TV)")+'\x3c/strong\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__imei-seib"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"image"\x3e\n\t\t\t\t\t\t\t\t\x3cimg class\x3d"image__main lazy-load" data-src\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/tradein-imei-tv.png" alt\x3d"seib" role\x3d"img"\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__imei-method-sub-wrap"\x3e\n\t\t\t\t\t\t\t\x3cstrong class\x3d"trade-in-popup__imei-method-sub-title"\x3e'+
Granite.I18n.get("Trade-In imei sub title(TV)")+'\x3c/strong\x3e\n\t\t\t\t\t\t\t\x3cp class\x3d"trade-in-popup__imei-method-sub-desc"\x3e'+Granite.I18n.get("Trade-In imei sub description(TV)")+"\x3c/p\x3e\n\t\t\t\t\t\t\x3c/div\x3e";$(".trade-in-popup .trade-in-popup__imei .trade-in-popup__imei-method-wrap").html(a);$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__imei-form .text-field-v2__hint").html(Granite.I18n.get("IMEI number (15 digits)(TV)"));break;case ".trade-in-popup__apply-wrap":$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__title").html(Granite.I18n.get("Nice! All done. Check your final value to finish(TV)")),
$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__sub-title").remove(),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-message").html(Granite.I18n.get("*Actual trade-in discount might differ from estimated discount.(TV)")),[{src:"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/tradein-USB.png",description:Granite.I18n.get("Trade-In apply image desc_1(TV)")},{src:"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/tradein-Accesories.png",
description:Granite.I18n.get("Trade-In apply image desc_2(TV)")},{src:"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/tradein-Status.png",description:Granite.I18n.get("Trade-In apply image desc_3(TV)")}].forEach(function(a,b){$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__image-check-item-img img").eq(b).attr("src",a.src);$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__image-check-item-desc").eq(b).html(a.description)}),"es"===
g&&$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms-title").html(Granite.I18n.get("Confirm Terms and Conditions(TV)"))}}function ba(a){"Y"==a?(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list a").attr("href","javascript:;"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("There seems to be an issue")),
b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(Granite.I18n.get("We could not identify your device model based on the information provided. Please try one of the following options:"))):(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","none"),b._layerWrap.find(".trade-in-popup__brand-list-wrap").find("ul.trade-in-popup__brand-list").html(""),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),
b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!0))}function Xa(){var a=!1,c=window.sg.components.dynamic?window.sg.components.dynamic.detailSharedObj:null;c.isMultiTradeIn&&y(c.drawObj.tradeInResult)&&y(c.drawObj.tradeInResult.list)&&$.each(c.drawObj.tradeInResult.list,function(c,f){f.services.imeiKey==b._value&&(a=!0)});a&&($(".trade-in-popup").find(".trade-in-popup__seca-imei--warning-message-wrap").css("display","none"),$(".trade-in-popup").find(".text-field-v2.no-title").removeClass("success").addClass("error"),
$(".trade-in-popup").find(".text-field-v2__text.error").text(Granite.I18n.get("You cannot proceed with Trade-in as the Trade-in ID is invalid")));return a}function na(){var a=$("#imei-input").val();if("sg"===g||u||l||r||"nz"===g)a=$("#seca-imei-input").val();var c="";V||"es"===g?c="BRIGHTSTARV2":"ru"===g?c="BELMONT":"id"===g||r?c=b._provider:l?c="MRR":"nz"===g&&(c="ASSURANTV2");var d="";if("ru"==g)d=!1,"yes"===b._layerWrap.find(".trade-in-popup__imei-condition-check-wrap input:checked").val()&&(d=
!0),d={code:a,entryNumber:"",serviceProduct:b._serviceCode,provider:c,isScreenCracked:d};else if(l){for(var f=d="",e=0;e<H.selectionResponses.length;e++){var h=H.selectionResponses[e];if("brand"===h.name)for(var q=0;q<h.additionalInfos.length;q++){var w=h.additionalInfos[q];if("brand"===w.key){d=w.value;break}}else if("deviceType"===h.name)for(q=0;q<h.additionalInfos.length;q++)w=h.additionalInfos[q],"deviceType"===w.key&&(f=w.value,b._conditionSeriveCode=f,b._serviceCode=f)}d={provider:c,brandId:d,
code:a,supportType:f}}else d=r?{code:a,serviceProduct:"T-FOXWAY",provider:c,modelId:b._conditionSeriveCode}:"nz"==g?{code:a,serviceProduct:b._conditionSeriveCode,provider:c,entryNumber:0,isScreenCracked:!1}:{code:a,entryNumber:"",serviceProduct:b._serviceCode,provider:c};f="";N?"id"==g?(d={code:a,entryNumber:"",provider:c},f=M+"/"+v+"/servicesv2/validateImeiWithoutProduct"):f=M+"/"+v+"/servicesv2/validateimei":f=m?A+"/"+v+"servicesv2/validateDevice":l?A+"/"+v+"/servicesv2/validateImeiWithoutProduct":
A+"/"+v+"/servicesv2/validateimei";a="true"===$("#isEppPage").val()?{withCredentials:!0}:{};"Y"===oa?$.ajax({url:f,type:"GET",xhrFields:a,dataType:"json",cache:!0,crossDomain:!0,timeout:1E4,data:d,async:!1,success:function(a){pa(a,c)},error:function(a){a=Granite.I18n.get("We're sorry, an error occurred.");$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error");$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .error").text(a);
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")},complete:function(a){}}):m?$.ajax({url:f,type:"GET",dataType:"jsonp",cache:!0,crossDomain:!0,timeout:1E4,xhrFields:a,data:d,async:!1,success:function(a){pa(a,c)},error:function(a){a=Granite.I18n.get("We're sorry, an error occurred.");$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error");$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .error").text(a);
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")},complete:function(a){}}):$.ajax({url:f,type:"GET",dataType:"jsonp",jsonpCallback:"jQuery1910499421933433041_1111",cache:!0,crossDomain:!0,timeout:1E4,xhrFields:a,data:d,async:!1,success:function(a){pa(a,c)},error:function(a){a=Granite.I18n.get("We're sorry, an error occurred.");$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error");$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .error").text(a);
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")},complete:function(a){}})}function pa(a,c){if("sg"===g||u||l)if("0000"==a.resultCode){if(!l){c=a="";for(var d=0;d<t.length;d++){var f=b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap."+t[d]+" ul li button.is-checked").val();0!==d&&(1==d?a=f:c+=f+" ")}b._brand=a;b._model=c;u&&(b._brand="",b._model=a,b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".text-field-v2.no-title").removeClass("error").addClass("success"))}b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".text-field-v2__text.success").text(Granite.I18n.get("Done"));
b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","none");b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").removeClass("cta--disabled");b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!1)}else b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".text-field-v2.no-title").removeClass("success").addClass("error"),l?b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".text-field-v2__text.error").text(a.resultMessage):
b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".text-field-v2__text.error").text(Granite.I18n.get("Please enter a valid IMEI or Serial number")),u||(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list a").attr("href","javascript:;"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("There seems to be an issue")),
b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(Granite.I18n.get("We could not identify your device model based on the information provided. Please try one of the following options:"))),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!0);else if(!m)if(r)targetStep=".trade-in-popup__condition-wrap",
window.sg.components.tradeInPopup.showStep(targetStep),I++,Q(),a&&"100"==a.resultCode?P():(a&&a.additionalInfos&&0<a.additionalInfos.length&&a.additionalInfos.forEach(function(a){a&&a.key&&"invalidImeiReasonLocalized"==a.key&&a.value&&(b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(a.value),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","none"))}),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),
b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!0),a=$(".trade-in-popup .trade-in-popup__btn-back").attr("stepName"),a=b._step.indexOf(a),Ba(a));else if("nz"==g){if(a){c=$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue");d=$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title");f=b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".text-field-v2__text.success");var e=b._layerWrap.find(".trade-in-popup__seca-imei-wrap").find(".text-field-v2__text.error"),
h=b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap"),q=h.find(".trade-in-popup__seca-imei--warning-message-desc"),w=b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title"),va=!1,qa="",x="";f.text("");e.text("");q.text("");w.text("");h.css("display","none");"0000"===a.resultCode?(a&&a.suggestedItems&&(Ya(a),window.sg.components.tradeInPopup.showDeviceList()),qa=Granite.I18n.get("Correct"),d.removeClass("error").addClass("success"),c.removeClass("cta--disabled"),
c.attr("disabled",!1),c.attr("aria-disabled",!1)):"0001"===a.resultCode&&(va=!0,qa=Granite.I18n.get("Please enter a valid IMEI or Serial number"),d.removeClass("success").addClass("error"),c.addClass("cta--disabled"),c.attr("disabled",!0),c.attr("aria-disabled",!0));a&&a.resultMessage&&(x=a.resultMessage,h.css("display","block"));(va?e:f).text(qa);q.text(x)}}else"0000"===a.resultCode?($(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("error").addClass("success"),
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1),"BELMONT"===c&&(b._tradeInAdditionalInfo=[],null!=a.additionalInfos&&0<a.additionalInfos.length&&$.each(a.additionalInfos,function(a,c){b._tradeInAdditionalInfo.push(c);"discountAmount"==c.key&&(b._price=Number(c.value),b._discountPrice=Number(c.value))}),c=b._price,null==c||""==c||"0"==c||
0==Number(c)?(b._layerWrap.find(".trade-in-popup__imei-wrap .price-text").show(),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.s-btn-encased.s-cta-blue").addClass("is-cta-disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.s-btn-encased.s-cta-blue").attr("disabled",!0)):(b._layerWrap.find(".trade-in-popup__imei-wrap .price-text").hide(),b._layerWrap.find(".trade-in-popup__imei-wrap .price-info").text(null!=c?"-"+currencyComma(c,k):""),b._layerWrap.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price").text(null!=
c?"-"+currencyComma(c,k)+"*":""))),"id"==g&&(b._tradeInAdditionalInfo=[],null!=a.additionalInfos&&0<a.additionalInfos.length&&$.each(a.additionalInfos,function(a,c){b._tradeInAdditionalInfo.push(c);"discountAmount"==c.key&&(b._price=Number(c.value),b._discountPrice=Number(c.value),b._cashbackPrice=0);"tradeInBrand"==c.key&&(b._brand=c.value);"tradeInModel"==c.key&&(b._model=c.value);"tradeInServiceProduct"==c.key&&(b._serviceCode=c.value)}),_this=b._layerWrap,_this.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-brand").text(b._brand),
_this.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-model").text(b._model),_this.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price").text(null!=b._price?"-"+currencyComma(b._price,k):""))):(c=Granite.I18n.get("Invalid IMEI"),""!==a.resultMessage&&(c=a.resultMessage),$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error"),$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .error").text(c),
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"))}function Za(a){var c=b._layerWrap.find(".trade-in-popup__seca-imei-wrap"),d=A+"/"+v+"/servicesv2/searchDevice?keyword\x3d"+a;p&&(d=A+"/"+v+"/servicesv2/searchDevicevn?keyword\x3d"+a+"\x26productcode\x3d"+z);"nz"===g&&(d+="\x26provider\x3dASSURANTV2");r&&(d+="\x26provider\x3dFOXWAY");var f="true"===$("#isEppPage").val()||m?{withCredentials:!0}:{};$.ajax({url:d,type:"GET",dataType:"json",xhrFields:f,
cache:!0,crossDomain:!0,timeout:1E4,async:!0,beforeSend:function(){},success:function(d){if(null!==d){b._value=a;p&&"100"!=d.resultCode&&(d.resultCode="0");if("100"===d.resultCode)if(p){b._tradeInMode="";"Registered"===d.resultMessage?(b._vnselectboxstepYn=!1,b._conditionSeriveCode="T-TCV-TRADEIN",b._serviceCode="T-TCV-TRADEIN",d&&d.additionalInfos&&Ea(d.additionalInfos)):b._vnselectboxstepYn=!0;d=window.sg.components.dynamic?window.sg.components.dynamic.detailSharedObj:null;var e=!1;d.drawObj.tradeInResult.list&&
0<d.drawObj.tradeInResult.list.length&&(e=1==d.drawObj.tradeInResult.list.length&&"0"==d.checkedIndex);d&&d.isMultiTradeIn&&d.drawObj.tradeInResult.list&&0<d.drawObj.tradeInResult.list.length&&"offline"===b._tradeInMode&&!e?(c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),c.find(".text-field-v2__text.error").text(Granite.I18n.get("offline error")),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",
!0)):(c.find(".text-field-v2.no-title").addClass("success").removeClass("error"),c.find(".text-field-v2__text.success").text(Granite.I18n.get("Correct")),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").removeClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!1))}else null!=d.resultItems&&1<d.resultItems.length?(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display",
"block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("There seems to be an issue")),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(Granite.I18n.get("We found multiple device models based on the information provided. Please select your trade-in device model.")),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","none").css("href","javascript:;"),"nz"==g&&b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("Please choose one of the following options for us to identify your device."))):
b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","none"),null!=d.additionalInfos&&0<d.additionalInfos.length&&"locked"==d.additionalInfos[0].key&&(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("There seems to be an issue")),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(Granite.I18n.get("Find my iPhone is enabled on your device. This feature must be disabled and your device must be factory reset before your trade-in device is mailed in. If Find my iPhone is not disabled, you will not be eligible for trade-in.")),
b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","none").css("href","javascript:;"),"nz"==g&&b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("Please choose one of the following options for us to identify your device."))),null!=d.resultItems&&0<d.resultItems.length&&Fa(d),P(b._conditionSeriveCode),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").removeClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",
!1);else"111"===d.resultCode?(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","none").css("href","javascript:;"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("Your device is ineligible for processing.")),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(Granite.I18n.get("Please contact your carrier.")),
b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!0),null!=d.resultItems&&0<d.resultItems.length&&Fa(d)):"112"===d.resultCode?(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display",
"block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list a").attr("href","javascript:;"),m?b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").html(Granite.I18n.get("We could not identify your device model based on the information provided. Please try one of the following options:")):"nz"==g?(b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("Please check your IMEI or S/N again, or manually enter your device model to help us to identify it")),
b._layerWrap.find(".trade-in-manually-cta").show()):(b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("There seems to be an issue")),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(Granite.I18n.get("We could not identify your device model based on the information provided. Please try one of the following options:"))),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),
b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!0)):"118"===d.resultCode?(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","none").css("href","javascript:;"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("There seems to be an issue")),
b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(Granite.I18n.get("A trade-in offer already exists for this IMEI/serial number")),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!0)):"116"===d.resultCode?(c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),c.find(".text-field-v2__text.error").text(Granite.I18n.get("Please enter a valid IMEI or Serial number")),
"nz"==g&&(b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","none"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("Please check your IMEI or S/N again.")),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").html(Granite.I18n.get("IMEI_INVALID_DESC")),$(".trade-in-popup__seca-imei--sub-title").addClass("error"))):
"0001"==d.resultCode?(c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),""!=d.resultMessage?c.find(".text-field-v2__text.error").text(d.resultMessage):c.find(".text-field-v2__text.error").text(Granite.I18n.get("The IMEI/SN has already been applied to another product in your cart. Please check the IMEI/Serial Number and try again."))):(c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),p?c.find(".text-field-v2__text.error").text(Granite.I18n.get("We're sorry, an error occurred.")):
""!==d.resultMessage?c.find(".text-field-v2__text.error").text(d.resultMessage):c.find(".text-field-v2__text.error").text(Granite.I18n.get("Invalid IMEI")));window.sg.components.tradeInPopup.showWarningMessage()}else c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),p?c.find(".text-field-v2__text.error").text(Granite.I18n.get("We're sorry, an error occurred.")):""!==d.resultMessage?c.find(".text-field-v2__text.error").text(d.resultMessage):c.find(".text-field-v2__text.error").text(Granite.I18n.get("Invalid IMEI"))},
error:function(){c.find(".text-field-v2.no-title").removeClass("success").addClass("error");c.find(".text-field-v2__text.error").text(Granite.I18n.get("We're sorry, an error occurred."))},complete:function(){}})}function Fa(a){var c=b._layerWrap.find(".trade-in-popup__brand-list-wrap"),d="";null!=a.resultItems&&0<a.resultItems.length&&$.each(a.resultItems,function(a,c){var e=c.id,f=c.name;c=c.description;var g="",k="";0==a&&(R?(b._conditionSeriveCode="T_"+f.toUpperCase()+"_"+e,b._serviceCode="T_"+
f.toUpperCase()+"_"+e):(b._conditionSeriveCode=e,b._serviceCode=e),b._brand=f,b._model=c,g="checked",k="is-checked");d+='\x3cli class\x3d"trade-in-popup__brand-item" '+k+"\x3e";d+='\x3cinput type\x3d"radio" id\x3d"new-brand-'+a+'" name\x3d"new-brand" class\x3d"trade-in-popup__brand-item-input hidden" data-role-id\x3d"'+e+'" data-role-brand\x3d"'+f+'" data-role-model\x3d"'+c+'" '+g+"\x3e";d+='\x3clabel for\x3d"new-brand-'+a+'" class\x3d"trade-in-popup__brand-item-label" an-tr\x3d"" an-ca\x3d"option click" an-ac\x3d"pd buying tool" an-la\x3d"trade-in:select device:'+
f+'"\x3e';d+='\x3cdiv class\x3d"trade-in-popup__brand-item-block-area"\x3e';d+='\x3cspan class\x3d"trade-in-popup__brand-item-name"\x3e'+f+"\x3c/span\x3e";d+='\x3cspan class\x3d"trade-in-popup__brand-item-model trade-in-popup__brand-item-model-line2"\x3e'+c+"\x3c/span\x3e";d+=" \x3c/div\x3e";d+="\x3c/label\x3e";d+="\x3c/li\x3e"});c.find("ul.trade-in-popup__brand-list").html(d);window.sg.components.tradeInPopup.showDeviceList()}function Ya(a){var c=$(".trade-in-popup__brand-list-wrap.scrollbar .trade-in-popup__brand-list.scrollbar__contents"),
d=function(a){var c=a[0];a=c.id;var d=c.name;c=c.description;b._conditionSeriveCode=a;b._serviceCode=a;b._brand=d;b._model=c},f=function(a){return a.map(function(a,b){var c=0==b?!0:!1,d=a.name,e=a.description;return'\n\t\t\t\t\t\x3cli class\x3d"trade-in-popup__brand-item '+(c?"is-checked":"")+'"\x3e\n\t\t\t\t\t\t\x3cinput type\x3d"radio" \n\t\t\t\t\t\t\t   id\x3d"brand-'+b+"-"+g+'" \n\t\t\t\t\t\t\t   name\x3d"brand-model" \n\t\t\t\t\t\t\t   class\x3d"trade-in-popup__brand-item-input hidden" \n\t\t\t\t\t\t\t   data-role-id\x3d'+
a.id+" \n\t\t\t\t\t\t\t   data-role-brand\x3d"+d+" \n\t\t\t\t\t\t\t   data-role-model\x3d"+e+" \n\t\t\t\t\t\t\t   "+(c?"checked":"")+'\x3e\n\t\t\t\t\t\t\x3clabel for\x3d"brand-'+b+"-"+g+'" class\x3d"trade-in-popup__brand-item-label"\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__brand-item-brand"\x3e'+d+'\x3c/span\x3e\n\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__brand-item-model"\x3e'+e+"\x3c/span\x3e\n\t\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t  \t\x3c/li\x3e"}).join("")},e=function(a){a=f(a);
c.html(a)};a&&a.suggestedItems&&(a=a.suggestedItems)&&0<a.length&&(d(a),e(a))}function T(a,c){b._brand="";b._model="";b._layerWrap.find(".trade-in-popup__seca-imei-wrap");var d="",f="";null!=a&&(d=a);-1!=c&&(f="\x26"+t[c],l&&(f+="\x26name\x3d"+t[c+1],f+="\x26CSRFToken\x3d"+X));a=A+"/"+v+"/servicesv2/filterDevices?key\x3d"+d+f;"nz"===g&&(a+="\x26mainProductCode\x3d"+z+"\x26provider\x3dASSURANTV2");r&&(a+="\x26mainProductCode\x3d"+z+"\x26provider\x3dFOXWAY");if(l&&-1!=c){var e=JSON.parse(JSON.parse(H.filterSteps));
H.selectionResponses=[];b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap").not(".PurchaseFrom").each(function(a){if(c>=a){var d=W[e[a]][$(this).find("button.is-checked").closest("li").index()];H.selectionResponses.push(d);"deviceType"!==e[a]&&("brand"===e[a]?b._brand=d.value:b._model+=d.value+", ")}});b._model=b._model.replace(/, *$/,"");$.ajax({url:a,type:"POST",contentType:"application/json",async:!1,data:JSON.stringify(H.selectionResponses),xhrFields:{withCredentials:!0},
headers:{Accept:"application/json"},crossDomain:!0,dataType:"json",timeout:2E4,beforeSend:function(){},success:function(a){null!=a&&Ga(a,c)},error:function(){}})}else d="true"===$("#isEppPage").val()?{withCredentials:!0}:{},$.ajax({url:a,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:d,timeout:1E4,async:!1,beforeSend:function(){},success:function(a){null!=a&&Ga(a,c)},error:function(){}})}function Ga(a,c){l&&0<a.length&&(W[a[0].name]=a);var d=c+1;if(-1==c)ca(c+1,a),p&&0<b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap").eq(0).find(".trade-in-popup__seca-select--dropdown-select-list li").length&&
b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap").eq(0).find(".trade-in-popup__seca-select--dropdown-select-list button").eq(0).click();else if(d!=t.length)b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").addClass("cta--disabled").attr("disabled",!0),c=t[t.length-1],l||"carrier"!=c||d!=t.length-1?ca(d,a):T(a[0].key,d);else if(l)a=JSON.parse(JSON.parse(H.filterSteps)),a=a[a.length-1],b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__summary-product-brand").text(b._brand),
b._layerWrap.find(".trade-in-popup__seca-imei-wrap .trade-in-popup__summary-product-model").text(b._model),"Samsung"!==b._brand&&"\u4e09\u661f"!==b._brand&&b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap").last().hasClass(a)?(a='\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-wrap PurchaseFrom add"\x3e\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-title-wrap"\x3e'+('\t\t\x3cp class\x3d"trade-in-popup__seca-select--dropdown-title"\x3e'+
Granite.I18n.get("Purchase From")+"\x3c/p\x3e"),a=a+'\t\x3c/div\x3e\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown"\x3e'+('\t\t\x3cbutton class\x3d"trade-in-popup__seca-select--dropdown-select-field" aria-haspopup\x3d"listbox" aria-expanded\x3d"false"\x3e'+Granite.I18n.get("Purchase From")+"\x3c/button\x3e"),a=a+'\t\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-select-list scrollbar"\x3e\t\t\t\x3cul class\x3d"scrollbar__contents" role\x3d"listbox" id\x3d"PurchaseFrom" data-select-cnt\x3d""\x3e\t\t\t\t\x3cli class\x3d"trade-in-popup__seca-select--dropdown-select-item" role\x3d"presentation"\x3e'+
('\t\t\t\t\t\x3cbutton class\x3d"trade-in-popup__seca-select--dropdown-select-item-name" role\x3d"option" value\x3d"0" data-filterStep\x3d"" data-filterCode\x3d"" data-huAdditional\x3d""\x3e'+Granite.I18n.get("Authorized Dealers")+"\x3c/button\x3e"),a=a+'\t\t\t\t\x3c/li\x3e\t\t\t\t\x3cli class\x3d"trade-in-popup__seca-select--dropdown-select-item" role\x3d"presentation"\x3e'+('\t\t\t\t\t\x3cbutton class\x3d"trade-in-popup__seca-select--dropdown-select-item-name" role\x3d"option" value\x3d"1" data-filterStep\x3d"" data-filterCode\x3d"" data-huAdditional\x3d""\x3e'+
Granite.I18n.get("Parallel Imports")+"\x3c/button\x3e"),a+="\t\t\t\t\x3c/li\x3e\t\t\t\x3c/ul\x3e\t\t\x3c/div\x3e\t\x3c/div\x3e\x3c/div\x3e",b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-container").append(a),window.sg.components.tradeInPopup.bindSecaSelectDropdownEvent(b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap").length-1),window.sg.common.scrollbar.initAll()):b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").removeClass("cta--disabled").attr("disabled",
!1);else{b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").removeClass("cta--disabled").attr("disabled",!1);if(R){var f="T";b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown.selected").each(function(){f+="_"+$(this).attr("huservicecode")});b._conditionSeriveCode=f;b._serviceCode=f;b._brand="";b._model="";b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap .selected ul li button.is-checked").each(function(a){0==
a?b._brand=$(this).attr("value"):b._model+=$(this).attr("value")+" "})}else if(b._conditionSeriveCode=a[0].value,b._serviceCode=a[0].value,1<a.length&&(a=b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown.selected .trade-in-popup__seca-select--dropdown-select-field"),b._conditionSeriveCode=a.last().html(),b._serviceCode=a.last().html()),p){d=a="";for(c=0;c<t.length;c++){var e=b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap."+
t[c]+" ul li button.is-checked").val();null!=e&&""!==e&&(0==c?a=e:d+=e+" ")}b._brand=a;b._model=d}ma||P(b._conditionSeriveCode)}}function Ca(){b._layerWrap.find(".trade-in-popup__condition-list-item-check-wrap").find("input[type\x3d'radio']").prop("checked",!1);V?b._layerWrap.find(".trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']").prop("checked",!1):l&&b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap").removeClass("show");$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");
$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("disabled",!0)}function Ea(a){var c=b._layerWrap;b._tradeInMode="";if(null!=a&&""!==a){b._tradeInSpecialPrice=0;if(E||"sg"===g||u||l||"it"===g){b._tradeInAdditionalInfo=[];c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-brand").text(b._brand);c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-model").text(b._model);var d="";p&&(d="IMEI: ");c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-number").text(d+
b._value)}var f=!0,e=!0;$.each(a,function(a,d){l?"ERROR"===d.key?(ra=!1,b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap .trade-in-popup__promo-error-desc").text(d.value)):"TradeinTotalAmount"===d.key?(b._cashbackPrice=d.value,b._tradeinTotalAmount=d.value):"tradeinValue"===d.key?b._tradeinValue=d.value:"ExclusiveTradeinUnitOffer"===d.key?b._exclusiveTradeinUnitOffer=d.value:"ExtraTradeinOffer"===d.key?b._extraTradeinOffer=d.value:"ExclusiveChannelTradeinOffer"===
d.key?b._exclusiveChannerTradeinOffer=d.value:"ExtraTradeinVoucher"===d.key&&(b._extraTradeinVoucher=d.value):"tradeinAmount"!==d.key&&"discountAmount"!==d.key||!f||(R||u?(b._discountPrice=0,b._cashbackPrice=d.value):"it"===g?"Y"==b._instantdiscount?(b._discountPrice=d.value,b._cashbackPrice=0):(b._discountPrice=0,b._cashbackPrice=d.value):b._discountPrice=d.value,b._price=d.value,$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html(currencyComma(b._price,
k)+"*"),"it"==g&&(a=Granite.I18n.get("Valore della prevalutazione")+" "+currencyComma(b._price,k),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price").html(a),$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__summary-price").html(a),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__title").text(Granite.I18n.get("Aggiungi al carrello")),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__sub-title").text(Granite.I18n.get("Confermo di aver letto i Termini e Condizioni della Promozione e dichiaro che il mio smartphone usato soddisfa i requisiti ivi indicati")),
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__summary-price-desc").text(Granite.I18n.get("La valutazione finale verr\u00e0 effettuata a cura di CTDI")),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-desc").text(Granite.I18n.get("La valutazione finale verr\u00e0 effettuata a cura di CTDI"))),p?$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price-desc").text(Granite.I18n.get("Regular Exchange Value")):
u&&$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price-desc").text("("+Granite.I18n.get("Cashback")+")"),f=!1);(m||"nz"===g||r)&&"enhancedDiscountAmount"===d.key&&(b._enhancedDiscountAmount=d.value);!E||null!=b._brand&&""!==b._brand||"serviceProductName"!==d.key||(b._brand="",b._model=d.value,c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-brand").text(""),c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-model").text(d.value));
E||"sg"===g||u||l?b._tradeInAdditionalInfo.push(d):"it"==g&&(a="cashback","Y"==b._instantdiscount&&(a="instantDiscount"),b._tradeInAdditionalInfo=[{key:"discountMode",value:a,description:null}]);"sg"==g&&"additionalDiscount"===d.key&&null!=d.value&&""!==d.value&&0!==parseFloat(d.value)&&(b._tradeInSpecialPrice=d.value);if(p&&("trade_in_mode"===d.key&&(b._tradeInMode=d.value),"serviceProductModel"===d.key&&(b._conditionSeriveCode=d.value,b._serviceCode=d.value),"additionalDiscount"===d.key&&null!=
d.value&&""!=d.value&&0!=parseFloat(d.value))){b._tradeInSpecialPrice=parseFloat(d.value);d=window.sg.components.dynamic?window.sg.components.dynamic.detailSharedObj:null;a=d.drawObj.tradeInResult;if(d.isMultiTradeIn&&y(a)&&y(a.list)){var h=Number(a.list.length);-1<Number(d.checkedIndex)&&(h=Number(d.checkedIndex));$.each(a.list,function(a,b){if(h<=Number(a))return!1;if(b.specialPrice&&0<b.specialPrice)return e=!1})}e&&$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html(currencyComma(parseFloat(b._price)+
parseFloat(b._tradeInSpecialPrice),k)+"*")}});p&&(a="undefined"!=typeof b._discountPrice&&b._discountPrice?parseFloat(b._discountPrice):0,0==a?(c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list-wrap").css("display","none"),c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list-wrap").removeClass("trade-in-popup__image-check-list-wrap"),c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap .trade-in-popup__apply-warning-text-wrap strong").text(Granite.I18n.get("Sorry, the condition(s) you have declared make your device ineligible for trade-in")),
c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap").css("display","")):(c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list").parent().css("display",""),c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list").parent().addClass("trade-in-popup__image-check-list-wrap"),c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap").css("display","none")));if("sg"==g)if(a="undefined"!=typeof b._discountPrice&&b._discountPrice?parseFloat(b._discountPrice):
0,0<b._tradeInSpecialPrice&&(c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").text(currencyComma(parseFloat(b._price)+parseFloat(b._tradeInSpecialPrice),k)),0!==a?c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price-desc").html(currencyComma(b._price,k)+"("+Granite.I18n.get("Regular Exchange Value")+")\x3cbr\x3e"+currencyComma(b._tradeInSpecialPrice,k)+"("+Granite.I18n.get("Special Discount")+
")"):c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price-desc").html(currencyComma(b._tradeInSpecialPrice,k)+"("+Granite.I18n.get("Special Discount")+")")),0===a)c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list-wrap").css("display","none"),c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list-wrap").removeClass("trade-in-popup__image-check-list-wrap"),c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap .trade-in-popup__apply-warning-text-wrap strong").text(Granite.I18n.get("Sorry, the condition(s) you have declared make your device ineligible for trade-in")),
c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap").css("display","");else{c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list").parent().css("display","");c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list").parent().addClass("trade-in-popup__image-check-list-wrap");c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap").css("display","none");var h=window.sg.components.dynamic?window.sg.components.dynamic.detailSharedObj:
null;if(h.isMultiTradeIn){d=a=0;var q=null;y(h.drawObj.tradeInResult)&&(q=h.drawObj.tradeInResult);y(h.proudctPriceInfo)&&(a=h.proudctPriceInfo.salePrice,d=h.proudctPriceInfo.orignalPrice);h=!1;var w=0;y(q)&&y(q.dataPrice)&&(w=parseFloat(q.dataPrice+d));q=0;null!=a&&""!==a&&"0"!==a?q=a:null!=d&&""!==d&&"0"!==d&&(q=d);a=w+parseFloat(b._discountPrice);y(b._specialDiscount)&&(a+=parseFloat(b._specialDiscount));a>parseFloat(q)&&(h=!0);h&&(c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list-wrap").css("display",
"none"),c.find(".trade-in-popup__apply-wrap .trade-in-popup__image-check-list-wrap").removeClass("trade-in-popup__image-check-list-wrap"),c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap .trade-in-popup__apply-warning-text-wrap strong").text(Granite.I18n.get("The trade-in price of the device is higher in value than the device you are purchasing. The excess value will not be refunded to you. Please tick the checkbox below to confirm that you have read and agree to the above.")),
c.find(".trade-in-popup__apply-wrap .trade-in-popup__apply-warning-wrap").css("display",""))}}if(m||"nz"===g||r)a=parseFloat(b._discountPrice)+parseFloat(b._enhancedDiscountAmount),0<b._enhancedDiscountAmount&&$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html(currencyComma(a,k)+"*"),"nz"===g&&$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").html(currencyComma(a,
k)),a="",0<parseFloat(b._discountPrice)&&"nz"!=g&&(a=currencyComma(parseFloat(b._discountPrice),k)+" ("+Granite.I18n.get("Estimated Trade-in Value")+")"),0<parseFloat(b._enhancedDiscountAmount)&&("nz"==g?(a+=currencyComma(b._price,k)+" ("+Granite.I18n.get("Your old device value")+")\x3cbr\x3e",a+=currencyComma(parseFloat(parseFloat(b._enhancedDiscountAmount)),k)+" ("+Granite.I18n.get("Overtrade bonus")+")"):(""!==a&&(a+="\x3cbr\x3e"),a+=currencyComma(parseFloat(parseFloat(b._enhancedDiscountAmount)),
k)+" ("+Granite.I18n.get("Promotional Trade-in Credit")+")")),r||c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price-desc").html(a),!$a()||r||"nz"==g||m?c.find(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").removeClass("show"):c.find(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").addClass("show");l&&(a="",$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price").text(currencyComma(b._tradeinTotalAmount,
k)+"* ("+Granite.I18n.get("Total Rebate")+")"),0<b._tradeinTotalAmount&&(0<b._tradeinValue&&(a+=currencyComma(parseFloat(b._tradeinValue),k)+" ("+Granite.I18n.get("Rebate")+")\x3cbr\x3e"),0<b._exclusiveTradeinUnitOffer&&(a+=currencyComma(parseFloat(b._exclusiveTradeinUnitOffer),k)+" ("+Granite.I18n.get("Extra Trade-in Rebate")+")\x3cbr\x3e"),0<b._extraTradeinOffer&&(a+=currencyComma(parseFloat(b._extraTradeinOffer),k)+" ("+Granite.I18n.get("Designated Used Device Trade-in Rebate")+")\x3cbr\x3e"),
0<b._exclusiveChannerTradeinOffer&&(a+=currencyComma(parseFloat(b._exclusiveChannerTradeinOffer),k)+" ("+Granite.I18n.get("Online Shop Trade-in Rebate")+")\x3cbr\x3e"),0<b._extraTradeinVoucher&&(a+=currencyComma(parseFloat(b._extraTradeinVoucher),k)+" ("+Granite.I18n.get("Promo code Trade-in Rebate")+")\x3cbr\x3e"),a=a.replace(/<br>*$/,""),c.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap .trade-in-popup__summary-price-desc").html(a)))}}function sa(){var a="";a=N?M+"/"+v+"/security/csrf":
A+"/"+v+"/security/csrf";$.ajax({url:a,type:"GET",dataType:"json",async:!1,crossDomain:!0,xhrFields:{withCredentials:!0},success:function(a){X=a.token;"au"===g&&ab(X)}})}function Z(a){a=void 0===a?!1:a;l||sa();var c=JSON.stringify({imei:b._value,orderEntryNumber:0,productCode:b._conditionSeriveCode,responses:$("#conditionForm").serializeArray()});if("sg"==g||p||"nz"===g||r||u||"it"==g||"true"===$("#isEppPage").val()&&"th"==g)c=JSON.stringify({imei:b._value,orderEntryNumber:0,productCode:b._conditionSeriveCode,
responses:$("#conditionForm").serializeArray(),targetProductCode:z});else if(l){c=$("#conditionForm").serializeArray();c.push({name:"voucherCode",value:$("#voucherCode").val()});var d="";"Samsung"===b._brand||"\u4e09\u661f"===b._brand?d="0":0<$(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap.PurchaseFrom button.is-checked").length&&(d=$(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap.PurchaseFrom button.is-checked").attr("value"));""!==
d&&(d=parseFloat(d));c.push({name:"purchaseFrom",value:d});c=JSON.stringify({selectionResponses:H.selectionResponses,responses:c,imei:b._value,orderEntryNumber:0,productCode:b._conditionSeriveCode,targetProductCode:z});ra=!0}else m&&(O&&Y.beforeSetConditionCall(),c=JSON.stringify({imei:a?b._dummyImei:b._value,orderEntryNumber:0,productCode:b._conditionSeriveCode,responses:$("#conditionForm").serializeArray(),targetProductCode:z}));d="";d=N?M+"/"+v+"/assessment/TRADE_IN/json?CSRFToken\x3d"+X:m?$("#newHyvStoreDomain").val()+
"/tokocommercewebservices/v2/"+v+"/assessment/TRADE_IN/json?provider\x3d"+b._provider+"\x26forceProvider\x3dtrue":A+"/"+v+"/assessment/TRADE_IN/json?CSRFToken\x3d"+X;"nz"===g&&(d+="\x26provider\x3dASSURANTV2");r&&(d+="\x26provider\x3dFOXWAY");$.ajax({url:d,type:"POST",contentType:"application/json",async:!1,data:c,xhrFields:{withCredentials:!0},headers:{Accept:"application/json"},crossDomain:!0,dataType:"json",timeout:2E4,success:function(c){null!=c&&""!==c&&c.product&&(b._serviceCode=c.product.code);
c.result&&c.result.additionalInfos&&(Ea(c.result.additionalInfos),m&&!a&&ta(),l&&(ra?(b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap").removeClass("show"),window.sg.components.tradeInPopup.showStep(".trade-in-popup__apply-wrap"),I++,Q()):(b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").addClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").attr("disabled",
!0),b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap").addClass("show"))))},error:function(a){errLayerPop(a)}})}function $a(){var a=parseFloat(b._discountPrice)+parseFloat(b._enhancedDiscountAmount);return window.sg.components.dynamic.detailSharedObj.proudctPriceInfo.salePrice<a?!0:!1}function ab(a){var b=$(".trade-in-popup .trade-in-popup__apply-wrap"),d=A+"/"+v+"/servicesv2/pre-charge";a={serviceID:$("#trade-in-id-input").val(),provider:"ASURION",productCode:z,
CSRFToken:a};$.ajax({url:d,type:"POST",dataType:"json",async:!1,crossDomain:!0,xhrFields:{withCredentials:!0},data:a,success:function(a){a&&a.status&&a.status.resultCode?"000"===a.status.resultCode?(b.find(".trade-in-popup__btn-apply").removeClass("cta--disabled").attr("aria-disabled",!1),ta()):(b.find(".trade-in-popup__apply-failed").html(a.status.resultMessage),b.find(".trade-in-popup__btn-apply").addClass("cta--disabled").attr("aria-disabled",!0)):b.find(".trade-in-popup__btn-apply").addClass("cta--disabled").attr("aria-disabled",
!0)},error:function(){b.find(".trade-in-popup__btn-apply").addClass("cta--disabled").attr("aria-disabled",!0)}})}function ta(){p&&"offline"===b._tradeInMode&&((window.sg.components.dynamic?window.sg.components.dynamic.detailSharedObj:null).maxTradeInsAllowed=1);var a={};a.tradeinId=b._serviceCode;a.tradeinDiscountYn=!1;a.displayBrandName=b._brand;a.displayModelName=b._model;a.open_promo_tax="";a.discount={};a.discount.gratification="";a.discount.price=b._cashbackPrice;a.discount.total=b._price;a.value=
{};a.value.gratification="";a.value.price=b._discountPrice;a.tradeInSpecialPrice=b._tradeInSpecialPrice;a.tradeinTotalAmount=b._tradeinTotalAmount;a.tradeinValue=b._tradeinValue;a.exclusiveTradeinUnitOffer=b._exclusiveTradeinUnitOffer;a.extraTradeinOffer=b._extraTradeinOffer;a.exclusiveChannerTradeinOffer=b._exclusiveChannerTradeinOffer;a.extraTradeinVoucher=b._extraTradeinVoucher;if(m||"nz"===g||r)a.discount.total=parseFloat(b._discountPrice)+parseFloat(b._enhancedDiscountAmount),a.value.enhancedDiscountAmount=
b._enhancedDiscountAmount;a.promotion=b._promotion;null!=b._tradeInAdditionalInfo&&0<b._tradeInAdditionalInfo.length?(a.tradeInAdditionalInfo=b._tradeInAdditionalInfo,"it"==g&&(a.questionAndAnswer=$("#conditionForm").serializeArray())):a.questionAndAnswer=$("#conditionForm").serializeArray();var c="IMEI";"SERIAL_NO"===b._deviceIdType&&(c="SERIAL_NO");a.tradeInType=c;c="au"===g||"za"===g||"my"===g?$("#trade-in-id-input").val():b._value;a.imeiKey=c;window.sg.components.dynamic.DetailAfterEvent.offerAndAddonsDiscount(a,
"tradein");window.sg.components.tradeInPopup.closePopup()}function bb(){var a=A+"/"+v+"/servicesv2/checkServiceID?serviceID\x3d"+$("#trade-in-id-input").val();"nz"===g?a+="\x26provider\x3dINGRAM":"au"===g?a+="\x26provider\x3dASURION\x26productCode\x3d"+z:"za"===g?a+="\x26provider\x3dREGENER8":"my"===g&&(a+="\x26provider\x3dCOMPASIA");var c=window.sg.components.dynamic?window.sg.components.dynamic.detailSharedObj:null;if(c&&c.isMultiTradeIn&&c.drawObj.tradeInResult.list&&0<c.drawObj.tradeInResult.list.length){var d=
$("#trade-in-id-input").val(),f=!1;$.each(c.drawObj.tradeInResult.list,function(a,b){b.services.imeiKey===d&&(f=!0)});if(f){a=Granite.I18n.get("You cannot proceed with Trade-in as the Trade-in ID is invalid");$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .text-field-v2.no-title").removeClass("success").addClass("error");$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .text-field-v2.no-title .error").text(a);$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");
return}}c="true"===$("#isEppPage").val()?{withCredentials:!0}:{};$.ajax({url:a,type:"GET",dataType:"jsonp",jsonpCallback:"jQuery1910499421933433041_11112222",cache:!0,xhrFields:c,crossDomain:!0,timeout:1E4,async:!1,success:function(a){if(null!=a.serviceParameter&&"1"===a.status.resultCode)b._tradeInAdditionalInfo=[],$.each(a.serviceParameter,function(a,c){"codeLabel"===c.key?b._brand=c.value:"serviceProductCode"===c.key?b._serviceCode=c.value:"IMEI"===c.key?b._value=c.value:"discountAmount"===c.key?
(b._price=c.value,b._discountPrice=c.value):"serviceProductName"===c.key&&(b._model=c.value);"nz"===g&&("serviceProductBrand"===c.key?b._brand=c.value:"serviceProductModel"===c.key?b._model=c.value:"serviceID"===c.key&&(b._value=c.value));"IMEI"!==c.key&&b._tradeInAdditionalInfo.push(c)}),b._layerWrap.find(".trade-in-popup__trade-in-id-wrap .text-field-v2.no-title").removeClass("error").addClass("success"),cb(),"au"===g?b._reCaptchaFlag&&(b._layerWrap.find(".trade-in-popup__trade-in-id-wrap").find("button.trade-in-popup__btn-continue").removeClass("cta--disabled"),
b._layerWrap.find(".trade-in-popup__trade-in-id-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!1)):(b._layerWrap.find(".trade-in-popup__trade-in-id-wrap").find("button.trade-in-popup__btn-continue").removeClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__trade-in-id-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!1));else{var c=Granite.I18n.get("Incorrect");""!==a.status.resultMessage&&(c=a.status.resultMessage);"za"===g&&(c=Granite.I18n.get("You cannot proceed with trade-in as the trade-in ID is invalid"));
$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .text-field-v2.no-title").removeClass("success").addClass("error");$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .text-field-v2.no-title .error").text(c);$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")}},error:function(){var a=Granite.I18n.get("We're sorry, an error occurred.");$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .text-field-v2.no-title .error").text(a);$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")},
complete:function(a){}})}function cb(){var a=b._layerWrap,c=b._brand,d=b._model,f=b._value,e=b._price;"za"!==g&&"my"!==g&&"nz"!==g||a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-brand").text(c);a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-model").text(d);"my"!==g&&a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-number").text(f);c='\x3cspan class\x3d"trade-in-popup__summary-price-title"\x3e'+Granite.I18n.get("Trade-in discount")+"\x3c/span\x3e";
if("za"===g)c+='\x3cem class\x3d"trade-in-popup__summary-price"\x3e'+(null!=e?currencyComma(e,k):"")+"\x3c/em\x3e";else if("my"===g)c+='\x3cem class\x3d"trade-in-popup__summary-price"\x3e'+(null!=e?currencyComma(e,k)+"*":"")+"\x3c/em\x3e";else{if(null!=e){e=currencyComma(e,k);d="";if(-1<e.indexOf(".00")||-1<e.indexOf(",00"))-1===e.indexOf(",00")?d=".00":-1===e.indexOf(".00")&&(d=",00"),e=e.split(d),e=e[0]+e[1];e="-"+e+"*"}else e="";c=c+('\x3cem class\x3d"trade-in-popup__summary-price"\x3e'+e+"\x3c/em\x3e")+
('\x3cspan class\x3d"trade-in-popup__summary-price-desc"\x3e('+Granite.I18n.get("Upfront discount")+")\x3c/span\x3e")}a.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-wrap").html(c)}function Wa(a,b){a=A+"/"+v+"/servicesv2/getTradeInEligibleDevices?productCode\x3d"+z;var c="true"===$("#isEppPage").val()?{withCredentials:!0}:{};$.ajax({url:a,type:"GET",dataType:"json",xhrFields:c,cache:!0,crossDomain:!0,timeout:1E4,async:!1,beforeSend:function(){},success:function(a){null!=a&&(Ha=
a,Ia(a,b))},error:function(){$(".trade-in-popup").find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-container").html("")}})}function Ia(a,c){b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-container");b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").addClass("cta--disabled").attr("disabled",!0);var d=c+1;0==d?(a=Ja(a,c),ca(c+1,a)):d!=t.length?(a=Ja(a,c),null!=a&&0<a.length?ca(d,a):(c=
t[c],c=b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap."+c+" ul li button.is-checked").attr("data-filterCode"),b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").removeClass("cta--disabled").attr("disabled",!1),b._conditionSeriveCode=c,b._serviceCode=c)):(c=t[c],c=b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap."+c+" ul li button.is-checked").attr("data-filterCode"),
b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").removeClass("cta--disabled").attr("disabled",!1),b._conditionSeriveCode=c,b._serviceCode=c)}function Ja(a,c){var d=b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-container"),f=[],e=c+1,g=[{description:null,key:"filterSteps",value:'"[\\"deviceType\\",\\"manufacturer\\",\\"model\\",\\"storage\\"]"'}];u&&(g=[{description:null,key:"filterSteps",value:'"[\\"deviceType\\",\\"model\\"]"'}]);
for(var q=[],w="",k="",l="",x=0;x<e;x++){var B=d.find("."+t[x]+" ul li button.is-checked").val();""!=B&&(u?0==x?w=B:1==x&&(l=B):0==x?w=B:1==x?k=B:2==x&&(l=B))}d=function(a,b){var c=!0;""!=b&&b!=a&&(c=!1);return c};for(e=0;e<a.length;e++){x={};var m=B="",n="",p="",v=/^[0-9\.]*$/;if(d(a[e].deviceType,w)&&d(a[e].brandName,k)&&d(a[e].modelName,l)){if(-1==c)B=a[e].productCode,m="deviceType",n=a[e].deviceType,y(a[e].filterSteps)&&(g.value=a[e].filterSteps),x.additionalInfos=g;else{if(0==c)u?(B=a[e].productCode,
m=a[e].model,n=a[e].model,p=a[e].model):(B=a[e].productCode,m=a[e].brandName,n=a[e].brandName,p=a[e].brandName);else if(1==c)B=a[e].productCode,m=a[e].modelName,n=a[e].modelName,p=a[e].modelName;else if(2==c){B=a[e].productCode;var r=a[e].storage.replace(/\s/g,"").replace(/null/gi,"").split("/"),F=a[e].storage.replace(/\s/g,"").replace(/null/gi,"").replace(/GB/gi,"").replace(/MB/gi,"").split("/");m=r[0]+" / "+r[1];n=r[0]+" / "+r[1];p=F[0]+F[1];y(F[0])&&"0"==F[0]&&(m=r[1],n=r[1],p=F[1]);y(F[1])&&"0"==
F[1]&&(m=r[0],n=r[0],p=F[0]);"0"==F[0]&&"0"==F[1]&&(m=r[0]+" / "+r[1],n=r[0]+" / "+r[1],p="0");v.test(p)&&(p=parseFloat(F[0])+parseFloat(F[1]))}x.additionalInfos=[]}0>q.indexOf(n)&&(q.push(n),x.key=B,x.name=m,x.value=n,x.sortvalue=p,f.push(x))}}if(0<f.length){var da=1E3;f.sort(function(a,b){2==c?(a=y(a.sortvalue)?v.test(a.sortvalue)?parseFloat(a.sortvalue):da++:da++,b=y(b.sortvalue)?v.test(b.sortvalue)?parseFloat(b.sortvalue):da++:da++):(a=y(a.sortvalue)?a.sortvalue.toLowerCase():"",b=y(b.sortvalue)?
b.sortvalue.toLowerCase():"");return a<b?-1:a>b?1:0})}return f}function Q(){var a="";db.forEach(function(c){c.step===b._step[I]&&(a=c.tagging)});$(".trade-in-popup .trade-in-popup__close").filter(":visible").attr("an-tr","header(pim)_trade in-"+G+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la","trade in:"+a+":close").attr("data-modelname",C).attr("data-modelcode",D);$(".trade-in-popup .trade-in-popup__btn-close").filter(":visible").attr("an-tr","header(pim)_trade in-"+
G+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la","trade in:"+a+":close").attr("data-modelname",C).attr("data-modelcode",D);$(".trade-in-popup .trade-in-popup__btn-back").filter(":visible").attr("an-tr","header(pim)_trade in-"+G+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la","trade in:"+a+":close").attr("data-modelname",C).attr("data-modelcode",D);$(".trade-in-popup .trade-in-popup__btn-continue").filter(":visible").attr("an-tr",
"header(pim)_trade in-"+G+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la","trade in:"+a+":next").attr("data-modelname",C).attr("data-modelcode",D);$(".trade-in-popup .trade-in-popup__btn-apply").filter(":visible").attr("an-tr","header(pim)_trade in-"+G+"-cta-button").attr("an-ca","option click").attr("an-ac","pd buying tool").attr("an-la","trade in:"+a+":confirm").attr("data-modelname",C).attr("data-modelcode",D)}var A=$("#storeDomain").val(),M=$("#storeWebDomain").val(),
g=$("#siteCode").val(),N="Hybris-new"===$("#shopIntegrationFlag").val()?!0:!1,oa=$("#hybrisApiJson").val(),k=$("#priceCurrency").val(),ea=$("#categoryGroupCode").val(),G=digitalData.page.pageInfo.pageTrack.toLowerCase(),z="",J="",I=0,C="",D="",wa=!0,u=-1<["ae","ae_ar"].indexOf(g),V=-1<["se","dk","fi","no"].indexOf(g),m=-1<["ca","ca_fr"].indexOf(g),r="at"==g&&"01000000"==ea,K="at"==g&&"01000000"!=ea,Ra=function(){var a={discount:".trade-in-popup__discount-wrap","trade-in-id":".trade-in-popup__trade-in-id-wrap",
model:".trade-in-popup__model-wrap",carrier:".trade-in-popup__carrier-wrap",imei:".trade-in-popup__imei-wrap",condition:".trade-in-popup__condition-wrap",apply:".trade-in-popup__apply-wrap","device-seca":".trade-in-popup__seca-select-wrap","sepco-device":".trade-in-popup__sepco-device-wrap"};return{render:function(b){if(b&&0<b.length){var c=b;1<c.length&&eb&&(c=b.slice(1,c.length));c.forEach(function(b,d){if(b){d=c.map(function(a,d){return'\n\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__stepbar-fill '+
(d<=c.indexOf(b)?"is-active":"")+'"\x3e\x3c/span\x3e'}).join("");var e=$(a[b]),f={},g={};e&&0<e.length&&(f=e.find(".trade-in-popup__stepbar-box"),g=e.find(".trade-in-popup__stepbar-progress"));f&&g&&f.html(d)}})}}}}(),Qa="nz"==g||m,ya="nz"==g,Pa=m,O=m,ka=m,eb=m,Ka=function(a,b){var c=b[a],f=b["default"];return{get:function(a){return c&&"undefined"!==typeof c[a]?c[a]:f&&"undefined"!==typeof f[a]?f[a]:!1}}},ma=r,U=function(){var a=Ka(g,{nz:{provider:"ASSURANTV2",useNegativeUpToPrice:!1,isSamsungFirst:!0,
searchFuncStepList:["modelName"]},ca:{provider:"ASSURANTV2",useUpToPrice:!1,searchFuncIdx:2,useHowToArea:!1,customFilterName:{memory:"storage",stockModel:"model",networkOperator:"carrier"},customParseFilterStep:function(a){return JSON.parse(a)},usePriceSummary:!1,useHideFilterStep:!0,useEquipmentIdCall:!0,useValidationType:!0,customValidationType:{Phone:["IMEI"],Tablet:["IMEI","SERIAL_NO"],"Smart Watch":["IMEI","SERIAL_NO"],Laptop:["SERIAL_NO"]}},ca_fr:{provider:"ASSURANTV2",useUpToPrice:!1,searchFuncIdx:2,
useHowToArea:!1,customFilterName:{memory:"storage",stockModel:"model",networkOperator:"carrier"},customParseFilterStep:function(a){return JSON.parse(a)},usePriceSummary:!1,useHideFilterStep:!0,useEquipmentIdCall:!0,useValidationType:!0,customValidationType:{Phone:["IMEI"],Tablet:["IMEI","SERIAL_NO"],"Smart Watch":["IMEI","SERIAL_NO"],Laptop:["SERIAL_NO"]}},default:{useUpToPrice:!0,howToLength:4,useHowToTitle:!0,useHowToDesc:!0,defaultCategory:"Phone",useHowToArea:!0,usePriceSummary:!0}}),c={},d={},
f="",e=0,h=[],q="",w={},l="",m=0,x=[],B=a.get("howToLength"),p={getFilterDevice:function(){return $.ajax({url:A+"/"+v+"/servicesv2/filterDevices?",data:{key:f,mainProductCode:z,provider:a.get("provider")},type:"GET",dataType:"json",cache:!0,crossDomain:!0,timeout:1E4,async:!1})}},n={getCheckedCategoryData:function(){var a=$(".js-trade-in-category-item"),b={};a&&0<a.length&&$.each(a,function(c){$(a[c]).find("input").hasClass("is-checked")&&(b=$(a[c]).find("input").data("category-info"))});return b=
JSON.parse(b.replaceAll("'",'"'))},getCurrentStepIdx:function(){return h.indexOf(q)},quotSafe:function(a){return a.replace(/"/g,"\x26quot;")},updateFilterProgress:function(){e=n.getCurrentStepIdx()+1},updateFilterData:function(b,c){var d="";c?b&&(d=b):(d=b.data("filter-info"),d=JSON.parse(d.replaceAll("'",'"')));(b=n.getFilterName(d.filterName))||(b=d[0].name);n.registerFilterData(b,d);f=d.filterKey;q=b;d.filterSteps&&(h=d.filterSteps);d.code&&(l=d.code);a.get("useEquipmentIdCall")&&d[0]&&d[0].identifierName&&
(l=d[0].identifierName);d.price&&(m=d.price);b=a.get("customValidationType");c=d.categoryName;b&&b[c]?x=b[c]:d.validationTypes&&(x=d.validationTypes);n.updateFilterProgress()},registerFilterData:function(a,b){w[a]=b},resetUntilCurrentStep:function(){for(var a=h.length;a>=e;a++)w[h[a]]={},l="",m=0},flushFilterDataByCurrentStepIdx:function(){for(var a=h,b=n.getCurrentStepIdx()+1;b<a.length;b++)delete w[a[b]];w},resetDropBoxText:function(){for(var a=h,b=n.getCurrentStepIdx()+1;b<a.length;b++){var c=
a[b],d=".js-trade-in-dropbox-items-"+c;$(d).html("");$(d).closest(".trade-in-select").find(".select-txt").text(L(c.toLowerCase(),!1))}},resetDropBox:function(){for(var a=h,b=n.getCurrentStepIdx()+1;b<a.length;b++){var c=".js-trade-in-dropbox-"+a[b];$(c).addClass("is-disabled");$(c).find(".trade-in-select").removeClass("is-selected")}},disableContinueCTA:function(){$(".trade-in-popup__sepco-device-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")},enableContinueCTA:function(){$(".trade-in-popup__sepco-device-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled")},
getSummaryTitle:function(){var a=h,b="";a&&0<a.length&&(b=a.map(function(a){var b="";if(a=w[a])b=a.itemName;return b}).slice(1).join(" | "));return b},enableDropBox:function(a){$(a).closest(".trade-in-select").addClass("is-opened");$(a).closest(".trade-in-popup__tradeIn-select__choose-wrap").removeClass("is-disabled")},getMemoizedData:function(a){return d[a]},checkMemoizedData:function(a){var b=n.getMemoizedData(f);b?a(b):$.when(p.getFilterDevice()).done(function(b){a(b)})},hidePriceWrap:function(){$(".trade-in-popup__tradeIn-select-summary-wrap").hide()},
showPriceWrap:function(){$(".trade-in-popup__tradeIn-select-summary-wrap").show()},triggerClickOnCheckedCategory:function(){$(".trade-in-radio__input.is-checked").trigger("click")},exposeConditionServiceCode:function(){b._conditionSeriveCode=l;b._validationTypes=x},hideHowToArea:function(){$(".trade-in-popup__sepco-device-wrap .trade-in-popup__content-how-to").hide()},getFilterName:function(b){var c=a.get("customFilterName")[b];return c?c:b},getCategoryIconName:function(a){var b="etc",c="";a&&(c=
a.toLowerCase());switch(c){case "phone":case "mobiles":case "smartphone":case "mobile phone":b="icon-smartphones";break;case "tablet":case "tablets":case "tablette":b="tablet-light";break;case "smart watch":case "smartwatches":case "montre connectee":case "smartwatch":case "watch":b="wearable-watch-light";break;case "laptop":b="laptop-light"}return b}},r={composeCategoryAreaHTML:function(b){var c=a.get("defaultCategory");return b.map(function(b,d){var e=c==b.value,f={};b.additionalInfos.forEach(function(a){f[a.key]=
a.value});if(a.get("customParseFilterStep")){var g=a.get("customParseFilterStep");f.filterSteps=g(f.filterSteps)}else f.filterSteps=JSON.parse(JSON.parse(f.filterSteps));a.get("useValidationType")&&(a.get("customParseFilterStep")?(g=a.get("customParseFilterStep"),f.validationTypes=g(f.validationTypes)):f.validationTypes=JSON.parse(JSON.parse(f.validationTypes)));return'\n\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__swiper-item swiper-slide" an-tr\x3d"category-option-'+(d+1)+'-list-index" an-ca\x3d"indication" an-ac\x3d"carousel" an-la\x3d"carousel:index:'+
(d+1)+'" data-type-headline\x3d"category-option'+(d+1)+'"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__swiper-inner js-trade-in-category-radio"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__tradeIn-category-list trade-in-radio js-trade-in-category-item"\x3e\n\t\t\t\t\t\t\t\t\x3cinput \n\t\t\t\t\t\t\t\t\ttype\x3d"radio" \n\t\t\t\t\t\t\t\t\tid\x3d"memory-rdo'+d+'" \n\t\t\t\t\t\t\t\t\tname\x3d"memory-rdo" \n\t\t\t\t\t\t\t\t\tclass\x3d"trade-in-radio__input '+(e?"is-checked":"")+" "+(e?"js-device-default-category":
"")+"\" \n\t\t\t\t\t\t\t\t\tdata-filter-info \x3d \"{\n\t\t\t\t\t\t\t\t\t\t'filterKey' : '"+b.key+"',\n\t\t\t\t\t\t\t\t\t\t'filterName' : '"+b.name+"',\n\t\t\t\t\t\t\t\t\t\t'categoryName' : '"+b.value+"',\n\t\t\t\t\t\t\t\t\t\t'filterSteps' : "+(f.filterSteps?n.quotSafe(JSON.stringify(f.filterSteps)):"null")+",\n\t\t\t\t\t\t\t\t\t\t'validationTypes' : "+(f.validationTypes?n.quotSafe(JSON.stringify(f.validationTypes)):"null")+'\n\t\t\t\t\t\t\t\t\t}"\x3e\n\t\t\t\t\t\t\t\t\t\x3clabel for\x3d"memory-rdo'+
d+'" class\x3d"trade-in-radio__label trade-in-popup__tradeIn-category-list-label"\x3e\n\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__tradeIn-category-list-img"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\x3cuse xlink:href\x3d"#'+n.getCategoryIconName(b.value)+'" href\x3d"#'+n.getCategoryIconName(b.value)+'"\x3e\x3c/use\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\t\t\t\t\t\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__tradeIn-category-list-text"\x3e'+
b.value+"\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t"+(a.get("useUpToPrice")?'\x3cspan class\x3d"trade-in-popup__tradeIn-category-list-price"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e'+Granite.I18n.get("Up to")+"\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\t\t\x3cem\x3e"+(a.get("useNegativeUpToPrice")?"-":"")+currencyComma(f.upToPrice?f.upToPrice:"",k)+"\x3c/em\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e":"")+"\n\t\t\t\t\t\t\t\t\x3c/label\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e"})},
composeDropBoxHTML:function(){var c=function(b){var c=!1;if(a.get("searchFuncStepList")){var d=a.get("searchFuncStepList");Array.isArray(d)&&(c=-1<d.indexOf(b))}a.get("searchFuncIdx")&&(c=h.indexOf(b)==a.get("searchFuncIdx"));return c},d=[];if(a.get("useHideFilterStep")&&b._hiddenSteps&&0<b._hiddenSteps.length)for(var e=b._hiddenSteps.split(","),f=0;f<e.length;f++){var g=n.getFilterName(e[f]);d.push(g)}return h.map(function(a,b){if(0<b)return'\n\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__tradeIn-select__choose-wrap js-trade-in-dropbox-'+
a+" is-disabled "+(-1<d.indexOf(a)?"js-is-hidden-filter-step":"")+'" style\x3d"'+(-1<d.indexOf(a)?"display : none;":"")+'"\x3e\n\t\t\t\t\t\t\t\x3cstrong class\x3d"trade-in-popup__tradeIn-select__choose-title"\x3e'+L(a.toLowerCase(),!1)+'\x3c/strong\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-select '+(0==b?"is-opened":"")+" "+(c(a)?"is-input-txt":"")+'" data-global-text\x3d\'{\n\t\t\t\t\t\t\t"Expand" : "Click to Expand",\n\t\t\t\t\t\t\t"Collapse" : "Click to Collapse"}\'\x3e\n\t\t\t\t\t\t\t\t\x3ca href\x3d"javascript:void(0);" class\x3d"trade-in-select__placeholder" role\x3d"button" aria-disabled\x3d"false" aria-expanded\x3d"true"\x3e\n\t\t\t\t\t\t\t\t\t\x3cbutton class\x3d"trade-in-select__placeholder-btn trade-in-select__placeholder-btn-open"\x3e\n\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+
Granite.I18n.get("Open Down")+'\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cuse xlink:href\x3d"#open-down-regular" href\x3d"#open-down-regular"\x3e\x3c/use\x3e\n\t\t\t\t\t\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\t\t\t\t\t\x3c/button\x3e\n\t\t\t\t\t\t\t\t\t\x3cbutton class\x3d"trade-in-select__placeholder-btn trade-in-select__placeholder-btn-close"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Close Up")+
'\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\x3cuse xlink:href\x3d"#close-up-regular" href\x3d"#close-up-regular"\x3e\x3c/use\x3e\n\t\t\t\t\t\t\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\t\t\t\t\t\x3c/button\x3e\n\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-select__placeholder-name"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"select-txt"\x3e'+L(a.toLowerCase(),!1)+"\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\t"+(c(a)?'\x3cdiv class\x3d"trade-in-popup__imei-form"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"text-field-v2 no-title" data-comp-name\x3d"textFieldv2"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3clabel class\x3d"text-field-v2__hint blind" for\x3d"text-field-1"\x3e'+
Granite.I18n.get("Select device or start typing")+'\x3c/label\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"text-field-v2__input-wrap"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3cinput class\x3d"text-field-v2__input" id\x3d"text-field-1" type\x3d"text" value\x3d"" placeholder\x3d"'+Granite.I18n.get("Select device or start typing")+'" autocomplete\x3d"off"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3cbutton class\x3d"text-field-v2__input-icon delete" aria-label\x3d"Delete" type\x3d"button"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3csvg class\x3d"icon delete" focusable\x3d"false" aria-hidden\x3d"true"\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3cuse xlink:href\x3d"#cancel-bold" href\x3d"#cancel-bold"\x3e\x3c/use\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c/svg\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c/button\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e':
"")+'\n\t\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Click to Expand")+'\x3c/span\x3e\n\t\t\t\t\t\t\t\t\x3c/a\x3e\n\t\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-select__options" aria-hidden\x3d"false"\x3e\n\t\t\t\t\t\t\t\t\t\x3cul role\x3d"list" class\x3d"js-trade-in-dropbox-items-'+a+'"\x3e\n\t\t\t\t\t\t\t\t\t\x3c/ul\x3e\n\t\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e'}).join("")},composeDropDownItemHTML:function(b){return b.map(function(b){var c=
{};b.additionalInfos.forEach(function(a){c[a.key]=a.value});return'\n\t\t\t\t\t\x3cli role\x3d"listitem" \n\t\t\t\t\t\tclass\x3d"js-dropbox-item" \n\t\t\t\t\t\tdata-drop-down-step-idx\x3d"'+e+"\"\n\t\t\t\t\t\tdata-filter-info\x3d\"{\n\t\t\t\t\t\t\t'filterKey' : '"+b.key+"',\n\t\t\t\t\t\t\t'filterName' : '"+b.name+"',\n\t\t\t\t\t\t\t'itemName' : '"+c.name+"',\n\t\t\t\t\t\t\t'code' : '"+b.code+"',\n\t\t\t\t\t\t\t'price' : '"+c.upToPrice+'\'\n\t\t\t\t\t\t}"\x3e\n\t\t\t\t\t\t\x3ca href\x3d"javascript:void(0);" role\x3d"option"\x3e\n\t\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__tradeIn-select__choose-item"\x3e\n\t\t\t\t\t\t\t\t\x3cspan class\x3d"trade-in-popup__tradeIn-select__choose-name"\x3e'+
c.name+"\x3c/span\x3e\n\t\t\t\t\t\t\t\t"+(a.get("useUpToPrice")?'\x3cspan class\x3d"trade-in-popup__tradeIn-select__choose-price"\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cspan\x3e'+Granite.I18n.get("Up to")+"\x3c/span\x3e\n\t\t\t\t\t\t\t\t\t\t\x3cem\x3e"+(a.get("useNegativeUpToPrice")?"-":"")+currencyComma(c.upToPrice,k)+"\x3c/em\x3e\n\t\t\t\t\t\t\t\t\t\x3c/span\x3e":"")+"\n\t\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\t\x3c/a\x3e\n\t\t\t\t  \t\x3c/li\x3e"}).join("")},composePriceArea:function(){return'\n\t\t\t\t\t\x3cp class\x3d"trade-in-popup__tradeIn-select-summary-title"\x3e'+
n.getSummaryTitle()+'\x3c/p\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__tradeIn-select-summary-dis"\x3e\n\t\t\t\t\t\t\t\x3cp class\x3d"text"\x3e'+Granite.I18n.get("trade-in sepco-device summary price-txt")+'\x3c/p\x3e\n\t\t\t\t\t\t\x3cp class\x3d"price"\x3e'+currencyComma(m,k)+"\x3c/p\x3e\n\t\t\t\t\t\x3c/div\x3e"},composeHowToArea:function(){for(var b="",c=1;c<=B;c++)b+='\n\t\t\t\t\t\x3cli class\x3d"trade-in-popup__content-how-to-item"\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__content-how-to-number"\x3e'+
c.toString().padStart(2,"0")+'\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv class\x3d"trade-in-popup__content-how-to-text-wrap"\x3e\n\t\t\t\t\t\t\t'+(a.get("useHowToTitle")?'\x3cstrong class\x3d"trade-in-popup__content-how-to-item-title"\x3e'+Granite.I18n.get("trade-in sepco-device how-to list-item title-"+c)+"\x3c/strong\x3e":"")+"\n\t\t\t\t\t\t\t"+(a.get("useHowToDesc")?'\x3cspan class\x3d"trade-in-popup__content-how-to-text"\x3e'+Granite.I18n.get("trade-in sepco-device how-to list-item desc-"+c)+"\x3c/span\x3e":
"")+"\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t  \t\x3c/li\x3e";return b}},t={renderCategoryArea:function(a){a=r.composeCategoryAreaHTML(a);$(".js-trade-in-category-radio").html(a);u.bindCategoryAreaEvent()},renderDropBox:function(){var a=r.composeDropBoxHTML();$(".js-trade-in-common-dropbox").html(a)},renderDropDownItem:function(a){var b=".js-trade-in-dropbox-items-"+h[e];a=r.composeDropDownItemHTML(a);var c=$(b);c&&0<c.length&&($(b).html(a),u.bindDropDownSelectionAreaEvent(b),n.enableDropBox(b));c.closest(".trade-in-popup__tradeIn-select__choose-wrap").hasClass("js-is-hidden-filter-step")&&
c.find(".js-dropbox-item").first().trigger("click")},renderPriceArea:function(){var a=r.composePriceArea();$(".trade-in-popup__tradeIn-select-summary-wrap").html(a)},renderHowToArea:function(){var a=r.composeHowToArea();$(".trade-in-popup__sepco-device-wrap .trade-in-popup__content-how-to-list").html(a)}},u={bindCategoryAreaEvent:function(){$(".trade-in-radio__input").click(function(b){b=$(b.target);$(".trade-in-radio__input").removeClass("is-checked");b.addClass("is-checked");n.updateFilterData(b);
n.flushFilterDataByCurrentStepIdx();n.resetDropBoxText();n.updateFilterProgress();t.renderDropBox(h);n.hidePriceWrap();n.disableContinueCTA();n.checkMemoizedData(function(b){d[f]=b;a.get("isSamsungFirst")&&"deviceType"==q&&b.sort(function(a,b){a=a.value?a.value.toLowerCase():"";b=b.value?b.value.toLowerCase():"";return"samsung"==a&&"samsung"!=b?-1:"samsung"!=a&&"samsung"==b?1:a<b?-1:a>b?1:0});t.renderDropDownItem(b);window.sg.components.tradeInPopup.reInit()})})},bindDropDownSelectionAreaEvent:function(b){$(b).find("li").click(function(b){b=
$(b.target).closest("li");n.updateFilterData(b);n.flushFilterDataByCurrentStepIdx();n.resetDropBoxText();n.resetDropBox();e<h.length?(n.hidePriceWrap(),n.disableContinueCTA(),n.checkMemoizedData(function(a){(d[f]=a)&&0<a.length&&t.renderDropDownItem(a)})):(a.get("useEquipmentIdCall")&&n.checkMemoizedData(function(a){n.updateFilterData(a,!0)}),n.enableContinueCTA(),a.get("usePriceSummary")&&(n.showPriceWrap(),t.renderPriceArea()))})},bindContinueBtnEvent:function(){$(".trade-in-popup__sepco-device-wrap .trade-in-popup__btn-continue").click(function(){n.exposeConditionServiceCode()})}};
return{init:function(){$.when(p.getFilterDevice()).done(function(a){c=a;t.renderCategoryArea(c);t.renderHowToArea();u.bindContinueBtnEvent()})},showStep:function(b){b=void 0===b?!0:b;n.triggerClickOnCheckedCategory();b&&window.sg.components.tradeInPopup.showStep(".trade-in-popup__sepco-device-wrap");a.get("useHowToArea")||n.hideHowToArea();n.hidePriceWrap();n.disableContinueCTA()},resetStep:function(){m=l="";x=[];a.get("defaultCategory")&&$(".js-device-default-category").click()}}}(),Y=function(){function a(){d.uncheckAllListItem();
"Y"==c.goodConditionYN?(d.showYesConditionList(),d.hideNoConditionList(),d.checkYesForNoCondtionListItem()):(d.hideYesConditionList(),d.showNoConditionList(),d.checkNoForYesConditionListItem());d.getIsCheckedAll()?d.enableContinueBtn():d.disableContinueBtn()}var c={goodConditionYN:"",questionLoaded:!1},d={enableContinueBtn:function(){b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").removeClass("cta--disabled");b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").attr("disabled",
!1)},disableContinueBtn:function(){b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").addClass("cta--disabled");b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").attr("disabled",!0)},getIsCheckedAll:function(){return b._layerWrap.find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item").length==b._layerWrap.find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item input:checked").length},
getIsYesCTA:function(a){return a.hasClass("js-condition-cta-yes")},showYesConditionList:function(){$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--yes").show()},showNoConditionList:function(){$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--no").show()},hideYesConditionList:function(){$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--yes").hide()},hideNoConditionList:function(){$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--no").hide()},
checkNoForYesConditionListItem:function(){$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--yes").find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item").each(function(){$(this).find(".trade-in-popup__condition-list-item-check:eq(1) input").click()})},checkYesForYesConditionListItem:function(){$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--yes").find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item").each(function(){$(this).find(".trade-in-popup__condition-list-item-check:eq(0) input").click()})},
checkYesForNoCondtionListItem:function(){$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--no").find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item").each(function(){$(this).find(".trade-in-popup__condition-list-item-check:eq(0) input").click()})},isCheckedYesAllNoConditionItems:function(){var a=$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--no").find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item").length,
b=0;$(".trade-in-popup__condition-list-area.trade-in-popup__condition-list-area--no").find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item").each(function(){0<$(this).find(".trade-in-popup__condition-list-item-check:eq(0) input:checked").length&&b++});return a==b},uncheckAllListItem:function(){b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__condition-list").find("input[type\x3d'radio']").prop("checked",!1)}},f={bindChoiceCTAEvent:function(){$(".trade-in-popup__yn-option-tab .trade-in-popup__yn-option-tab-item input").change(function(b){b=
$(b.target);b.prop("checked",!0);d.getIsYesCTA(b)?c.goodConditionYN="Y":c.goodConditionYN="N";c.questionLoaded?a():(P(),c.questionLoaded=!0)})}};return{init:function(){f.bindChoiceCTAEvent()},reset:function(){c={selectedCondition:{},goodConditionYN:"",questionLoaded:!1};b._layerWrap.find(".trade-in-popup__condition-wrap .trade-in-popup__condition-list").html("");$(".trade-in-popup__yn-option-tab .trade-in-popup__yn-option-tab-item").find(":checked").prop("checked",!1)},callBackWhenConditionGridDone:a,
beforeSetConditionCall:function(){"N"==c.goodConditionYN&&(d.isCheckedYesAllNoConditionItems()?d.checkYesForYesConditionListItem():d.checkNoForYesConditionListItem())}}}(),xa=function(){var a=Ka(g,{default:{RegExr:{imei:/^([0-9a-zA-Z]){15}$/,serial:/^[a-zA-Z0-9!@#$%^&*()\-_=+`~[\]{},.<>?;:'"|]{9,16}$/},maxInputlength:{imei:15,serial:16},callValidateWhenClickSearchBtn:!0}}),c=!1,d={validateDevice:function(a){var c=A+"/"+v+"/servicesv2/validateDevice";paramObj={keyword:a,equipmentId:b._conditionSeriveCode,
provider:"ASSURANTV2",validationType:b._deviceIdType};a="true"===$("#isEppPage").val()?{withCredentials:!0}:{};return"Y"==oa?$.ajax({url:c,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:a,timeout:1E4,data:paramObj,async:!1}):m?$.ajax({url:c,type:"GET",dataType:"jsonp",cache:!0,xhrFields:a,crossDomain:!0,timeout:1E4,data:paramObj,async:!1}):$.ajax({url:c,type:"GET",dataType:"jsonp",jsonpCallback:"jQuery1910499421933433041_1111",cache:!0,xhrFields:a,crossDomain:!0,timeout:1E4,data:paramObj,
async:!1})}},f={getIsIMEIBtn:function(a){return a.hasClass("js-apply-step-selection-imei-radio")},checkRegExr:function(c){var d="";if(a.get("RegExr")){var e=a.get("RegExr");"SERIAL_NO"==b._deviceIdType?d=e.serial:"IMEI"==b._deviceIdType&&(d=e.imei)}return d.test(c)?!0:!1},showValidationMsg:function(a,b){b?($(".trade-in-popup__imei-form .text-field-v2").removeClass("success").addClass("error"),$(".trade-in-popup__imei-form .text-field-v2__text.error").text(a)):($(".trade-in-popup__imei-form .text-field-v2").removeClass("error").addClass("success"),
$(".trade-in-popup__imei-form .text-field-v2__text.success").text(a))},setMaxLength:function(){var c=a.get("maxInputlength"),d;"SERIAL_NO"==b._deviceIdType?d=c.serial:"IMEI"==b._deviceIdType&&(d=c.imei);$(".js-validate-device-imei-input").attr("maxlength",d)},checkEnableConfirm:function(){var a=$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");aa(a)&&"Y"==b._imeiValidationSuccessYN&&b._value?($(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").removeClass("cta--disabled"),
$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").attr("aria-disabled",!1)):$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").addClass("cta--disabled")}},e={bindSelectionEvent:function(){_$target=$(".trade-in-popup__validation-option .trade-in-popup__option-tab input");_$target.change(function(a){b._imeiValidationSuccessYN="N";a=$(a.target);f.getIsIMEIBtn(a)?(b._deviceIdType="IMEI",$(".js-apply-step-serial-how-to").hide(),$(".js-apply-step-imei-how-to").show(),
$(".trade-in-popup__imei-form .text-field-v2__hint").text(Granite.I18n.get("trade-in apply validation-check input number-length-guide")),$(".trade-in-popup__imei-number-text").html("\x3cstrong\x3e"+Granite.I18n.get("trade-in apply validation-check input title-imei")+"\x3c/strong\x3e")):(b._deviceIdType="SERIAL_NO",$(".js-apply-step-serial-how-to").show(),$(".js-apply-step-imei-how-to").hide(),$(".trade-in-popup__imei-form .text-field-v2__hint").text(""),$(".trade-in-popup__imei-number-text").html("\x3cstrong\x3e"+
Granite.I18n.get("trade-in apply validation-check input title-serial")+"\x3c/strong\x3e"));$(".js-validate-device-imei-input").val("")})},bindValidationInputEvent:function(){_$target=$(".js-validate-device-imei-input");_$target.off("keyup").keyup(function(){var e=_$target.val(),g=b._validationTypes,h=!1;a.get("callValidateWhenClickSearchBtn")&&(c=!1);$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").removeClass("show");if(f.checkRegExr(e))a.get("callValidateWhenClickSearchBtn")?
(c=!0,$(".trade-in-popup__imei-form .text-field-v2").removeClass("error")):$.when(d.validateDevice(e)).done(function(a){var c=a.resultMessage;if("100"==a.resultCode){var d={};a.additionalInfos&&0<a.additionalInfos.length&&a.additionalInfos.forEach(function(a){a.key&&(d[a.key]=a.value?a.value:null)});d.hasOwnProperty("warning")?(d.warning&&$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap .trade-in-popup__seca-imei--warning-message-desc").text(d.warning),$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").addClass("show")):
$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").removeClass("show");b._value=e;b._imeiValidationSuccessYN="Y";c?f.showValidationMsg(c,h):f.showValidationMsg(Granite.I18n.get("Correct"),h)}else b._value="",b._imeiValidationSuccessYN="N",h=!0,a="",c?a=c:g.includes("IMEI")&&g.includes("SERIAL_NO")?a=Granite.I18n.get("Invalid IMEI or Serial number"):g.includes("IMEI")?a=Granite.I18n.get("Invalid IMEI"):g.includes("SERIAL_NO")&&(a=Granite.I18n.get("Invalid Serial number")),
f.showValidationMsg(a,h);f.checkEnableConfirm()}).fail(function(){b._value="";b._imeiValidationSuccessYN="N";h=!0;f.showValidationMsg(Granite.I18n.get("We\u2019re sorry, an error occurred."),h);f.checkEnableConfirm()});else{b._value="";b._imeiValidationSuccessYN="N";h=!0;var k="";g.includes("IMEI")&&g.includes("SERIAL_NO")?k=Granite.I18n.get("Invalid IMEI or Serial number"):g.includes("IMEI")?k=Granite.I18n.get("Invalid IMEI"):g.includes("SERIAL_NO")&&(k=Granite.I18n.get("Invalid Serial number"));
f.showValidationMsg(k,h);15<e.length&&_$target.val(e.substring(0,15));f.checkEnableConfirm()}})},bindMagnifierBtnEvent:function(){var a=$(".trade-in-popup__validation-option #js-validation-trigger"),e=$(".js-validate-device-imei-input");a.click(function(){var a=e.val(),g=b._validationTypes;if(c&&a){var h=!1;$.when(d.validateDevice(a)).done(function(c){var d=c.resultMessage;if("100"==c.resultCode){var e={};c.additionalInfos&&0<c.additionalInfos.length&&c.additionalInfos.forEach(function(a){a.key&&
(e[a.key]=a.value?a.value:null)});e.hasOwnProperty("warning")?(e.warning&&$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap .trade-in-popup__seca-imei--warning-message-desc").text(e.warning),$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").addClass("show")):$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").removeClass("show");b._value=a;b._imeiValidationSuccessYN="Y";d?f.showValidationMsg(d,h):f.showValidationMsg(Granite.I18n.get("Correct"),
h)}else b._value="",b._imeiValidationSuccessYN="N",h=!0,c="",d?c=d:g.includes("IMEI")&&g.includes("SERIAL_NO")?c=Granite.I18n.get("Invalid IMEI or Serial number"):g.includes("IMEI")?c=Granite.I18n.get("Invalid IMEI"):g.includes("SERIAL_NO")&&(c=Granite.I18n.get("Invalid Serial number")),f.showValidationMsg(c,h);f.checkEnableConfirm()}).fail(function(){b._value="";b._imeiValidationSuccessYN="N";h=!0;f.showValidationMsg(Granite.I18n.get("We\u2019re sorry, an error occurred."),h);f.checkEnableConfirm()})}})}},
h={renderValidationArea:function(){var a=b._validationTypes;a&&0<a.length&&(a.includes("IMEI")&&a.includes("SERIAL_NO")?($(".trade-in-popup__validation-option").show(),$(".trade-in-popup__validation-option .trade-in-popup__option-tab").show(),$(".trade-in-popup__validation-option .js-apply-step-validation-radio-title").show(),$(".trade-in-popup__validation-option .trade-in-popup__option-tab input").eq(0).click()):($(".trade-in-popup__validation-option .trade-in-popup__option-tab").hide(),$(".trade-in-popup__validation-option .js-apply-step-validation-radio-title").hide(),
a.includes("IMEI")?(b._deviceIdType="IMEI",$(".js-apply-step-serial-how-to").hide(),$(".js-apply-step-imei-how-to").show(),$(".trade-in-popup__imei-form .text-field-v2__hint").text(Granite.I18n.get("trade-in apply validation-check input number-length-guide")),$(".trade-in-popup__imei-number-text").html("\x3cstrong\x3e"+Granite.I18n.get("trade-in apply validation-check input title-imei")+"\x3c/strong\x3e")):a.includes("SERIAL_NO")&&(b._deviceIdType="SERIAL_NO",$(".js-apply-step-serial-how-to").show(),
$(".js-apply-step-imei-how-to").hide(),$(".trade-in-popup__imei-form .text-field-v2__hint").text(""),$(".trade-in-popup__imei-number-text").html("\x3cstrong\x3e"+Granite.I18n.get("trade-in apply validation-check input title-serial")+"\x3c/strong\x3e"))));f.setMaxLength()}};return{init:function(){h.renderValidationArea();e.bindSelectionEvent();e.bindValidationInputEvent();e.bindMagnifierBtnEvent()},reset:function(){b._imeiValidationSuccessYN="N";b._value="";$(".trade-in-popup__validation-option .trade-in-popup__option-tab input:checked").prop("checked",
!1);a.get("isAvailableValidationCall")&&(c=!1);h.renderValidationArea();$(".trade-in-popup__imei-form .text-field-v2").removeClass("success").removeClass("error");$(".trade-in-popup__imei-form .text-field-v2__text.error").text("");$(".trade-in-popup__imei-form .text-field-v2__text.success").text("");$(".js-validate-device-imei-input").val("");$(".trade-in-popup__apply-wrap .trade-in-popup__seca-imei--warning-message-wrap").removeClass("show")}}}(),db=[{step:"brand",tagging:"select brand"},{step:"discount",
tagging:"trade-in guide"},{step:"device-seca",tagging:"select device"},{step:"model",tagging:"select device"},{step:"imei",tagging:"enter imei"},{step:"condition",tagging:"check device condition"},{step:"trade-in-id",tagging:"check availability trade-in"},{step:"zipcode",tagging:"check availability trade-in"},{step:"apply",tagging:"apply discount"},{step:"instant-discount",tagging:"select instantdiscountcashback"}],R=!1;"hu"===g&&(R=!0);var p=!1;"vn"===g&&(p=!0);var X="",l=!1,W={},H={},ra=!0;if("hk"===
g||"hk_en"===g)l=!0;var E=!1;if(m||V||R||p||"nz"===g||r)E=!0;var Ha=[],fa=!1,S="04000000"===$("#categoryGroupCode").val()?!0:!1,t=[],ha=[];ea=window.sg.components.dynamic.detailSharedObj;var v="true"===$("#isEppPage").val()?$("#eppCompanyCode").val():ea.multistoreSiteCd,b={_layerWrap:$(".trade-in-popup"),_value:"",_brand:"",_deviceIdType:"",_model:"",_discountPrice:0,_cashbackPrice:0,_price:0,_promotion:"",_enhancedDiscountAmount:0,_serviceCode:"",_conditionSeriveCode:"",_provider:"",_step:[],_stepIdx:0,
_beforeIdx:0,_afterIdx:0,_tradeInJsonData:{},_condisionJsonData:{},_useImeivalidation:!1,_useQuestion:!1,_tradeInAdditionalInfo:[],configuratorBaseData:{},_vnselectboxstepYn:!1,_tradeInSpecialPrice:0,_tradeinTotalAmount:0,_tradeinValue:0,_exclusiveTradeinUnitOffer:0,_extraTradeinOffer:0,_exclusiveChannerTradeinOffer:0,_extraTradeinVoucher:0,_reCaptchaFlag:!1,_additionalDiscount:0,_tradeInMode:"",_instantdiscount:"N",_chooseInstantDiscountOrCashback:!1,_validationTypes:[],_imeiValidationSuccessYN:"N"},
za=0;$(document).on("input","#zipcode-input",function(a){$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");a=$(this);a.val(a.val().replace(/[^0-9]/g,""))});$(document).on("keyup","#zipcode-input",function(a){J=$("#zipcode-input").val();13!==a.which&&5!==J.length||Na()});$(document).on("keypress","#zipcode-input",function(a){var b=$(this);$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled");
b.val(b.val().replace(/[^\d].+/,""));(48>a.which||57<a.which)&&a.preventDefault()});$(document).on("click",".trade-in-popup .trade-in-popup__brand-dropdown-wrap .trade-in-popup__dropdown--select-item",function(){Aa($(this).attr("brandname"))});$(document).on("click",".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-item-input",function(a){$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled");$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").attr("aria-disabled",
!1)});$(document).on("click",".trade-in-popup .trade-in-popup__seca-imei-wrap .trade-in-popup__brand-item-input",function(a){b._conditionSeriveCode=$(this).attr("data-role-id");b._serviceCode=$(this).attr("data-role-id");b._brand=$(this).attr("data-role-brand");b._model=$(this).attr("data-role-model")});$(document).on("click",".trade-in-popup__instant-discount-wrap .trade-in-popup__brand-item-input",function(a){b._instantdiscount=$(this).attr("data-role-instantdiscount");"Y"==b._instantdiscount?($(".trade-in-popup .cashbacklist").css("display",
"none"),$(".trade-in-popup .discountlist").css("display","")):($(".trade-in-popup .cashbacklist").css("display",""),$(".trade-in-popup .discountlist").css("display","none"));ia();$(".trade-in-popup__instant-discount-wrap .trade-in-popup__btn-wrap").find("button.trade-in-popup__btn-continue").removeClass("cta--disabled");$(".trade-in-popup__instant-discount-wrap .trade-in-popup__btn-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",!1);$(this).parent().siblings().find("input[type\x3d'radio']").attr("checked",
!1);$(this).find("input[type\x3d'radio']").attr("checked",!0)});$(document).on("click",".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-list .trade-in-popup__model-item-input",function(a){$(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled");$(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)});$(document).on("keyup","#voucherCode",function(a){a=$(this).val();""===a||/^[A-Z0-9-]{5,18}$/.test(a)?
(b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").removeClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").attr("disabled",!1),b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap").removeClass("show")):(b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").addClass("cta--disabled"),
b._layerWrap.find(".trade-in-popup__condition-wrap").find("button.trade-in-popup__btn-continue, .cta--contained").attr("disabled",!0),b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap").addClass("show"),b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap .trade-in-popup__promo-error-desc").text(Granite.I18n.get("The promo code you entered is invalid.")))});$(document).on("click",".trade-in-popup .trade-in-popup__carrier-wrap .trade-in-popup__carrier-list-item-input",
function(a){$(".trade-in-popup .trade-in-popup__carrier-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled");$(".trade-in-popup .trade-in-popup__carrier-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1)});$(document).on("click",".trade-in-popup .trade-in-popup__btn-continue:not(.cta--disabled)",function(a){a.preventDefault();var c=$(this).attr("stepName");if("model"===c){var d=$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-item-input:checked").attr("brandName"),
f=$(".trade-in-popup .trade-in-popup__model-wrap .trade-in-popup__model-item-input:checked").attr("modelIndex");b._tradeInJsonData.companies.filter(function(a){if($.trim(a.company)===$.trim(d)){var c=a.models[f],e=null!=c.cashbackprice&&c.cashbackprice?c.cashbackprice:0,g=null!=c.description&&c.description?c.description:"";b._discountPrice=null!=c.discountprice&&c.discountprice?c.discountprice:0;b._cashbackPrice=e;b._brand=d;b._model=c.modelname;b._promotion=g;b._serviceCode=c.tradeincode;b._conditionSeriveCode=
c.tradeincode;b._deviceIdType=c.deviceIdType;b._price=parseFloat(b._discountPrice)+parseFloat(b._cashbackPrice);b._modelObj=a.models[f]}})}K&&"SERIAL_NO"===b._deviceIdType.toUpperCase()&&!S&&(la(),b._step=b._useQuestion?["brand","model","condition","apply"]:["brand","model","apply"]);E&&"imei"===c&&(b._step=ya?b._defaultStep:p?["discount","imei","apply"]:["discount","imei","condition","apply"]);p&&"imei"===c&&b._vnselectboxstepYn?(t=[],ha=[],b._step=["discount","imei","device-seca","condition","apply"],
T("",-1),window.sg.components.tradeInPopup.showStep(".trade-in-popup__seca-select-wrap"),I++,Q()):(c=b._step.indexOf(c)+1,Va(c,a))});$(document).on("click",".trade-in-popup .trade-in-popup__btn-back",function(a){a.preventDefault();a=$(this).attr("stepName");var c=b._step.indexOf(a)-1;p&&"device-seca"===a&&(b._step=["discount","imei","apply"]);Ba(c)});var aa=function(a){var b=!0;0<a.length&&a.each(function(){var a=$(this);a.closest(".trade-in-popup__confirm-terms-checkbox-wrap").hasClass("is-required")&&
(b=b&&a.is(":checked"))});return b},La=function(){var a="",c=15,d=c,f=!1;"SERIAL_NO"==b._deviceIdType&&(f=!0,"it"===g?(c=8,d=18):d=c=12);b._layerWrap.find("#imei-input").attr("maxlength",d);d=$("#imei-input").val();b._value=d;if(""===d)a=Granite.I18n.get("IMEI is required.");else if(d.length<c)a=Granite.I18n.get("Incorrect");else if(f){a:if(c=/^[a-zA-Z0-9]{11,12}$/,"it"===g&&(c=/^[a-zA-Z0-9-]{8,18}$/),c.test(d)){if("it"!==g&&(c=d.search(/[0-9]/g),d=d.search(/[a-z]/ig),0>c||0>d)){d=!1;break a}d=!0}else d=
!1;d||(a=Granite.I18n.get("Invalid IMEI"))}else{a:if(c=!0,"it"===g&&(c=!1),/^[0-9]{15}$/.test(d)){if(c){c=0;f=2;for(i=0;14>i;i++){var e=d.substring(14-i-1,14-i);e=parseInt(e,10)*f;c=10<=e?c+(e%10+1):c+e;1===f?f++:f--}if((10-c%10)%10!==parseInt(d.substring(14,15),10)){d=!1;break a}}d=!0}else d=!1;d||(a=Granite.I18n.get("Invalid IMEI"))}""!==a?($(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("success").addClass("error"),$(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title .error").text(a),
$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").addClass("cta--disabled")):b._useImeivalidation?na():($(".trade-in-popup .trade-in-popup__imei-wrap .text-field-v2.no-title").removeClass("error").addClass("success"),$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__imei-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1))},ua,Ma=function(a){clearInterval(ua);fa=!1;var c=
b._layerWrap.find(".trade-in-popup__seca-imei-wrap");c.find(".trade-in-popup__seca-select-wrap ul").html("");var d=$("#seca-imei-input").val();a=d.length;b._value=d;if(!Xa()&&(8>a?(0===a?(c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),c.find(".text-field-v2__text.error").text(Granite.I18n.get("IMEI is required."))):(c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),c.find(".text-field-v2__text.error").text(Granite.I18n.get("Please enter a valid IMEI or Serial number"))),
"sg"==g?ba("Y"):ba("N")):/^([0-9a-zA-Z]){8,}$/.test(d)?fa=!0:(c.find(".text-field-v2.no-title").removeClass("success").addClass("error"),c.find(".text-field-v2__text.error").text(Granite.I18n.get("Please enter a valid IMEI or Serial number")),ba("N")),"nz"==g&&(c.find(".trade-in-manually-cta").hide(),fa||($(".trade-in-popup").find(".trade-in-popup__seca-imei--warning-message-wrap").css("display","block"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-list").css("display","none"),b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-title").text(Granite.I18n.get("Please check your IMEI or S/N again.")),
b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").html(Granite.I18n.get("IMEI_INVALID_DESC")),$(".trade-in-popup__seca-imei--sub-title").addClass("error"))),fa)){ba("N");var f=0;c=b._layerWrap.find(".trade-in-popup__seca-imei-wrap");ua=setInterval(function(){f++;1<f&&(c.find(".text-field-v2__text").text(""),c.find(".text-field-v2.no-title").removeClass("error").removeClass("success"),"nz"==g&&(b._layerWrap.find(".trade-in-popup__seca-imei--warning-message-desc").text(""),c.find(".trade-in-popup__seca-imei--sub-title").removeClass("error")),
p&&(b._vnselectboxstepYn=!0,b._conditionSeriveCode="",b._serviceCode="",b._brand="",b._model="",b._layerWrap.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-brand").text(""),b._layerWrap.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-product-model").text(""),b._layerWrap.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price").text(""),b._layerWrap.find(".trade-in-popup__apply-wrap .trade-in-popup__summary-price-desc").text(""),b._discountPrice="",b._cashbackPrice=
"",b._price=""),clearInterval(ua),"sg"===g||u||l||"nz"===g?na():Za(d))},1E3)}};$(document).on("keyup","#imei-input, #seca-imei-input",function(a){m||"nz"===g||r?m&&La():E||"sg"===g||u||l?Ma(a):La()});$(document).on("click","#secaImei",function(a){Ma(a)});$(document).on("click",".trade-in-popup__imei-brand-wrap ul input",function(a){_this=$(this);a=_this.attr("data-role-id");var c=_this.attr("data-role-brand"),d=_this.attr("data-role-model");b._conditionSeriveCode=a;b._brand=c;b._model=d});$(document).on("click",
".trade-in-popup__seca-imei--warning-message-wrap .trade-in-popup__seca-imei--warning-message-list a, .trade-in-popup__seca-imei--warning-message-wrap .trade-in-manually-cta",function(a){b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").addClass("cta--disabled").attr("disabled",!0);t=[];ha=[];b._step=["discount","imei","device-seca","condition","apply"];T("",-1);window.sg.components.tradeInPopup.showStep(".trade-in-popup__seca-select-wrap");I++;Q()});$(document).on("click",
".trade-in-popup .trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap ul li button",function(a){a=$(this).parent().index();var c=$(this).closest(".trade-in-popup__seca-select--dropdown").find("li:eq("+a+") button").attr("data-filterStep"),d=$(this).closest(".trade-in-popup__seca-select--dropdown").find("li:eq("+a+") button").attr("data-filterCode"),f=$(this).closest(".trade-in-popup__seca-select--dropdown").find("ul").attr("data-select-cnt");$(this).closest(".trade-in-popup__seca-select--dropdown").find("li:eq("+
a+") button").attr("value");""!==c?(t=JSON.parse(ha[Number(c)]),p&&b._layerWrap.find(".trade-in-popup__seca-select-wrap").find("li button").removeClass("is-checked")):$(this).closest(".trade-in-popup__seca-select--dropdown").find("li button").removeClass("is-checked");$(this).addClass("is-checked");R&&$(this).closest(".trade-in-popup__seca-select--dropdown").attr("huServiceCode",$(this).attr("data-huadditional").toUpperCase());if("sg"===g||u)Ia(Ha,Number(f));else if(l){if(0===$(this).closest(".trade-in-popup__seca-select--dropdown-wrap").index())for(c=
0;c<W.deviceType[a].additionalInfos.length;c++){var e=W.deviceType[a].additionalInfos[c];"filterSteps"===e.key&&(H.filterSteps=e.value)}$(this).closest(".trade-in-popup__seca-select--dropdown-wrap").hasClass("PurchaseFrom")?b._layerWrap.find(".trade-in-popup__seca-select-wrap button.trade-in-popup__btn-continue").removeClass("cta--disabled").attr("disabled",!1):T(d,Number(f))}else T(d,Number(f))});$(document).on("click",".trade-in-popup__btn-wrap button.trade-in-popup__btn-close.newwindow",function(a){window.open("https://trade-in.regener8group.co.za/switchtogalaxy/")});
var L=function(a,b){var c="",f="N";b&&(f="Y");null!=a&&(a=a.toLowerCase(),"Y"==f?"devicetype"==a?c="Title Select Device Type:":"manufacturer"==a||"brandname"==a?c="Title Select Manufacturer:":"model"==a||"modelname"==a?c="Title Select Model:":"storage"==a||"capacity"==a?c="Title Select Storage:":"color"==a?c="Title Select Color:":"make"==a||"brand"==a?c="Title Select Make:":"screensize"==a?c="Title Select Screen Size:":"processortype"==a?c="Title Select Processor Type:":"operatingsystem"==a?c="Title Select Operating System:":
"harddrivesize"==a?c="Title Select Hard Drive Size:":"ram"==a?c="Title Select Ram:":"cpu"==a?c="Title Select cpu:":"ssd"==a?c="Title Select ssd:":"hdd"==a?c="Title Select hdd:":"monitor"==a&&(c="Title Select monitor:"):"devicetype"==a?c="Select Device Type:":"manufacturer"==a||"brandname"==a?c="Select Manufacturer:":"model"==a||"modelname"==a?c="Select Model:":"storage"==a||"capacity"==a?c="Select Storage:":"color"==a?c="Select Color:":"make"==a||"brand"==a?c="Select Make:":"screensize"==a?c="Select Screen Size:":
"processortype"==a?c="Select Processor Type:":"operatingsystem"==a?c="Select Operating System:":"harddrivesize"==a?c="Select Hard Drive Size:":"ram"==a?c="Select Ram:":"cpu"==a?c="Select cpu:":"ssd"==a?c="Select ssd:":"hdd"==a?c="Select hdd:":"monitor"==a&&(c="Select monitor:"));return Granite.I18n.get(c)},ca=function(a,c){var d=b._layerWrap.find(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-container"),f="",e="",h="";0<a?(e=t[a],h="add"):""!=c&&(e=c[0].name);f+='\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-wrap '+
e+" "+h+'"\x3e';f+='\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-title-wrap"\x3e';f+='\t\t\x3cp class\x3d"trade-in-popup__seca-select--dropdown-num"\x3e0'+(a+1)+"\x3c/p\x3e";f=l||r?f+('\t\t\x3cp class\x3d"trade-in-popup__seca-select--dropdown-title"\x3e'+L(e,!0)+"\x3c/p\x3e"):f+('\t\t\x3cp class\x3d"trade-in-popup__seca-select--dropdown-title"\x3e'+L(e,!1)+"\x3c/p\x3e");f+="\t\x3c/div\x3e";f+='\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown"\x3e';f+='\t\t\x3cbutton class\x3d"trade-in-popup__seca-select--dropdown-select-field" aria-haspopup\x3d"listbox" aria-expanded\x3d"false"\x3e'+
L(e)+"\x3c/button\x3e";f+='\t\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-select-list scrollbar"\x3e';f+='\t\t\t\x3cul class\x3d"scrollbar__contents" role\x3d"listbox" id\x3d"'+e+'" data-select-cnt\x3d'+a+"\x3e";$.each(c,function(b,c){var d="",e="";if(null!==c.additionalInfos&&0<c.additionalInfos.length)if(R&&0!==a)e=JSON.parse(JSON.parse(c.additionalInfos[0].value))[0];else{for(e=0;e<c.additionalInfos.length;e++)"filterSteps"===c.additionalInfos[e].key&&(ha[b]=JSON.parse(c.additionalInfos[e].value),
d=b);e=c.value}f+='\x3cli class\x3d"trade-in-popup__seca-select--dropdown-select-item" role\x3d"presentation"\x3e';f+='\t\x3cbutton class\x3d"trade-in-popup__seca-select--dropdown-select-item-name" role\x3d"option" value\x3d"'+c.value+'" data-filterStep\x3d"'+d+'" data-filterCode\x3d"'+c.key+'" data-huAdditional\x3d"'+e+'"\x3e'+c.value+"\x3c/button\x3e";f+="\x3c/li\x3e"});f+="\t\t\t\x3c/ul\x3e";f+="\t\t\x3c/div\x3e";f+="\t\x3c/div\x3e";f+="\x3c/div\x3e";1===a?d.find(".trade-in-popup__seca-select--dropdown-wrap.add").remove():
""!==h?d.find(".trade-in-popup__seca-select--dropdown-wrap."+e+".add").remove():d.find(".trade-in-popup__seca-select--dropdown-wrap").remove();h=t.length+1;0<a&&(h="carrier"==t[t.length-1]?t.length-1:t.length);for(var k=a+1;k<h;k++){var m=t[k];c=k+1;"sg"===g||l||(f+='\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-wrap '+m+' add"\x3e',f+='\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-title-wrap"\x3e',f+='\t\t\x3cp class\x3d"trade-in-popup__seca-select--dropdown-num"\x3e0'+c+"\x3c/p\x3e",
f+='\t\t\x3cp class\x3d"trade-in-popup__seca-select--dropdown-title"\x3e'+L(m,!0)+"\x3c/p\x3e",f+="\t\x3c/div\x3e",f+='\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown"\x3e',f+='\t\t\x3cbutton class\x3d"trade-in-popup__seca-select--dropdown-select-field" aria-haspopup\x3d"listbox" aria-expanded\x3d"false"\x3e'+L(m)+"\x3c/button\x3e",f+='\t\t\x3cdiv class\x3d"trade-in-popup__seca-select--dropdown-select-list scrollbar"\x3e',f+='\t\t\t\x3cul class\x3d"scrollbar__contents" role\x3d"listbox" id\x3d"'+
m+'" data-select-cnt\x3d'+k+"\x3e",f+="\t\t\t\x3c/ul\x3e",f+="\t\t\x3c/div\x3e",f+="\t\x3c/div\x3e",f+="\x3c/div\x3e");d.find(".trade-in-popup__seca-select--dropdown-wrap."+m+".add").remove()}d.append(f);l&&0<$(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap.PurchaseFrom").length&&$(".trade-in-popup__seca-select-wrap .trade-in-popup__seca-select--dropdown-wrap.PurchaseFrom").remove();d=Number(d.find("."+e+" ul").attr("data-select-cnt"));window.sg.components.tradeInPopup.bindSecaSelectDropdownEvent(d);
window.sg.common.scrollbar.initAll()};$(document).on("click",".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__condition-list-item-check-input, .trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms input,.trade-in-popup .trade-in-popup__condition-wrap .checkbox-v2__input",function(a){a=$(".trade-in-popup .trade-in-popup__condition-wrap li.trade-in-popup__condition-list-item, .trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__confirm-terms input,.trade-in-popup .trade-in-popup__condition-wrap .checkbox-v2__input").length;
var c=$(".trade-in-popup .trade-in-popup__condition-wrap input:checked").length;m&&(c=b._layerWrap.find(".trade-in-popup__condition-list .trade-in-popup__condition-list-item input:checked").length);a===c||u&&0<c||l?($(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("disabled",!1),m&&$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("aria-disabled",
!1)):($(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("disabled",!0),m&&$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!0))});if(l)$(document).on("click",".trade-in-popup .trade-in-popup__condition-wrap .text-field-v2__input-icon",function(a){$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled");
$(".trade-in-popup .trade-in-popup__condition-wrap .trade-in-popup__btn-continue").attr("disabled",!1);b._layerWrap.find(".trade-in-popup__condition-wrap").find(".trade-in-popup__promo-error-wrap").removeClass("show")});$(document).on("click",".trade-in-popup .trade-in-popup__btn-apply.cta--contained",function(){"au"===g?sa():m?Z():ta()});$(document).on("click",".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms input[type\x3dcheckbox]",function(){var a="undefined"!=typeof b._discountPrice&&
b._discountPrice?parseFloat(b._discountPrice):0;if("sg"!==g&&!p||("sg"===g||p)&&0!=a){a=$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__confirm-terms").find("input[type\x3d'checkbox']");var c=aa(a);ka&&(c=aa(a)&&"Y"==b._imeiValidationSuccessYN&&b._value);c?($(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").attr("aria-disabled",!1)):$(".trade-in-popup .trade-in-popup__apply-wrap .trade-in-popup__btn-apply").addClass("cta--disabled")}});
$(document).on("keyup","#trade-in-id-input",function(a){var c=!1,d=$("#trade-in-id-input").val().length,f=8;"nz"===g?f=11:"za"===g?f=6:"my"===g&&(f=10);d<f?(b._layerWrap.find(".text-field-v2.no-title").removeClass("success").addClass("error"),b._layerWrap.find(".text-field-v2__text.error").text(Granite.I18n.get("Incorrect")),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").addClass("cta--disabled"),b._layerWrap.find(".trade-in-popup__imei-wrap").find("button.trade-in-popup__btn-continue").attr("disabled",
!0)):c=!0;c&&($(a.target||a.srcElement).hasClass("trade-in-popup__btn-continue")?window.sg.components.tradeInPopup.showStep(".trade-in-popup__apply-wrap"):bb(b._value))});var y=function(a){return"number"!=typeof a&&""==a||null==a||void 0==a||null!=a&&"object"==typeof a&&!Object.keys(a).length?!1:!0},fb=function(){var a=document.getElementsByTagName("head")[0],b=document.createElement("script");b.type="text/javascript";b.src="https://www.google.com/recaptcha/api.js?onload\x3dreCaptchaOnloadCallback\x26render\x3dexplicit";
a.appendChild(b)};return{setTradein:function(){C=digitalData.product.model_code;D=digitalData.product.model_name;null!=C&&(C=C.toLocaleLowerCase());null!=D&&(D=D.toLocaleLowerCase());z=$("#modelCode").val();var a="";a=N?M+"/"+v+"/servicesv2/getTradeInSimpleInfo":A+"/"+v+"/servicesv2/getTradeInSimpleInfo";var b="true"===$("#isEppPage").val()?{withCredentials:!0}:{};"Y"===oa?$.ajax({url:a,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:b,timeout:3E4,data:{productCode:z},success:function(a){ja(a)},
error:function(a){}}):m?$.ajax({url:a,type:"GET",dataType:"jsonp",cache:!0,crossDomain:!0,xhrFields:b,timeout:3E4,data:{productCode:z},success:function(a){ja(a)},error:function(a){}}):$.ajax({url:a,type:"GET",dataType:"jsonp",jsonpCallback:"jQuery1910499421933433041_144",cache:!0,crossDomain:!0,xhrFields:b,timeout:3E4,data:{productCode:z},success:function(a){ja(a)},error:function(a){}});l&&sa()},showPopup:function(){p&&((window.sg.components.dynamic?window.sg.components.dynamic.detailSharedObj:null).maxTradeInsAllowed=
za,b._tradeInMode="");window.sg.components.tradeInPopup.init();window.sg.components.tradeInPopup.showPopup();I=0;if("id"===g)$("#zipcode-input").val(""),$(".trade-in-popup .trade-in-popup__zipcode-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__zipcode-wrap .text-field-v2.no-title").removeClass("success").removeClass("error").removeClass("active");else if("au"===g){window.sg.components.tradeInPopup.showStep(".trade-in-popup__discount-wrap");var a=
$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__imei-form .text-field-v2");a.addClass("disabled");a.find(".text-field-v2__input, .text-field-v2__input-icon").attr("disabled","disabled");fb()}else"it"==g?(b._chooseInstantDiscountOrCashback||"true"==b._chooseInstantDiscountOrCashback?($(".trade-in-popup .trade-in-popup__discount-wrap .cta--discount-close").css("display","none"),$(".trade-in-popup .trade-in-popup__discount-wrap .trade-in-popup__btn-back").css("display",""),b._layerWrap.find(".trade-in-popup__instant-discount-wrap button.trade-in-popup__btn-continue").addClass("cta--disabled"),
b._layerWrap.find(".trade-in-popup__instant-discount-wrap button.trade-in-popup__btn-continue").attr("disabled",!0),b._layerWrap.find(".trade-in-popup__instant-discount-wrap .trade-in-popup__brand-list .trade-in-popup__brand-item-input").prop("checked",!1),window.sg.components.tradeInPopup.showStep(".trade-in-popup__instant-discount-wrap")):($(".trade-in-popup .trade-in-popup__discount-wrap .cta--discount-close").css("display",""),$(".trade-in-popup .trade-in-popup__discount-wrap .trade-in-popup__btn-back").css("display",
"none"),$(".trade-in-popup .trade-in-popup__discount-wrap .trade-in-popup__btn-continue").removeClass("cta--disabled"),$(".trade-in-popup .trade-in-popup__discount-wrap .trade-in-popup__btn-continue").attr("aria-disabled",!1),window.sg.components.tradeInPopup.showStep(".trade-in-popup__discount-wrap")),$(document).off("click",".trade-in-popup .cta--discount-close"),$(document).on("click",".trade-in-popup .cta--discount-close",function(){window.sg.components.tradeInPopup.closePopup()})):"sepco-device"==
b._step[0]?(U.resetStep(),U.showStep()):"za"===g||"my"===g||E||"sg"===g||u||l?window.sg.components.tradeInPopup.showStep(".trade-in-popup__discount-wrap"):($(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__device-type-item .trade-in-popup__device-type-item-input").prop("checked",!1),$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__brand-list .trade-in-popup__brand-item-input").prop("checked",!1),$(".trade-in-popup .trade-in-popup__brand-wrap .trade-in-popup__btn-continue").addClass("cta--disabled"),
window.sg.components.tradeInPopup.showStep(".trade-in-popup__brand-wrap"),("es"===g||"pt"===g||K)&&S&&Da(".trade-in-popup__brand-wrap"));"id"===g&&window.sg.components.tradeInPopup.showStep(".trade-in-popup__zipcode-wrap");I=0;Q()},callBackReCaptcha:function(){var a=grecaptcha.getResponse(tradeInRecaptcha),c=$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__imei-form .text-field-v2"),d=c.find(".text-field-v2__input"),f=c.find(".text-field-v2__input-icon");$(".trade-in-popup .trade-in-popup__trade-in-id-wrap button.trade-in-popup__btn-continue");
0==a.length?b._reCaptchaFlag=!1:$.ajax({type:"post",url:"/aemapi/v6/product/recaptchacheck",data:{"g-recaptcha-response":a,grecaptcha:"grecaptcha"},dataType:"json",success:function(a){"200"==a.response.statusCode?(b._reCaptchaFlag=!0,window.sg.common.textFieldv2.setDisabled(document.querySelector(".trade-in-popup__imei-form .text-field-v2"),!1),d.removeAttr("disabled"),d.focus()):(grecaptcha.reset(tradeInRecaptcha),b._reCaptchaFlag=!1,c.addClass("disabled"),d.attr("disabled","disabled"),f.attr("disabled",
"disabled"))},erorr:function(a){console.log(a)}})},reCaptchaOnloadCallback:function(){0<$("#tradein-reCaptcha").length&&0===$("#tradein-reCaptcha").html().length&&(tradeInRecaptcha=grecaptcha.render("tradein-reCaptcha",{sitekey:"6LdeK94fAAAAALDbVpNQCAmXdA9fqV0ZbsSBWx09"}))},expiredCallbackReCaptcha:function(){b._reCaptchaFlag=!1;var a=$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__imei-form .text-field-v2");a.addClass("disabled").removeClass("error").removeClass("success").removeClass("active");
a.find(".text-field-v2__input, .text-field-v2__input-icon").attr("disabled","disabled");$(".trade-in-popup .trade-in-popup__trade-in-id-wrap .trade-in-popup__imei-form #trade-in-id-input").val("");$(".trade-in-popup .trade-in-popup__trade-in-id-wrap button.trade-in-popup__btn-continue").addClass("cta--disabled").attr("disabled",!0)}}}(tradeinData),callBackReCaptcha=function(){return tradeinData.callBackReCaptcha()},reCaptchaOnloadCallback=function(){return tradeinData.reCaptchaOnloadCallback()},expiredCallbackReCaptcha=
function(){return tradeinData.expiredCallbackReCaptcha()};