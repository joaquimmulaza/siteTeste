(function(){var e=window.sg.common.$q,a=window.sg.common.utils,p=window.sg.common.libs,d=function(f){this.el={window:e(window),section:e(f)};this.handler={focusLock:this.focusLock.bind(this)};d.instances.set(f,this);this.init()};d.prototype.setElements=function(){this.el.searchLayer=this.el.section.find(".sr03-acc-pcd-search__dimmed");this.el.searchForm=this.el.section.find(".sr03-acc-pcd-search__form");this.el.searchBar=this.el.section.find(".sr03-acc-pcd-search__search-cta");this.el.searchInput=
this.el.section.find(".sr03-acc-pcd-search__input");this.el.searchBtnDel=this.el.section.find(".sr03-acc-pcd-search__cta-delete");this.el.searchBtnDimClose=this.el.section.find(".sr03-acc-pcd-search__dimmed-cta")};d.prototype.init=function(){this.setElements();this.bindEvents()};d.prototype.reInit=function(){this.setElements();this.bindEvents()};d.prototype.searchShow=function(){a.hiddenScroll();this.el.section.addClass("is-active");this.el.searchInput.focus();this.el.window.off("keydown",this.handler.focusLock).on("keydown",
this.handler.focusLock)};d.prototype.searchClose=function(){a.visibleScroll();this.el.section.removeClass("is-active");this.el.window.off("keydown",this.handler.focusLock);this.el.searchBar.focus()};d.prototype.focusLock=function(f){if(f.keyCode===p.keyCode.TAB_KEY){var a=this.el.searchLayer.find("input").target[0];!1===f.shiftKey&&this.el.searchBtnDimClose.target[0]===document.activeElement?(f.preventDefault(),a.focus()):!0===f.shiftKey&&a===document.activeElement&&(f.preventDefault(),this.el.searchBtnDimClose.focus())}};
d.prototype.replaceExceptionCharacter=function(a){return a.replace(/[\{\}\[\]/?,;:|\)*~`!^_<>@#$%&\\=\('"]/gi,"")};d.prototype.bindEvents=function(){var a=this;this.el.searchBar.off("click").on("click",function(){a.searchShow()});this.el.searchBtnDimClose.off("click").on("click",function(){a.searchClose()});this.el.searchInput.off("input").on("input",function(f){""===e(f.target).target[0].value?a.el.searchBtnDel.removeClass("is-show"):a.el.searchBtnDel.addClass("is-show")});this.el.searchForm.off("submit").on("submit",
function(){a.el.searchInput.target[0].value=a.replaceExceptionCharacter(a.el.searchInput.target[0].value)});this.el.searchBtnDel.off("click").on("click",function(){a.el.searchBtnDel.removeClass("is-show");a.el.searchInput.target[0].value=null;a.el.searchInput.target[0].focus()})};var h=function(){e(".sr03-acc-pcd-search").target.forEach(function(a){d.instances.has(a)||new d(a)})};d.instances=new WeakMap;e.ready(h);window.sg.components.sr03AccPcdSearch={init:h,reInit:function(){e(".sr03-acc-pcd-search").target.forEach(function(a){d.instances.has(a)?
d.instances.get(a).reInit():new d(a)})},searchShow:function(){e(".sr03-acc-pcd-search").target.forEach(function(a){d.instances.has(a)&&d.instances.get(a).searchShow()})}}})();
(function(e,a,p){function d(a){null!=a&&(a=a.split("\x3c").join("").split("\x3e").join("").split("\x26lt").join("").split("\x26gt").join(""));return a}function h(a){var b=/[\{\}\[\]?,;:|\)*~`!^_<>@#$%&\\=\('"]/gi;b.test(a)&&(a=a.replace(b,""));return a}function f(b){var c=new Date;c.setTime(c.getTime()+72576E5);a.cookies.setAccessorySearchKeyword(decodeURIComponent(b),c)}function g(a){k.hide();l.hide();m.hide();q.hide();r.hide();switch(a){case 1:k.show();break;case 2:l.show();break;case 3:m.show();
q.show();break;case 4:r.show()}}function t(b){var c=b.target||b.srcElement;13===b.keyCode?(b=d(a(c).val()),a(c).val(h(b)),n(b)):x(c,l)}function n(b){var c=a("#siteCode").val(),d="Y"===a("#b2bFlag").val();c="/content/samsung/"+c;b&&""!==b&&(u(b),d&&(c+="/business"),c+="/search.html",f(b),window.location.href=c+"?searchvalue\x3d"+encodeURIComponent(b)+"#accessory")}function v(b){var c=a("#siteCode").val(),d="Y"===a("#b2bFlag").val();c="/content/samsung/"+c;d&&(c+="/business");return c+"/search.html?searchvalue\x3d"+
encodeURIComponent(b)+"#accessory"}function x(b,c){var e=a("#siteCode").val(),f=d(a(b).val());a(b).val(h(f));if(!(3>f.length)){u(f);var g=a("#esapiSearchDomain").val()+"/search/suggest/v6";a.ajax({type:"GET",data:{searchValue:f,siteCd:e,stage:a("#apiStageInfo").val(),onlyAccYN:"Y"},url:g,timeout:1E4,success:function(a){y(a,b,c,f)}})}}function y(b,c,d,e){var f="";if(b.response.resultData.common.relatedKeywords)var h=b.response.resultData.common.relatedKeywords;g(0);null!=h&&0<h.length?(a.each(h,function(a,
b){7>a&&(f+='\n\t\t\t\t\t\x3cli class\x3d"sr03-acc-pcd-search__suggested-searches-item" role\x3d"listitem"\x3e\n\t\t\t\t\t\t\x3ca class\x3d"sr03-acc-pcd-search__suggested-searches-item-anchor" href\x3d"'+v(b)+'" \n\t\t\t\t\t\tan-tr\x3d"sr03_acc pcd search-'+w+'-cta-search"\n\t\t\t\t\t\tan-ca\x3d"search"\n\t\t\t\t\t\tan-ac\x3d"search layer"\n\t\t\t\t\t\tan-la\x3d"related searches:'+b+'"\n\t\t\t\t\t\t\x3e\n\t\t\t\t\t\t'+b+"\x3c/a\x3e\n\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\t")}),d.find(".sr03-acc-pcd-search__suggested-searches-list").html(f),
g(2)):g(4)}function z(){var b=a.cookies.getAccessorySearchKeyword();if(0<b.length){var c="";a.each(b,function(a){7>a&&(c+='\n\t\t\t\t\t\x3cli class\x3d"sr03-acc-pcd-search__suggested-searches-item" role\x3d"listitem"\x3e\n\t\t\t\t\t\t\x3ca class\x3d"sr03-acc-pcd-search__suggested-searches-item-anchor" href\x3d"'+v(b[a])+'"\n\t\t\t\t\t\tan-tr\x3d"sr03_acc pcd search-'+w+'-cta-search"\n\t\t\t\t\t\tan-ca\x3d"search" an-ac\x3d"search layer"\n\t\t\t\t\t\tan-la\x3d"search history:'+b[a]+'"\n\t\t\t\t\t\t\x3e\n\t\t\t\t\t\t'+
b[a]+"\x3c/a\x3e\n\t\t\t\t\t\x3c/li\x3e\n\t\t\t\t\t")});m.find(".sr03-acc-pcd-search__suggested-searches-list").html(c)}}function u(a){A.attr("an-la","search bar:keyword submit:keyword:"+a)}e=a("section.sr03-acc-pcd-search");if(!(1>e.length)){var k=e.find("#suggested-searches"),m=e.find("#search-history"),q=e.find("#search-history-clear"),l=e.find("#related-searches"),r=e.find("#no-searches-result"),A=e.find(".sr03-acc-pcd-search__search-bar"),w=(digitalData.page.pageInfo.pageTrack||"").toLowerCase();
e.on("focus","#sr03-acc-pcd-search",function(b){var c=d(a.trim(a(this).val()));a(this).val(h(c));var e=a.cookies.getAccessorySearchKeyword();c&&0<c.length?t(b):0<e.length?g(3):0<k.find(".sr03-acc-pcd-search__suggested-searches-list \x3e li").length?g(1):g(4)});e.on("click","#search-history-clear a",function(){g(0);a.cookies.clearAccessorySearchKeyword();0<k.find(".sr03-acc-pcd-search__suggested-searches-list \x3e li").length?g(1):g(4)});e.on("keyup click","#sr03-acc-pcd-search",function(a){t(a)});
a(document).on("click",".sr03-acc-pcd-search__cta-search",function(b){b.preventDefault();b=a("#sr03-acc-pcd-search").val();n(b)});a(document).on("click",".sr03-acc-pcd-search__suggested-searches .sr03-acc-pcd-search__suggested-searches-list \x3e li",function(b){-1<a(this).find("a").prop("href").indexOf("http")?f(a(this).find("a").text()):n(a(this).find("a").text())});a(function(){g(0);z()})}})(window,window.jQuery,window.document);