(function(){var d=window.sg.common.$q,l=window.sg.common.utils,g=window.sg.common.swiperManager,q=window.sg.common.lazyLoad,m=null,n=null,b=function(a){this.selector={component:".apps-carousel-container",swiper:".apps-carousel-container .basic-swiper",itemWrap:".apps-carousel-container__feature",itemimgWrap:".apps-carousel-container__feature .image",itemList:".apps-carousel-container__item",showItemList:".apps-carousel-container__item:not(.is-item-active)",slideBackBtn:".apps-carousel-container__quick-button"};
this.el={component:d(a)};this.handler={resize:this.resize.bind(this)};this.mobileFlag=this.desktopFlag=this.changeFlag=this.startFlag=!1;b.instances.set(a,this);this.setElement();this.init()};b.prototype.setElement=function(){this.el.itemWrap=this.el.component.find(this.selector.itemWrap);this.el.itemList=this.el.component.find(this.selector.itemList);this.el.showItemList=this.el.component.find(this.selector.showItemList);this.el.slideBackBtn=this.el.component.find(this.selector.slideBackBtn);this.moreFlag=
this.resizeFlag=this.mobileFlag=this.desktopFlag=!1;this.timer=null;d(".apps-carousel-container").target.forEach(function(a,c){d(a);null===d(a).attr("id")&&d(a).attr("id","appsCarouselContainer"+c)})};b.prototype.init=function(){var a=this;if(this.el.itemList.target.length){var c=this.el.component.find(".image__main");this.bindEvents();c.on("load",function(){null!==a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){a.resize()},300)})}};b.prototype.reInit=function(){this.setElement();this.init()};
b.prototype.setHeight=function(a){var c=this;[d(a).find(this.selector.itemimgWrap)].forEach(function(a){var c=[];a.target.forEach(function(a){a=d(a);a.hasClass("image")&&(a=a.find(".image__main"));c.push(a.height())});var b=Math.max.apply(null,c);if(0!==b)for(var f=0;f<a.target.length;f++)a.target[f].parentElement.classList.contains("st-feature-benefit-full-bleed__logo")||a.target[f].parentElement.classList.contains("st-feature-benefit__title-logo")||d(a.target[f]).css({height:b+"px"})});0<this.el.component.find(".swiper-container").target.length&&
setTimeout(function(){g.slideUpdate(c.el.component.find(".swiper-container").target[0])},50)};b.prototype.setImgHeight=function(a){var c=this;(void 0===a?this.el.itemimgWrap:a).target.forEach(function(a){a=d(a);var c=a.closest(".swiper-slide"),b=a.find(".image .image__main");b.css({height:""});a.css({height:b.height()+"px"});c.css({height:""})});0<this.el.component.find(".swiper-container").target.length&&setTimeout(function(){g.slideUpdate(c.el.component.find(".swiper-container").target[0])},50)};
b.prototype.backSlide=function(a){a=d(a).closest(this.selector.swiper);g.getSwiper(a.target[0]).slideTo(0)};b.prototype.setSlideGroup=function(){var a=this,c=this.el.component.find(this.selector.swiper).target[0],b=d(c).hasClass("apps-carousel-container__carousel")&&!d(c).hasClass("desktop-next-slide-to-show"),h=d(c).hasClass("use-desktop-back-button");if(b){var k=1*d(c).attr("data-desktop-item-per-slide-scroll");if("desktop"===l.getCurrentDevice()){b={slidesPerGroup:k,autoHeight:!1};h&&(b.freeMode=
!0);g.slideRemove(c);g.slideInit(c,b);this.el.slideBackBtn.attr("tabindex",-1);var f=g.getSwiper(c);f.on("slideChangeTransitionEnd",function(){f.activeIndex+k===f.pagination.bullets.length?a.el.slideBackBtn.attr("tabindex",0):a.el.slideBackBtn.attr("tabindex",-1)})}else g.slideRemove(c),g.slideInit(c,{autoHeight:!1});var e=g.getSwiper(c);e.on("slideChange",function(){window.sg.common.lazyLoad.forceLoad(e.slides[e.activeIndex]);if(e.slides[e.previousIndex]){var a=e.slides[e.previousIndex].querySelector(".s-video-bg .video video");
a&&(a.pause(),a.currentTime=0)}e.slides[e.activeIndex]&&(a=e.slides[e.activeIndex].querySelector(".s-video-bg .video video"))&&(a.currentTime=0,a.play())});e.on("slideChangeTransitionEnd",function(){e.slideToLoop(e.realIndex,0)});0<d(c).find(".apps-carousel-container__item:not(.swiper-slide-duplicate)").target.length&&(d(c).find(".apps-carousel-container__item:not(.swiper-slide-duplicate)").target.forEach(function(a,c){var b=d(a),e=d(a).closest(".apps-carousel-container").attr("id");"tabpanel"!==
b.attr("role")&&(b.attr("role","tabpanel"),null===b.attr("id")&&b.attr("id",e+"_Slide"+c));0<d(a).closest(".apps-carousel-container__carousel").find(".indicator").target.length&&d(a).closest(".apps-carousel-container__carousel").find(".indicator").find(".indicator__item").eq(c).attr("aria-controls",b.attr("id"))}),d(c).find(".apps-carousel-container__item.swiper-slide-duplicate").removeAttr("id"))}};b.prototype.resizeActive=function(){var a=this;q.setLazyLoad();"desktop"===l.getCurrentDevice()?!1===
this.desktopFlag&&(this.desktopFlag=!0,this.mobileFlag=!1,this.setSlideGroup()):!1===this.mobileFlag&&(this.mobileFlag=!0,this.desktopFlag=!1,this.setSlideGroup());this.el.component.target.forEach(function(c){var b=d(c),h=b.find(".apps-carousel-container__carousel");if(h.hasClass("desktop-next-slide-to-show"))a.el.appsCarouselSwiper=g.getSwiper(h.target[0]),h.find(a.selector.itemimgWrap+" .image__main").target.forEach(function(c){var b=d(c);b.hasClass("image--loaded")?a.setImgHeight(b.closest(a.selector.itemimgWrap)):
setTimeout(function(){b.on("load",function(){a.setImgHeight(b.closest(a.selector.itemimgWrap))})},200)});else{var k=h.find(a.selector.itemimgWrap+" .image__main"),f=c;"desktop"===l.getCurrentDevice()?k.hasClass("image--loaded")?a.setHeight(f):setTimeout(function(){k.on("load",function(){a.setHeight(f)})},200):(f=b.find(".apps-carousel-container__item"),f.target.forEach(function(b){a.setHeight(b)}),k.target.forEach(function(b){var c=d(b);c.on("load",function(){a.setHeight(c.closest(a.selector.itemList).target[0])})}))}})};
b.prototype.resize=function(){var a=this;this.el.component.target.forEach(function(b){!1===a.startFlag?(setTimeout(function(){a.resizeActive()},100),a.startFlag=!0):setTimeout(function(){a.resizeActive()},100)})};b.prototype.bindEvents=function(){var a=this;m.off("resize",this.handler.resize).on("resize",this.handler.resize);this.el.slideBackBtn.target.forEach(function(b){d(b).off("click").on("click",function(){a.backSlide(b)})})};var p=function(){m=d(window);n=d(".apps-carousel-container");n.target.length&&
d(".apps-carousel-container").target.forEach(function(a){b.instances.has(a)||new b(a)})};b.instances=new WeakMap;d.ready(p);window.sg.components.appsCarouselContainer={init:p,reInit:function(){d(".apps-carousel-container").target.forEach(function(a){d(a).find(".basic-swiper").target.forEach(function(a){void 0===a.swiper?g.slideInit(a):g.slideReInit(a)});b.instances.has(a)?b.instances.get(a).reInit():new b(a)})}}})();