var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(d){var f=0;return function(){return f<d.length?{done:!1,value:d[f++]}:{done:!0}}};$jscomp.arrayIterator=function(d){return{next:$jscomp.arrayIteratorImpl(d)}};$jscomp.makeIterator=function(d){var f="undefined"!=typeof Symbol&&Symbol.iterator&&d[Symbol.iterator];return f?f.call(d):$jscomp.arrayIterator(d)};$jscomp.arrayFromIterator=function(d){for(var f,h=[];!(f=d.next()).done;)h.push(f.value);return h};
$jscomp.arrayFromIterable=function(d){return d instanceof Array?d:$jscomp.arrayFromIterator($jscomp.makeIterator(d))};
(function(){function d(b){c.instances.has(b)?c.instances.get(b).reInit():new c(b);[].concat($jscomp.arrayFromIterable(b.querySelectorAll(".offer-header__countdown"))).forEach(function(a){e.instances.has(a)?e.instances.get(a).reInit():new e(a)})}function f(b){if(b!==document&&!1===b.matches(".offer-header"))return!1;var a=b===document?".offer-header":"";[].concat($jscomp.arrayFromIterable(b.querySelectorAll(a+' .video[data-video-embed\x3d"true"]'))).forEach(function(a){window.sg.common.video.reInit(a)});
[].concat($jscomp.arrayFromIterable(b.querySelectorAll(a+" .image"))).forEach(function(a){window.sg.common.image.reInit(a)});return!0}var h=window.sg.common.$q,k=window.sg.common.constants.KEY_CODE,c=function(b){var a=this;this.els={el:b,containerEl:b.querySelector(".offer-header__container"),wrapperEl:b.querySelector(".offer-header__wrapper"),slideEls:b.querySelectorAll(".offer-header__slide"),videoCtaEls:b.querySelectorAll(".offer-header__cta--video"),layerWrapEl:b.querySelector(".popup-video"),
videoWrapEl:b.querySelector(".popup-video"),videoEls:b.querySelectorAll(".popup-video .video"),indicatorEl:b.querySelector(".indicator"),indicatorControlButtonEl:b.querySelector(".indicator .indicator__controls"),prevButtonEl:b.querySelector(".offer-header__btn-prev"),nextButtonEl:b.querySelector(".offer-header__btn-next")};this.indicator=window.sg.common.indicator;this.lazyLoad=window.sg.common.lazyLoad;this.video=window.sg.common.video;this.getCurrentDevice=window.sg.common.utils.getCurrentDevice;
this.isVisible=window.sg.common.utils.isVisible;this.stateRtl="rtl"===h("body").css("direction");this.updateWaitMin=!1;this.swiper={};this.setProperty();this.isCarousel&&(this.autoplay=!0);this.handler={loadFirstImage:function(){a.updateWaitMin&&a.swiper.update()},slideInnerMouseenter:function(){a.pauseCarousel()},slideInnerMouseleave:function(){a.playCarousel()},slideFocusIn:function(){requestAnimationFrame(function(){a.pauseCarousel()})},slideFocusOut:function(){a.playCarousel()},indicatorMove:function(b){b.detail===
a.swiper.realIndex?a.swiperMove=!1:(a.indicatorMove=!0,a.swiper.slideToLoop(b.detail))},indicatorControlButtonClick:function(){a.autoplay=!a.autoplay},slideChange:function(){a.swiper.slideToLoop(a.swiper.realIndex);a.lazyLoad.setLazyLoadManually(a.els.slideEls[a.swiper.activeIndex]);a.setComponentTextColorForIndicator();a.checkSwiperStatus();a.setTabindexForCta();a.indicatorMove?a.indicatorMove=!1:(a.swiperMove=!0,a.indicator.move(a.els.indicatorEl,a.swiper.realIndex))},swiperResize:function(){a.checkSwiperStatus()},
videoCloseButtonClick:function(){a.currentPlayingVideo.removeAttribute("style");document.body.removeAttribute("style");a.isPlayVideoPopup=!1;a.currentPlayingVideo={};a.playCarousel()},scroll:function(){a.checkCarouselShow()},resize:function(){a.currentPlayingVideo instanceof Element||a.checkCarouselShow()},setAccessbility:this.setAccessbility.bind(this)};this.init()};c.prototype.setProperty=function(){this.els.containerEl=this.els.el.querySelector(".offer-header__container");this.els.wrapperEl=this.els.el.querySelector(".offer-header__wrapper");
this.els.slideEls=this.els.el.querySelectorAll(".offer-header__slide");this.els.videoCtaEls=this.els.el.querySelectorAll(".offer-header__cta--video");this.els.layerWrapEl=this.els.el.querySelector(".popup-video");this.els.videoWrapEl=this.els.el.querySelector(".popup-video");this.els.videoEls=this.els.el.querySelectorAll(".popup-video .video");this.els.indicatorEl=this.els.el.querySelector(".indicator");this.els.indicatorControlButtonEl=this.els.el.querySelector(".indicator .indicator__controls");
this.els.prevButtonEl=this.els.el.querySelector(".offer-header__btn-prev");this.els.nextButtonEl=this.els.el.querySelector(".offer-header__btn-next");this.isCarouselShow=!1;this.isCarousel=1<this.els.slideEls.length;this.currentPlayingVideo={};this.isPlayVideoPopup=!1;this.isCarousel&&(this.els.indicatorEl&&(this.carouselInfiniteRolling=JSON.parse(this.els.indicatorEl.dataset.indicatorData).infiniteRolling),this.swiperMove=this.indicatorMove=!1)};c.prototype.init=function(){c.instances.has(this.els.el)||
(c.instances.set(this.els.el,this),this.isCarousel&&(this.setSwiper(),this.setComponentTextColorForIndicator(),this.checkSwiperStatus()),this.bindEvents(),this.checkCarouselShow())};c.prototype.reInit=function(){this.indicator.pause(this.els.indicatorEl);this.setProperty();this.isCarousel&&(this.setSwiper(),this.setComponentTextColorForIndicator(),this.checkSwiperStatus());this.bindEvents();this.isCarousel&&(this.indicator.init(this.els.indicatorEl),this.autoplay?this.indicator.play(this.els.indicatorEl):
this.indicator.pause(this.els.indicatorEl));window.sg.common.lazyLoad.setLazyLoadManually(this.els.slideEls[0]);this.checkCarouselShow()};c.prototype.setSwiper=function(){var b=this,a=this.els.el.querySelector(".image__main");this.els.el.classList.add("indicator-container");this.els.containerEl.classList.add("swiper-container");this.els.wrapperEl.classList.add("swiper-wrapper");[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(a){a.classList.add("swiper-slide");a.classList.add("indicator-page")});
this.swiper.destroy&&this.swiper.destroy();this.swiper=new Swiper(this.els.containerEl,{speed:400,loop:this.carouselInfiniteRolling,effect:"fade",fadeEffect:{crossFade:!0},navigation:{prevEl:this.els.el.querySelectorAll(".offer-header__btn-prev"),nextEl:this.els.el.querySelectorAll(".offer-header__btn-next")}});this.els.slideEls=this.els.el.querySelectorAll(".offer-header__slide");this.setTabindexForCta();this.indicator.reInit(this.els.indicatorEl);this.pauseCarousel();h(a).off("imgLoad",this.handler.loadFirstImage).on("imgLoad",
this.handler.loadFirstImage);setTimeout(function(){b.updateWaitMin=!0;b.swiper.update();b.setComponentTextColorForIndicator();b.setAccessbility()},100)};c.prototype.setAccessbility=function(){[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(b){b=h(b);b.hasClass("swiper-slide-active")?(b.attr("aria-hidden","false"),b.find("a, button").attr("tabindex","0")):(b.attr("aria-hidden","true"),b.find("a, button").attr("tabindex","-1"))})};c.prototype.setComponentTextColorForIndicator=
function(){var b="";this.els.el.classList.remove("text-color--black");this.els.el.classList.remove("text-color--white");if(0<this.els.slideEls.length){var a=this.els.slideEls[this.swiper.activeIndex].querySelector(".offer-header__text-wrap");a.classList.contains("text-color--black")?b="text-color--black":a.classList.contains("text-color--white")&&(b="text-color--white");this.els.el.classList.add(b)}};c.prototype.checkSwiperStatus=function(){"desktop"===this.getCurrentDevice()?this.carouselInfiniteRolling?
(this.els.prevButtonEl.style.display="block",this.els.nextButtonEl.style.display="block"):(this.els.prevButtonEl.style.display=this.swiper.isBeginning?"none":"block",this.els.nextButtonEl.style.display=this.swiper.isEnd?"none":"block"):(this.els.prevButtonEl.style.display="none",this.els.nextButtonEl.style.display="none");this.carouselInfiniteRolling||(this.swiper.allowSlidePrev=!this.swiper.isBeginning,!1===this.stateRtl&&(this.swiper.allowSlideNext=!this.swiper.isEnd))};c.prototype.setTabindexForCta=
function(){var b=this;[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(a,g){g===b.swiper.activeIndex?[].concat($jscomp.arrayFromIterable(a.querySelectorAll(".cta"))).forEach(function(a){a.removeAttribute("tabIndex")}):[].concat($jscomp.arrayFromIterable(a.querySelectorAll(".cta"))).forEach(function(a){a.setAttribute("tabindex","-1")})})};c.prototype.checkCarouselShow=function(){this.isVisible(this.els.el)&&!this.isCarouselShow?(this.isCarouselShow=!0,this.isCarousel?window.sg.common.lazyLoad.setLazyLoadManually(this.els.slideEls[this.swiper.activeIndex]):
window.sg.common.lazyLoad.setLazyLoadManually(this.els.slideEls[0]),this.playCarousel()):!this.isVisible(this.els.el)&&this.isCarouselShow&&(this.isCarouselShow=!1,this.pauseCarousel())};c.prototype.pauseCarousel=function(){if(!this.isPlayVideoPopup)if(this.isCarousel)this.indicator.pause(this.els.indicatorEl);else{var b=this.els.slideEls[0].querySelector(".video video");b&&b.pause()}};c.prototype.playCarousel=function(){if(!this.isPlayVideoPopup)if(this.isCarousel)this.els.indicatorControlButtonEl.classList.contains("indicator__controls--play")&&
this.autoplay&&this.indicator.play(this.els.indicatorEl);else{var b=this.els.slideEls[0].querySelector(".video video");b&&!b.ended&&b.play()}};c.prototype.bindEvents=function(){var b=this;[].concat($jscomp.arrayFromIterable(this.els.slideEls)).forEach(function(a){var g=a.querySelector(".offer-header__slide-inner");g.removeEventListener("mouseenter",b.handler.slideInnerMouseenter);g.addEventListener("mouseenter",b.handler.slideInnerMouseenter);g.removeEventListener("mouseleave",b.handler.slideInnerMouseleave);
g.addEventListener("mouseleave",b.handler.slideInnerMouseleave);b.els.containerEl.removeEventListener("focusin",b.handler.slideFocusIn);b.els.containerEl.addEventListener("focusin",b.handler.slideFocusIn);b.els.containerEl.removeEventListener("focusout",b.handler.slideFocusOut);b.els.containerEl.addEventListener("focusout",b.handler.slideFocusOut);g.classList.contains("clickable-state--on")&&["click","keydown"].forEach(function(a){g.addEventListener(a,function(a){"click"!==a.type&&("keydown"!==a.type||
k.SPACE!==a.keyCode&&k.ENTER!==a.keyCode)||g.querySelector(".cta").click()})});[].concat($jscomp.arrayFromIterable(a.querySelectorAll(".cta"))).forEach(function(a){a.addEventListener("click",function(a){a.stopPropagation()})})});this.isCarousel&&(this.els.indicatorEl.removeEventListener("indicatorMove",this.handler.indicatorMove),this.els.indicatorEl.addEventListener("indicatorMove",this.handler.indicatorMove),this.els.indicatorControlButtonEl.removeEventListener("click",this.handler.indicatorControlButtonClick),
this.els.indicatorControlButtonEl.addEventListener("click",this.handler.indicatorControlButtonClick),this.swiper.off("slideChange",this.handler.slideChange),this.swiper.on("slideChange",this.handler.slideChange),this.swiper.off("slideChangeTransitionEnd",this.handler.setAccessbility).on("slideChangeTransitionEnd",this.handler.setAccessbility),this.swiper.off("resize",this.handler.swiperResize),this.swiper.on("resize",this.handler.swiperResize));[].concat($jscomp.arrayFromIterable(this.els.videoCtaEls)).forEach(function(a,
g){h(a).off("click").on("click",function(a){document.body.style.overflow="hidden";b.isPlayVideoPopup=!0;window.sg.common.popupVideo.open(b.els.layerWrapEl,g,a.currentTarget);b.currentPlayingVideo=b.els.videoEls[g];b.pauseCarousel()})});void 0!==this.els.layerWrapEl&&null!==this.els.layerWrapEl&&(this.els.layerWrapEl.removeEventListener("popupVideoClose",this.handler.videoCloseButtonClick),this.els.layerWrapEl.addEventListener("popupVideoClose",this.handler.videoCloseButtonClick));document.removeEventListener("scroll",
this.handler.scroll);document.addEventListener("scroll",this.handler.scroll);window.removeEventListener("resize",this.handler.resize);window.addEventListener("resize",this.handler.resize);window.removeEventListener("orientationchange",this.handler.resize);window.addEventListener("orientationchange",this.handler.resize)};var e=function(b){var a=this;this.ele={section:h(b),day:null,hours:null,minutes:null,seconds:null,textWrap:null,beforStart:null};this.timer=this.timeDate=this.end=this.start=null;
this.setProperty();this.handler={counter:function(){var b=function(){if(null!==a.ele.beforStart){a.ele.beforStart.addClass("sg-hide");a.ele.beforStart=null;var b=a.ele.section.closest(".offer-header__countdown");b.show();b.removeClass("sg-hide")}},c=new Date;if(c>a.start)if(a.timeDate=e.numbers(c,a.end),99>=a.timeDate.day&&0<=a.timeDate.day?(b(),a.viewTime(),0>=a.timeDate.day&&(a.ele.section.find(".offer-header__countdown-text").target[0].style.display="none")):(b(),clearInterval(a.timer),a.timer=
null,a.ele.textWrap.find(".sg-hide").removeClass("sg-hide"),a.ele.textWrap.find(".offer-header__date-range-text").addClass("sg-hide")),0!==a.ele.section.find(".offer-header__countdown-text .lang-ru").target.length){b=Number(a.timeDate.day.toString().substr(a.timeDate.day.toString().length-1,1));c=Number(a.timeDate.hour.toString().substr(a.timeDate.hour.toString().length-1,1));var d=Number(a.timeDate.minute.toString().substr(a.timeDate.minute.toString().length-1,1)),f=Number(a.timeDate.second.toString().substr(a.timeDate.second.toString().length-
1,1));11<=a.timeDate.day&&14>=a.timeDate.day?a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third")):1===b?a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-first")):2<=b&&4>=b?a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-second")):
a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third"));11<=a.timeDate.hour&&14>=a.timeDate.hour?a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third")):1===c?a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-first")):
2<=c&&4>=c?a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-second")):a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third"));11<=a.timeDate.minute&&14>=a.timeDate.minute?a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third")):
1===d?a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-first")):2<=d&&4>=d?a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-second")):a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third"));
11<=a.timeDate.second&&14>=a.timeDate.second?a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third")):1===f?a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-first")):2<=f&&4>=f?a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-second")):
a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-ru-third"))}else 1>=a.timeDate.day?a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-singular")):a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.day.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-plural")),
1>=a.timeDate.hour?a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-singular")):a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.hour.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-plural")),1>=a.timeDate.minute?a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-singular")):
a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.minute.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-plural")),1>=a.timeDate.second?a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-singular")):a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").text(a.ele.second.closest(".offer-header__countdown-text").find(".countdown-text").attr("data-text-plural"))}};
e.instances.set(b,this);this.init()};e.prototype.setProperty=function(){var b=this.ele.section.find(".offer-header__countdown-text .offer-header__countdown-num");this.ele.day=b.eq(0);this.ele.hour=b.eq(1);this.ele.minute=b.eq(2);this.ele.second=b.eq(3);this.ele.textWrap=this.ele.section.closest(".offer-header__text-wrap");this.ele.beforStart=this.ele.textWrap.find(".offer-header__date-range-text");this.start=this.makeDate(this.ele.section.attr("data-std-time-start"));this.end=this.makeDate(this.ele.section.attr("data-std-time-end"));
this.timeDate=null};e.prototype.makeDate=function(b){var a=b.replace(/[+|-][0-9]{4}$/,""),c=new Date(a);a=b.substring(a.length);""!==a&&(b=parseInt(a.substring(0,3),0),a=parseInt(a.substring(3),0),0>b&&(a*=-1),c.setHours(c.getHours()+-1*b),c.setMinutes(c.getMinutes()+-1*a));return c};e.prototype.init=function(){this.bindEvents()};e.prototype.reInit=function(){clearInterval(this.timer);this.timer=null;this.setProperty();this.bindEvents()};e.prototype.bindEvents=function(){var b=this;this.handler.counter();
this.timer=setInterval(function(){b.handler.counter()},1E3)};e.prototype.viewTime=function(){this.ele.day.text(this.timeDate.day);this.ele.hour.text(this.timeDate.hour);this.ele.minute.text(this.timeDate.minute);this.ele.second.text(this.timeDate.second)};e.numbers=function(b,a){b=a-b;return{day:e.numFormat(Math.floor(b/864E5)),hour:e.numFormat(Math.floor(b%864E5/36E5)),minute:e.numFormat(Math.floor(b%36E5/6E4)),second:e.numFormat(Math.floor(b%6E4/1E3))}};e.numFormat=function(b){return 10>b&&0<=b?
"0"+b:b};e.instances=new WeakMap;c.instances=new WeakMap;var l={initAll:function(){[].concat($jscomp.arrayFromIterable(document.querySelectorAll(".offer-header"))).forEach(function(b){d(b)})},reInit:function(b){f(b)&&d(b)}};window.sg.components.offerHeader=l;h.ready(function(){return l.initAll()})})();