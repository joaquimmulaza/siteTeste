/*
 samsung.com - hub - Article Hero
 src : /samsung/components/content/consumer/global/explore/ex-promo-column/clientlibs/site/js/ex-g-promo-column.js

 @version 1.1.0
 @since 2018.08.27
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var d=0;return function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var d,f=[];!(d=b.next()).done;)f.push(d.value);return f};
$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
(function(){var b=window.sg.common.$q,d=window.sg.common.exploreUtils,f=window.sg.common.image,e=function(a){this.els={el:a,itemActiveEle:".ex-promo-column__wrap .ex-promo-column-active",centerAlignedEle:".ex-promo-column-container--center-aligned-promo",viewMoreBtn:".ex-promo-column__seemore_cta .cta",gnbBar:".gnb",gnbNavBar:".gnb__nav",itemEle:a.querySelectorAll(".ex-promo-column__wrap .ex-promo-column__item"),videoStartButtonEls:a.querySelectorAll(".ex-promo-column__btn-video-start"),layerWrapEls:a.querySelectorAll(".ex-promo-column__layer-wrap"),
videoWrapEls:a.querySelectorAll(".ex-promo-column__video-wrap"),videoEls:a.querySelectorAll(".ex-promo-column__video-wrap .video"),videoCloseButtonEls:a.querySelectorAll(".ex-promo-column__btn-video-close")};this.video=window.sg.common.video;this.indicator=window.sg.common.indicator;this.getCurrentDevice=window.sg.common.utils.getCurrentDevice;this.currentPlayingVideo={};this.isAemEditMode=d.isAemEditMode();this.init()};e.prototype.init=function(){e.instances.has(this.els.el)||(e.instances.set(this.els.el,
this),this.setElements(),this.bindEvents())};e.prototype.setElements=function(){var a=this;this.container=$("body");this.$itemsPromoWrap=this.container.find($(this.els.el));this.$centerAlignedWrap=this.$itemsPromoWrap.find($(this.els.centerAlignedEle));this.$viewMoreBtn=this.$itemsPromoWrap.find(this.els.viewMoreBtn);this.$gnbBar=this.container.find(this.els.gnbBar);this.$totalitemCnt=Number(this.els.itemEle.length);this.$defaultCount="defaultCount"in this.els.el.dataset&&this.$totalitemCnt>Number(this.els.el.dataset.defaultCount)?
Number(this.els.el.dataset.defaultCount):this.$totalitemCnt;"desktop"===this.getCurrentDevice()?(this.itemsCount="pcPerPage"in this.els.el.dataset&&this.$defaultCount>=Number(this.els.el.dataset.pcPerPage)?Number(this.els.el.dataset.pcPerPage):this.$defaultCount,this.itemsCount<this.$totalitemCnt&&("pcPerPage"in this.els.el.dataset||"desktopAll"in this.els.el.dataset)&&this.$viewMoreBtn.show()):(this.itemsCount="moPerPage"in this.els.el.dataset&&this.$defaultCount>=Number(this.els.el.dataset.moPerPage)?
Number(this.els.el.dataset.moPerPage):this.$defaultCount,this.itemsCount<this.$totalitemCnt&&("moPerPage"in this.els.el.dataset||"mobileAll"in this.els.el.dataset)&&this.$viewMoreBtn.show());this.isAemEditMode&&(this.$viewMoreBtn.hide(),this.itemsCount=this.$totalitemCnt);[].concat($jscomp.arrayFromIterable(this.els.itemEle)).forEach(function(h,c){c<a.itemsCount&&b(h).addClass("ex-promo-column-active")})};e.prototype.setVideoSize=function(a){"desktop"===this.getCurrentDevice()?(this.els.videoWrapEls[a].style.width=
.8*window.innerWidth+"px",this.els.videoWrapEls[a].style.height=.45*window.innerWidth+"px",window.innerHeight<=this.els.videoWrapEls[a].offsetHeight?(this.els.videoCloseButtonEls[a].classList.add("ex-promo-column__btn-video-close--fixed"),this.els.videoCloseButtonEls[a].style.left=1440<=window.innerWidth?.9*window.innerWidth+16+"px":.9*window.innerWidth+16/1440*window.outerWidth+"px"):(this.els.videoCloseButtonEls[a].classList.remove("ex-promo-column__btn-video-close--fixed"),this.els.videoCloseButtonEls[a].removeAttribute("style"))):
(this.els.videoCloseButtonEls[a].classList.remove("ex-promo-column__btn-video-close--fixed"),this.els.videoWrapEls[a].style.width=window.innerWidth+"px",this.els.videoWrapEls[a].style.height=.5625*window.innerWidth+"px")};e.prototype.bindEvents=function(){var a=this;this.isAemEditMode||([].concat($jscomp.arrayFromIterable(this.els.videoStartButtonEls)).forEach(function(b,c){$(b).click(function(b){b.preventDefault();document.body.classList.add("openvideo-popup");document.body.style.overflow="hidden";
a.els.layerWrapEls[c].classList.add("ex-promo-column__layer-wrap--show");a.els.videoEls[c].style.display="block";a.setVideoSize(c);a.$gnbBar.length&&a.$gnbBar.find(a.els.gnbNavBar).hide();a.video.init(a.els.videoEls[c]);"mp4"===a.els.videoEls[c].getAttribute("data-video-type")&&a.video.play(a.els.videoEls[c])})}),[].concat($jscomp.arrayFromIterable(this.els.videoCloseButtonEls)).forEach(function(b,c){$(b).click(function(b){b.preventDefault();document.body.classList.remove("openvideo-popup");document.body.removeAttribute("style");
a.els.layerWrapEls[c].classList.remove("ex-promo-column__layer-wrap--show");a.els.videoEls[c].style.display="none";a.els.videoWrapEls[c].removeAttribute("style");a.$gnbBar.length&&a.$gnbBar.find(a.els.gnbNavBar).show();a.video.stop(a.els.videoEls[c]);a.video.dispose(a.els.videoEls[c])})}),this.$viewMoreBtn.on("click.itemsPromo",function(b){a.btnViewMoreHandler(b)}),this.$centerAlignedWrap&&(this.$centerAlignedWrap.masonry({itemSelector:".ex-promo-column",columnWidth:".ex-promo-column",tagger:0,transitionDuration:0,
horizontalOrder:!0}),f.initAll(),this.$centerAlignedWrap.imagesLoaded().always(function(){a.$centerAlignedWrap.masonry("layout");a.$centerAlignedWrap.parent().css({"min-height":a.$centerAlignedWrap.height()+60})}),$(window).scroll(function(){a.$centerAlignedWrap.masonry("layout");a.$centerAlignedWrap.parent().css({"min-height":a.$centerAlignedWrap.height()+60})}),$(window).on("resize",_.debounce(function(){a.$centerAlignedWrap.masonry("layout");a.$centerAlignedWrap.parent().css({"min-height":a.$centerAlignedWrap.height()+
60})},500))))};e.prototype.btnViewMoreHandler=function(a){var d=this;a.preventDefault();"desktop"===this.getCurrentDevice()?this.itemsCount="pcPerPage"in this.els.el.dataset?Number(this.els.el.dataset.pcPerPage):Number(this.$totalitemCnt-this.itemsCount):this.itemsCount="moPerPage"in this.els.el.dataset?Number(this.els.el.dataset.moPerPage):Number(this.$totalitemCnt-this.itemsCount);var c=+(this.$itemsPromoWrap.find(this.els.itemActiveEle).length+ +this.itemsCount);[].concat($jscomp.arrayFromIterable(this.els.itemEle)).forEach(function(a,
e){e<c&&(a=b(a),a.hasClass("ex-promo-column-active")||(a.addClass("ex-promo-column-active"),d.$centerAlignedWrap&&(d.$centerAlignedWrap.masonry("layout"),d.$centerAlignedWrap.parent().css({"min-height":d.$centerAlignedWrap.height()+60}))))});c<this.$totalitemCnt?this.$viewMoreBtn.show():this.$viewMoreBtn.hide()};e.instances=new WeakMap;var g={initAll:function(){[].concat($jscomp.arrayFromIterable(document.querySelectorAll("section.ex-promo-column"))).forEach(function(a){e.instances.has(a)||new e(a)})}};
window.sg.components.promocolumn=g;b.ready(function(){return g.initAll()})})();