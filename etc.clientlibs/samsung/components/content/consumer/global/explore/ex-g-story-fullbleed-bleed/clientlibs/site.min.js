/*
 samsung.com - Phase2 - Story fullbelld Component
 src : /samsung/components/content/consumer/global/explore/ex-g-story-fullbleed/clientlibs/js/ex-g-story-fullbleed.js

 @version 1.0.0
 @since 2018.06.25
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var d=0;return function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var d="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return d?d.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var d,e=[];!(d=b.next()).done;)e.push(d.value);return e};
$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
(function(){var b=window.sg.common.$q,d=window.sg.common.constants,e=window.sg.common.utils,c=function(a){this.els={el:a,btn:".ex-story-fullbleed__cta-wrap .js-video-cta",pop:".ex-story-fullbleed__layer-wrap",video:".ex-story-fullbleed__layer-wrap div.video",close:".ex-story-fullbleed__btn-video-close",textBox:".ex-story-fullbleed__text",textCta:".ex-story-fullbleed__link-over a",textLink:".ex-story-fullbleed__headline a, .ex-story-fullbleed__sub-headline a",figureImg:".ex-story-fullbleed__figure"};
this.video=window.sg.common.video;this.setProperty();this.init()};c.prototype.init=function(){c.instances.has(this.els.el)||(c.instances.set(this.els.el,this),$(this.els.el).find(this.els.video).length&&(this.setProperty(),this.bindEvents()))};c.prototype.setProperty=function(){this.$wrap=$(this.els.el);this.$btn=this.$wrap.find(this.els.btn);this.$pop=this.$wrap.find(this.els.pop);this.$video=this.els.el.querySelectorAll(this.els.video)[0];this.$close=this.$wrap.find(this.els.close);this.$textWrap=
this.$wrap.find(this.els.textBox);this.$textCta=this.$textWrap.find(this.els.textCta);this.$textLink=this.$textWrap.find(this.els.textLink);this.$figureImg=this.$wrap.find(this.els.figureImg)};c.prototype.openPopup=function(){this.$pop.css({display:"flex"});document.body.style.overflow="hidden";document.body.classList.add("video-popupopend");this.$pop.addClass("ex-story-fullbleed__layer-wrap--show");this.video.init(this.$video)};c.prototype.closePopup=function(){this.$pop.css({display:"none"});document.body.removeAttribute("style");
document.body.classList.remove("video-popupopend");this.$pop.removeClass("ex-story-fullbleed__layer-wrap--show");this.video.dispose(this.$video);this.video.stop(this.$video)};c.prototype.bindEvents=function(){var a=this;this.$btn.off("click").on("click",function(){a.openPopup()});this.$close.off("click").on("click",function(){a.closePopup()});"mp4"===this.$video.getAttribute("data-video-type")&&"true"===this.$video.getAttribute("data-video-embed")&&this.$video.querySelector("video").addEventListener("play",
function(){event.target.currentTime=0});this.$textLink.on("mouseenter.StoryFullBleed focusin.StoryFullBleed",function(){a.arrowEnter(a.$textWrap)});this.$textCta.on("mouseenter.StoryFullBleed focusin.StoryFullBleed",function(){a.arrowEnter(a.$textWrap)});this.$textWrap.on("mouseleave.StoryFullBleed focusout.StoryFullBleed",function(){a.arrowLeave($(a))});this.$textWrap.on("mouseenter.StoryFullBleed focusin.StoryFullBleed",function(){a.$figureImg.removeClass("figure-title-set");a.$figureImg.hasClass("figure-title-set")||
a.$figureImg.addClass("figure-title")})};c.prototype.arrowEnter=function(a){e.getViewPort().width<=d.BREAKPOINTS.MOBILE||(a.removeClass("s-hover-leave"),setTimeout(function(){a.hasClass("s-hover-leave")||a.addClass("s-hover-enter")},100),this.$figureImg.removeClass("figure-title-set"),this.$figureImg.hasClass("figure-title-set")||this.$figureImg.addClass("figure-title"))};c.prototype.arrowLeave=function(a){var b=this;e.getViewPort().width<=d.BREAKPOINTS.MOBILE||(this.$textWrap.removeClass("s-hover-enter"),
this.$textWrap.hasClass("s-hover-enter")||a.addClass("s-hover-leave"),setTimeout(function(){b.$textWrap.removeClass("s-hover-leave")},100),this.$figureImg.removeClass("figure-title"),this.$figureImg.hasClass("figure-title")||this.$figureImg.addClass("figure-title-set"))};c.instances=new WeakMap;var f={initAll:function(){[].concat($jscomp.arrayFromIterable(document.querySelectorAll(".ex-story-fullbleed"))).forEach(function(a){c.instances.has(a)||new c(a)})}};window.sg.components.storyfullbleed=f;b.ready(function(){return f.initAll()})})();