var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var f=0;return function(){return f<c.length?{done:!1,value:c[f++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var f="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return f?f.call(c):$jscomp.arrayIterator(c)};$jscomp.arrayFromIterator=function(c){for(var f,e=[];!(f=c.next()).done;)e.push(f.value);return e};
$jscomp.arrayFromIterable=function(c){return c instanceof Array?c:$jscomp.arrayFromIterator($jscomp.makeIterator(c))};
(function(){var c=window.sg.common.$q,f=window.sg.common.exploreUtils,e=function(a){this.els={el:a,itemEle:a.querySelectorAll(".ex-article-feed-column__inner .ex-article-feed-column__item"),itemActiveEle:".ex-article-feed-column__inner .ex-article-feed-column-active",viewMoreBtn:".ex-article-feed-column__cta-wrap button",popupvideoStartButtonEls:a.querySelectorAll(".ex-article-feed-column__btn-video-start"),popuplayerWrapEl:a.querySelectorAll(".ex-article-feed-column__layer-wrap"),popupvideoWrapEl:a.querySelectorAll(".ex-article-feed-column__video-wrap"),
popupvideoEls:a.querySelectorAll(".ex-article-feed-column__video-wrap .video"),popupvideoCloseButtonEl:a.querySelectorAll(".ex-article-feed-column__btn-video-close"),videoStartButtonEls:a.querySelectorAll(".ex-article-feed-column__btn-video-start-deskvid"),layerWrapEl:a.querySelectorAll(".ex-article-feed-column__layer-wrap-deskvid"),videoWrapEl:a.querySelectorAll(".ex-article-feed-column__video-wrap-deskvid"),videoEls:a.querySelectorAll(".ex-article-feed-column__video-wrap-deskvid .video"),videoCloseButtonEl:a.querySelectorAll(".ex-article-feed-column__btn-video-close-deskvid"),
imageInitialStartBtnEls:a.querySelectorAll(".ex-article-feed-column__initial_popup_btn"),initialPopupcontentEls:a.querySelectorAll(".ex-article-feed-column__layer"),closeBtn:a.querySelectorAll(".close_btn"),imagePopupBtn:a.querySelectorAll(".image-popup")};this.video=window.sg.common.video;this.getCurrentDevice=window.sg.common.utils.getCurrentDevice;this.currentPlayingVideo={};this.isAemEditMode=f.isAemEditMode();this.init()};e.prototype.init=function(){e.instances.has(this.els.el)||(e.instances.set(this.els.el,
this),this.setElements(),this.isAemEditMode||this.bindEvents())};e.prototype.setElements=function(){var a=this;this.$itemsFeedWrap=c(this.els.el);this.$viewMoreBtn=this.$itemsFeedWrap.find(this.els.viewMoreBtn);this.itemsCount=this.$totalEleCnt=Number(this.els.itemEle.length);"desktop"===this.getCurrentDevice()?"pcPerPage"in this.els.el.dataset&&(this.itemsCount=Number(this.els.el.dataset.pcPerPage)):"moPerPage"in this.els.el.dataset&&(this.itemsCount=Number(this.els.el.dataset.moPerPage));this.isAemEditMode&&
(this.itemsCount=this.$totalEleCnt);this.els.itemEle.forEach(function(d,b){d=c(d);b<a.itemsCount?d.addClass("ex-article-feed-column-active"):d.target[0].style.display="none"});this.itemsCount<this.$totalEleCnt?this.$viewMoreBtn.show():this.$viewMoreBtn.hide()};e.prototype.setVideoSize=function(a){"desktop"===this.getCurrentDevice()?(this.els.videoWrapEl[a].style.width=.8*window.innerWidth+"px",this.els.videoWrapEl[a].style.height=.45*window.innerWidth+"px",window.innerHeight<=this.els.videoWrapEl[a].offsetHeight?
(this.els.videoCloseButtonEl[a].classList.add("ex-article-feed-column__btn-video-close-deskvid--fixed-deskvid"),this.els.videoCloseButtonEl[a].style.left=1440<=window.innerWidth?.9*window.innerWidth+16+"px":.9*window.innerWidth+16/1440*window.outerWidth+"px"):(this.els.videoCloseButtonEl[a].classList.remove("ex-article-feed-column__btn-video-close-deskvid--fixed-deskvid"),this.els.videoCloseButtonEl[a].removeAttribute("style"))):(this.els.videoCloseButtonEl[a].classList.remove("ex-article-feed-column__btn-video-close-deskvid--fixed-deskvid"),
this.els.videoWrapEl[a].style.width=window.innerWidth+"px",this.els.videoWrapEl[a].style.height=.5625*window.innerWidth+"px")};e.prototype.setVideoSizePopup=function(a){"desktop"===this.getCurrentDevice()?(this.els.popupvideoWrapEl[a].style.width=.8*window.innerWidth+"px",this.els.popupvideoWrapEl[a].style.height=.45*window.innerWidth+"px",window.innerHeight<=this.els.popupvideoWrapEl[a].offsetHeight?(this.els.popupvideoCloseButtonEl[a].classList.add("ex-article-feed-column__btn-video-close--fixed"),
this.els.popupvideoCloseButtonEl[a].style.left=1440<=window.innerWidth?.9*window.innerWidth+16+"px":.9*window.innerWidth+16/1440*window.outerWidth+"px"):(this.els.popupvideoCloseButtonEl[a].classList.remove("ex-article-feed-column__btn-video-close--fixed"),this.els.popupvideoCloseButtonEl[a].removeAttribute("style"))):(this.els.popupvideoCloseButtonEl[a].classList.remove("ex-article-feed-column__btn-video-close--fixed"),this.els.popupvideoWrapEl[a].style.width=window.innerWidth+"px",this.els.popupvideoWrapEl[a].style.height=
.5625*window.innerWidth+"px")};e.prototype.bindEvents=function(){var a=this;[].concat($jscomp.arrayFromIterable(this.els.popupvideoStartButtonEls)).forEach(function(d,b){$(d).click(function(){a.els.popuplayerWrapEl[b].classList.add("ex-article-feed-column__layer-wrap--show");a.els.popupvideoEls[b].style.display="block";a.setVideoSizePopup(b);a.video.init(a.els.popupvideoEls[b]);a.currentPlayingVideo=a.els.popupvideoEls[b];"mp4"===a.els.popupvideoEls[b].getAttribute("data-video-type")&&a.video.play(a.els.popupvideoEls[b])})});
[].concat($jscomp.arrayFromIterable(this.els.popupvideoCloseButtonEl)).forEach(function(d,b){$(d).click(function(){a.els.popuplayerWrapEl[b].classList.remove("ex-article-feed-column__layer-wrap--show");a.currentPlayingVideo.style.display="none";a.els.popupvideoWrapEl[b].removeAttribute("style");a.video.dispose(a.currentPlayingVideo);a.video.stop(a.currentPlayingVideo);a.currentPlayingVideo={}})});[].concat($jscomp.arrayFromIterable(this.els.videoStartButtonEls)).forEach(function(d,b){$(d).click(function(){document.body.style.overflow=
"hidden";a.els.layerWrapEl[b].classList.add("ex-article-feed-column__layer-wrap-deskvid--show-deskvid");a.els.videoEls[b].style.display="block";a.setVideoSize(b);a.video.init(a.els.videoEls[b]);a.currentPlayingVideo=a.els.videoEls[b];"mp4"===a.els.videoEls[b].getAttribute("data-video-type")&&a.video.play(a.els.videoEls[b])})});[].concat($jscomp.arrayFromIterable(this.els.videoCloseButtonEl)).forEach(function(d,b){$(d).click(function(){document.body.removeAttribute("style");a.els.layerWrapEl[b].classList.remove("ex-article-feed-column__layer-wrap-deskvid--show-deskvid");
a.currentPlayingVideo.style.display="none";a.els.videoWrapEl[b].removeAttribute("style");a.video.dispose(a.currentPlayingVideo);a.video.stop(a.currentPlayingVideo);a.currentPlayingVideo={}})});this.$viewMoreBtn.on("click",function(d){a.btnViewMoreHandler(d)});[].concat($jscomp.arrayFromIterable(this.els.imageInitialStartBtnEls)).forEach(function(a){$(a).click(function(a){a.preventDefault();document.body.style.overflow="hidden";if(a=a.target.closest(".ex-article-feed-column__item").querySelector(".ex-article-feed-column__layer"))a.style.display=
"block"})});[].concat($jscomp.arrayFromIterable(this.els.imagePopupBtn)).forEach(function(a){$(a).click(function(a){document.body.style.overflow="hidden";if(a=a.target.closest(".ex-article-feed-column__item").querySelector(".ex-article-feed-column__layer"))a.style.display="block"})});[].concat($jscomp.arrayFromIterable(this.els.closeBtn)).forEach(function(a){$(a).click(function(a){a.preventDefault();document.body.removeAttribute("style");if(a=a.target.closest(".ex-article-feed-column__item").querySelector(".ex-article-feed-column__layer"))a.style.display=
"none"})})};e.prototype.btnViewMoreHandler=function(a){a.preventDefault();var d=+(this.$itemsFeedWrap.find(this.els.itemActiveEle).target.length+ +this.itemsCount);this.els.itemEle.forEach(function(a,e){e<d&&(a=c(a),a.hasClass("ex-article-feed-column-active")||(a.addClass("ex-article-feed-column-active"),a.target[0].style.display="inline-block"))});d<this.$totalEleCnt?this.$viewMoreBtn.show():this.$viewMoreBtn.hide()};e.instances=new WeakMap;var g={initAll:function(){[].concat($jscomp.arrayFromIterable(document.querySelectorAll(".ex-article-feed-column"))).forEach(function(a){e.instances.has(a)||
new e(a)})}};window.sg.components.articlefeedcolumn=g;c.ready(function(){return g.initAll()})})();