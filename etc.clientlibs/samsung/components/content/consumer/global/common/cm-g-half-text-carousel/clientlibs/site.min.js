(function(){function g(){d(h.section).target.forEach(function(a){new c(a)})}var d=window.sg.common.$q,k=window.sg.common.utils,f=window.sg.common.swiperManager,l=window.sg.common.video,h={section:".half-text-carousel"},c=function(a){var e=this;this.selector={swiper:".swiper-container",playBtn:".half-text-carousel__btn-play",video:".video-area",videoPopup:".half-text-carousel__video",closeVideoBtn:".video-area__btn-close",swiperPrev:".swiper-button-prev",swiperNext:".swiper-button-next"};this.el={window:null,
section:d(a),playBtn:null,closeVideoBtn:null,swiperPrev:null,swiperNext:null};this.handler={clickPlayBtn:function(b){b.preventDefault();b=b.target.getAttribute("data-video-id");b=d("#"+b).closest(e.selector.videoPopup);b.show();b.find(e.selector.closeVideoBtn).focus();b=b.find(".video");b.closest(".half-text-carousel__video").hasClass("half-text-carousel__video-layer-type")&&k.hiddenScroll();e.handler.videoPlay(b.target[0])},clickCloseVideoBtn:function(b){b.preventDefault();var a=d(b.target).closest(e.selector.video);
b=a.attr("id");a=a.closest(e.selector.videoPopup);a.hide();d('button[data-video-id\x3d"'+b+'"]').focus();k.visibleScroll();e.handler.videoClose(a.find(".video").target[0])},videoPlay:function(a){"false"===a.getAttribute("data-video-embed").toLowerCase()&&l.init(a)},videoClose:function(a){"false"===a.getAttribute("data-video-embed").toLowerCase()&&l.dispose(a)}};c.instances.set(a,this);this.init()};c.prototype.init=function(){this.setElements();this.bindEvents()};c.prototype.bindEvents=function(){this.el.section.find(this.selector.swiper).target.forEach(function(a){a=
d(a);1>=a.find(".swiper-slide").target.length?a.find(".indicator").hide():a.find(".indicator").show()});this.el.playBtn.on("click",this.handler.clickPlayBtn);this.el.closeVideoBtn.on("click",this.handler.clickCloseVideoBtn)};c.prototype.unBindEvents=function(){this.el.playBtn.off("click",this.handler.clickPlayBtn);this.el.closeVideoBtn.off("click",this.handler.clickCloseVideoBtn)};c.prototype.setElements=function(){this.el.playBtn=this.el.section.find(this.selector.playBtn);this.el.closeVideoBtn=
d(this.selector.closeVideoBtn);this.el.swiperPrev=this.el.section.find(this.selector.swiperPrev);this.el.swiperNext=this.el.section.find(this.selector.swiperNext)};c.prototype.reInit=function(){this.unBindEvents();this.el.section.find(this.selector.swiper).target.forEach(function(a){f.slideReInit(a)})};c.instances=new WeakMap;window.sg.components.halfTextCarousel={init:g,reInit:function(a){a?c.instances.has(a)?c.instances.get(a).reInit():(d(a).find(".swiper-container").target.forEach(function(a){f.slideInit(a)}),
new c(a)):d(h.section).target.forEach(function(a){c.instances.has(a)?c.instances.get(a).reInit():(d(a).find(".swiper-container").target.forEah(function(a){f.slideInit(a)}),new c(a))})}};d.ready(g)})();