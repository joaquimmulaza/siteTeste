(function(){function a(){b(f.section+" .text-field").target.forEach(function(c){window.sg.common.textField.init(c)});b(f.section).target.forEach(function(c){d.instances.has(c)||new d(c)})}var b=window.sg.common.$q,f={section:".su21-shop-search-kv"},g=window.sg.common.constants.BREAKPOINTS,e=window.sg.common.utils,d=function(c){var a=this;this.selector={section:f.section,container:".su21-shop-search-kv__container",imgArea:".su21-shop-search-kv__image .image",inputText:'.text-field input[type\x3d"text"]',
inputTextClose:".su21-shop-search-kv__search-delete",chip:".chip__action--medium",searchWrap:".su21-shop-search-kv__search-wrap",formWrap:".su21-shop-search-kv__form-wrap",mobileClose:".su21-shop-search-kv__search-wrap-close",searchLen1:".su21-shop-search-kv__popular-searches-wrap",searchLen2:".su21-shop-search-kv__suggested-searches-wrap",searchLink:"su21-shop-search-kv__searches-link"};this.ele={window:b(window),section:b(c),inputText:null,chip:null,mobileClose:null};this.setProperty();this.isPc=
g.MOBILE<e.getViewPort().width;this.handler={resize:this.resize.bind(this),clickInputCloseBtn:function(){a.ele.inputText.target[0].value="";a.ele.inputText.focus()},clickOut:function(c){a.isPc&&a.ele.formWrap.target[0].classList.contains("is-active")&&0===b(c.target).closest(a.ele.formWrap.target[0]).target.length&&a.clearTextLenClass()}};d.instances.set(c,this);this.init()};d.prototype.init=function(){var c=this;this.bindEvents();this.ele.imgArea.find(".image__main").on("load",function(){g.MOBILE<
e.getViewPort().width?c.setHeight(!0):c.setHeight(!1)});this.setChipColor()};d.prototype.reInit=function(){this.setProperty();this.init();this.setChipColor()};d.prototype.resize=function(){var c=g.MOBILE<e.getViewPort().width;c!==this.isPc&&(this.isPc=c,this.setChipColor(),c?e.visibleScroll():document.activeElement!==this.ele.inputText.target[0]&&this.clearTextLenClass());g.MOBILE<e.getViewPort().width?this.setHeight(!0):this.setHeight(!1)};d.prototype.setProperty=function(){this.ele.container=this.ele.section.find(this.selector.container);
this.ele.imgArea=this.ele.section.find(this.selector.imgArea);this.ele.inputText=this.ele.section.find(this.selector.inputText);this.ele.chip=this.ele.section.find(this.selector.chip);this.ele.mobileClose=this.ele.section.find(this.selector.mobileClose);this.ele.inputTextClose=this.ele.section.find(this.selector.inputTextClose);this.ele.formWrap=this.ele.section.find(this.selector.formWrap)};d.prototype.setHeight=function(c){c=!0===(void 0===c?null:c)?this.ele.imgArea.outerHeight()+"px":"";this.ele.container.css({height:c})};
d.prototype.bindEvents=function(){var c=this;this.ele.inputText.off("focusin").on("focusin",function(){c.textLenMode=c.setTextLenMode();c.clearTextLenClass();c.setTextLenClass()});this.ele.mobileClose.off("click").on("click",function(){c.ele.inputText.focus();c.clearTextLenClass();c.ele.inputText.target[0].value="";c.ele.inputTextClose.hide();c.ele.inputText.blur();c.ele.section.find(".su21-shop-search-kv__no-searches-result").target[0].style.display=""});this.ele.formWrap.off("keydown").on("keydown",
function(a){a.keyCode===window.sg.common.constants.KEY_CODE.TAB&&requestAnimationFrame(function(){0===b(document.activeElement).closest(c.ele.formWrap.target[0]).target.length&&c.clearTextLenClass()})});this.ele.inputText.off("keydown").on("keydown",function(){requestAnimationFrame(function(){var a=c.setTextLenMode();c.textLenMode!==a&&(c.textLenMode=a,c.clearTextLenClass(),c.setTextLenClass())})});this.ele.inputTextClose.off("click",this.handler.clickInputCloseBtn).on("click",this.handler.clickInputCloseBtn);
this.ele.window.off("resize",this.handler.resize).on("resize",this.handler.resize);this.ele.window.off("click",this.handler.clickOut).on("click",this.handler.clickOut)};d.prototype.setChipColor=function(){this.isPc?(this.ele.chip.addClass("chip__action--dark"),this.ele.chip.removeClass("chip__action--light")):(this.ele.chip.removeClass("chip__action--dark"),this.ele.chip.addClass("chip__action--light"))};d.prototype.setTextLenMode=function(){var a=this.ele.inputText.target[0].value.length,b=null;
2<a?b=2:0<a?b=1:0===a&&(b=0);return b};d.prototype.clearTextLenClass=function(){e.visibleScroll();this.ele.section.find(this.selector.searchWrap).removeClass("layer-popup");this.ele.formWrap.removeClass("is-active");this.ele.section.find(this.selector.searchLen1).hide();this.ele.section.find(this.selector.searchLen2).removeClass("su21-shop-search-kv__searchs-visible");3>this.ele.inputText.target[0].value.length&&(this.ele.section.find(".su21-shop-search-kv__no-searches-result").target[0].style.display=
"")};d.prototype.setTextLenClass=function(){this.isPc||e.hiddenScroll();0<=this.textLenMode&&(this.ele.section.find(this.selector.searchWrap).addClass("layer-popup"),this.ele.formWrap.addClass("is-active"),this.ele.section.find(this.selector.searchLen1).show(),this.ele.inputTextClose.hide());1<=this.textLenMode&&this.ele.inputTextClose.show();2<=this.textLenMode&&(this.ele.section.find(this.selector.searchLen1).hide(),this.ele.section.find(this.selector.searchLen2).addClass("su21-shop-search-kv__searchs-visible"))};
d.instances=new WeakMap;window.sg.components.shopSearchKv={init:a,reInit:function(){b(f.section+" .text-field").target.forEach(function(a){window.sg.common.textField.init(a)});window.sg.common.lazyLoad.setLazyLoad();b(f.section).target.forEach(function(a){d.instances.has(a)?d.instances.get(a).reInit():new d(a)})}};b.ready(a)})();
(function(a,b,f){b("#su21-shop-search-kv").on("keyup click",function(a){fnSupportSearch(a)});b(document).on("click",".su21-shop-search-kv__form-submit",function(a){a=b("#su21-shop-search-kv").val();fnSupportSearchPage(a)});b(document).on("click",".su21-shop-search-kv__keyword .su21-shop-search-kv__keyword-list \x3e li",function(a){fnSupportSearchPage(b(this).find("a").text())})})(window,window.jQuery,window.document);
function stripTags(a){null!=a&&(a=a.split("\x3c").join("").split("\x3e").join("").split("\x26lt").join("").split("\x26gt").join(""));return a}function exceptionCharacter(a){var b=/[\{\}\[\]?,;:|\)*~`!^_<>@#$%&\\=\('"]/gi;b.test(a)&&(a=a.replace(b,""));return a}function fnSupportSearch(a){var b=a.target||a.srcElement;13===a.keyCode?(a=stripTags($(b).val()),$(b).val(exceptionCharacter(a)),fnSupportSearchPage(a)):fnSupportAutoSearch(b,$(".su21-shop-search-kv__suggested-searches-wrap"))}
function fnSupportSearchPage(a){var b=$("#siteCode").val(),f="Y"===$("#b2bFlag").val();b="/content/samsung/"+b;a&&""!==a||(a=$("#displayPlaceholder").val());f&&(b+="/business");window.location.href=b+"/search.html?searchvalue\x3d"+a+"#shopfaq"}
function fnSupportAutoSearch(a,b){var f=$("#siteCode").val(),g=stripTags($(a).val());$(a).val(exceptionCharacter(g));if(!(3>g.length)){var e=$("#esapiSearchDomain").val()+"/support/search/faqsuggest/v6";$.ajax({type:"GET",data:{searchValue:g,siteCd:f,stage:$("#apiStageInfo").val()},url:e,timeout:1E4,success:function(d){fnAutoSearchCallBack(d,a,b,g)}})}}
function fnAutoSearchCallBack(a,b,f,g){var e="",d=g;for(b=0;-1<d.lastIndexOf(" ")&&d.lastIndexOf(" ")===d.length-1&&!(d=d.substring(0,d.lastIndexOf(" ")),b++,10<b););a=a.response.resultData.resultList;var c=null,h=null;null!=a&&$.each(a,function(a,b){"Query_Pdp_Model"==b.resultType&&(c=b.contentList);if("Query_HelpContents"==b.resultType||"Query_ShopFaq"==b.resultType)h=b.contentList});$(".su21-shop-search-kv__suggested-searches-wrap").css("display","");$(".su21-shop-search-kv__no-searches-result").css("display",
"");null!=c&&$.each(c,function(a,b){console.log("model:"+a);var c=fnDataCheck(b.fmyMktNm);4>a&&(e+="\x3cli\x3e",e+='\t\x3ca href\x3d"'+b.linkUrl+'" class\x3d"su21-shop-search-kv__searches-link" role\x3d"text" an-tr\x3d"su21_search kv-'+digitalData.page.pageInfo.pageTrack+'-text-search" an-ca\x3d"search" an-ac\x3d"support search bar" an-la\x3d"suggested searches:'+c+fnDataCheck(b.modelCode)+'"\x3e'+boldReplace(c,d,"\x3cstrong\x3e","\x3c/strong\x3e")+" \x26lrm;("+fnDataCheck(b.modelCode)+")\x26lrm;\x3c/a\x3e",
e+="\x3c/li\x3e")});null!=h&&$.each(h,function(a,b){console.log("help content :"+a);var c=fnDataCheck(b.scTitle);4>a&&(e+="\x3cli \x3e",e+='\t\x3ca href\x3d"'+b.linkUrl+'" class\x3d"su21-shop-search-kv__searches-link" role\x3d"text"  an-tr\x3d"su21_search kv-'+digitalData.page.pageInfo.pageTrack+'-text-search" an-ca\x3d"search" an-ac\x3d"support search bar" an-la\x3d"suggested searches:'+c+'"\x3e'+boldReplace(c,d,"\x3cstrong\x3e","\x3c/strong\x3e")+"\x3c/a\x3e",e+="\x3c/li\x3e")});f.find(".su21-shop-search-kv__searches-list").html(e);
null==h&&null==c&&($(".su21-shop-search-kv__suggested-searches-wrap").css("display","none"),$(".su21-shop-search-kv__no-searches-result").css("display","block"))}function boldReplace(a,b,f,g){for(var e=new RegExp(b,"ig"),d,c=a,h="",l=0;null!=(d=e.exec(a));){var k=a.substring(0,d.index+b.length);k=k.replace(e,f+d[0]+g);h+=k;a=a.substring(d.index+b.length,a.length);if(100===l)break;l++}""!==h&&(c=h+a);return c}
function fnDataCheck(a,b){var f="";null!=b&&0<b.length&&(f=b);null!=a&&0<a.length&&(f=a);return f};