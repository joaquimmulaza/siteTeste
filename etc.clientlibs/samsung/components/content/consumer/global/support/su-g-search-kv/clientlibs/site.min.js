(function(){function a(){c(g.section+" .text-field").target.forEach(function(b){window.sg.common.textField.init(b)});c(g.section).target.forEach(function(b){d.instances.has(b)||new d(b)})}var c=window.sg.common.$q,g={section:".su07-search-kv"},f=window.sg.common.constants.BREAKPOINTS,e=window.sg.common.utils,h=window.sg.common.libs,l=window.sg.common.utils.setMobileFocusLoop,k=window.sg.common.utils.removeMobileFocusLoop,d=function(b){var a=this;this.selector={section:g.section,container:".su07-search-kv__container",
imgArea:".su07-search-kv__image .image",inputText:'.text-field input[type\x3d"text"]',inputTextClose:".su07-search-kv__search-delete",chip:".chip__action--medium",searchWrap:".su07-search-kv__search-wrap",formWrap:".su07-search-kv__form-wrap",mobileClose:".su07-search-kv__search-wrap-close",searchLen1:".su07-search-kv__popular-searches-wrap",searchLen2:".su07-search-kv__suggested-searches-wrap",searchLink:"su07-search-kv__searches-link"};this.ele={window:c(window),section:c(b),inputText:null,chip:null,
mobileClose:null};this.setProperty();this.isPc=f.MOBILE<e.getViewPort().width;this.mobileFlg=this.desktopFlg=!1;this.handler={resize:this.resize.bind(this),eventFocusLock:this.eventFocusLock.bind(this),clickInputCloseBtn:function(){a.ele.inputText.target[0].value="";a.ele.inputText.focus()},clickOut:function(b){a.isPc&&a.ele.formWrap.target[0].classList.contains("is-active")&&0===c(b.target).closest(a.ele.formWrap.target[0]).target.length&&a.clearTextLenClass()}};d.instances.set(b,this);this.init()};
d.prototype.init=function(){var b=this;this.bindEvents();this.ele.imgArea.find(".image__main").on("load",function(){f.MOBILE<e.getViewPort().width?b.setHeight(!0):b.setHeight(!1)});this.setChipColor()};d.prototype.reInit=function(){this.setProperty();this.init();this.setChipColor()};d.prototype.resize=function(){var b=this,a=f.MOBILE<e.getViewPort().width;a!==this.isPc&&(this.isPc=a,this.setChipColor(),a?e.visibleScroll():document.activeElement!==this.ele.inputText.target[0]&&this.clearTextLenClass());
f.MOBILE<e.getViewPort().width?(this.setHeight(!0),!1===this.desktopFlg&&(this.desktopFlg=!0,this.mobileFlg=!1,this.ele.inputText.off("focusin").on("focusin",function(){b.textLenMode=b.setTextLenMode();b.clearTextLenClass();b.setTextLenClass()}),this.ele.section.find(".su07-search-kv__search-wrap").off("keydown",this.handler.eventFocusLock))):(this.setHeight(!1),!1===this.mobileFlg&&(this.mobileFlg=!0,this.desktopFlg=!1,this.ele.inputText.off("focusin")))};d.prototype.setProperty=function(){this.ele.container=
this.ele.section.find(this.selector.container);this.ele.imgArea=this.ele.section.find(this.selector.imgArea);this.ele.inputText=this.ele.section.find(this.selector.inputText);this.ele.chip=this.ele.section.find(this.selector.chip);this.ele.mobileClose=this.ele.section.find(this.selector.mobileClose);this.ele.inputTextClose=this.ele.section.find(this.selector.inputTextClose);this.ele.formWrap=this.ele.section.find(this.selector.formWrap)};d.prototype.setHeight=function(b){b=!0===(void 0===b?null:b)?
this.ele.imgArea.outerHeight()+"px":"";this.ele.container.css({height:b})};d.prototype.bindEvents=function(){var b=this;this.ele.mobileClose.off("click").on("click",function(){b.clearTextLenClass();b.ele.inputText.target[0].value="";b.ele.inputTextClose.hide();b.ele.inputText.blur();b.ele.section.find(".su07-search-kv__no-searches-result").target[0].style.display="";b.ele.inputText.focus()});this.ele.formWrap.off("keydown").on("keydown",function(a){a.keyCode===window.sg.common.constants.KEY_CODE.TAB&&
requestAnimationFrame(function(){0===c(document.activeElement).closest(b.ele.formWrap.target[0]).target.length&&b.clearTextLenClass()});a.keyCode===window.sg.common.constants.KEY_CODE.ESC&&(b.clearTextLenClass(),b.ele.inputText.focus())});this.ele.inputText.off("keydown").on("keydown",function(){requestAnimationFrame(function(){var a=b.setTextLenMode();b.textLenMode!==a&&(b.textLenMode=a,b.clearTextLenClass(),b.ele.inputText.focus(),b.setTextLenClass())})});this.ele.inputTextClose.off("click",this.handler.clickInputCloseBtn).on("click",
this.handler.clickInputCloseBtn);this.ele.window.off("resize",this.handler.resize).on("resize",this.handler.resize);this.ele.window.off("click",this.handler.clickOut).on("click",this.handler.clickOut)};d.prototype.setChipColor=function(){this.isPc?(this.ele.chip.addClass("chip__action--dark"),this.ele.chip.removeClass("chip__action--light")):(this.ele.chip.removeClass("chip__action--dark"),this.ele.chip.addClass("chip__action--light"))};d.prototype.setTextLenMode=function(){var b=this.ele.inputText.target[0].value.length,
a=null;2<b?a=2:0<b?a=1:0===b&&(a=0);return a};d.prototype.eventFocusLock=function(b){var a=[];this.ele.section.find(".su07-search-kv__form-wrap").find("a, input, button").target.forEach(function(b){null!==b.offsetParent&&a.push(c(b))});var d=this.ele.section.find(".su07-search-kv__form-wrap").find("a, input, button").target[0],f=a[a.length-1].target[0];b.keyCode===h.keyCode.TAB_KEY&&(!1===b.shiftKey&&f===document.activeElement?(b.preventDefault(),d.focus()):!0===b.shiftKey&&d===document.activeElement&&
(b.preventDefault(),f.focus()))};d.prototype.clearTextLenClass=function(){e.visibleScroll();this.ele.section.find(this.selector.searchWrap).removeClass("layer-popup");this.ele.formWrap.removeClass("is-active");this.ele.section.find(this.selector.searchLen1).hide();this.ele.section.find(this.selector.searchLen2).removeClass("su07-search-kv__searchs-visible");3>this.ele.inputText.target[0].value.length&&(this.ele.section.find(".su07-search-kv__no-searches-result").target[0].style.display="");k()};d.prototype.setTextLenClass=
function(){this.isPc||(e.hiddenScroll(),this.ele.section.find(".su07-search-kv__search-wrap").off("keydown",this.handler.eventFocusLock).on("keydown",this.handler.eventFocusLock));0<=this.textLenMode&&(this.ele.section.find(this.selector.searchWrap).addClass("layer-popup"),this.ele.formWrap.addClass("is-active"),this.ele.section.find(this.selector.searchLen1).show(),this.ele.inputTextClose.hide(),l(this.ele.section.find(this.selector.searchWrap).target[0]));1<=this.textLenMode&&this.ele.inputTextClose.show();
2<=this.textLenMode&&(this.ele.section.find(this.selector.searchLen1).hide(),this.ele.section.find(this.selector.searchLen2).addClass("su07-search-kv__searchs-visible"))};d.instances=new WeakMap;window.sg.components.searchKv={init:a,reInit:function(){c(g.section+" .text-field").target.forEach(function(b){window.sg.common.textField.init(b)});window.sg.common.lazyLoad.setLazyLoad();c(g.section).target.forEach(function(b){d.instances.has(b)?d.instances.get(b).reInit():new d(b)})}};c.ready(a)})();
(function(a,c,g){c("#su07-search-kv").on("keyup click",function(a){fnSupportSearch(a)});c(document).on("click",".su07-search-kv__form-submit",function(a){a=c("#su07-search-kv").val();fnSupportSearchPage(a)});c(document).on("click",".su07-search-kv__keyword .su07-search-kv__keyword-list \x3e li",function(a){fnSupportSearchPage(c(this).find("a").text())})})(window,window.jQuery,window.document);
function stripTags(a){null!=a&&(a=a.split("\x3c").join("").split("\x3e").join("").split("\x26lt").join("").split("\x26gt").join(""));return a}function exceptionCharacter(a){var c=/[\{\}\[\]?,;:|\)*~`!^_<>@#$%&\\=\('"]/gi;"cn"===siteCode&&(c=/[\{\}\[\]?,;:|\)*~`!^_<>@#$%&\\=\("]/gi);c.test(a)&&(a=a.replace(c,""));return a}
function fnSupportSearch(a){var c=a.target||a.srcElement;13===a.keyCode?(a=stripTags($(c).val()),$(c).val(exceptionCharacter(a)),fnSupportSearchPage(a)):fnSupportAutoSearch(c,$(".su07-search-kv__suggested-searches-wrap"))}
function fnSupportSearchPage(a){var c=$("#siteCode").val(),g="Y"===$("#b2bFlag").val(),f="/content/samsung/"+c;a&&""!==a||(a=$("#displayPlaceholder").val());g&&(f="global_nw"===c?"/content/samsung/global/business/networks":"global_cps"===c?"/content/samsung/global/business/compressor":f+"/business");window.location.href=f+"/search.html?searchvalue\x3d"+a+"#support"}
function fnSupportAutoSearch(a,c){var g=$("#siteCode").val(),f=stripTags($(a).val());$(a).val(exceptionCharacter(f));if(!(3>f.length)){var e=$("#esapiSearchDomain").val()+"/support/search/suggest/v6";$.ajax({type:"GET",data:{searchValue:f,siteCd:g,stage:$("#apiStageInfo").val()},url:e,timeout:1E4,success:function(e){fnAutoSearchCallBack(e,a,c,f)}})}}
function fnAutoSearchCallBack(a,c,g,f){var e="",h=f;for(c=0;-1<h.lastIndexOf(" ")&&h.lastIndexOf(" ")===h.length-1&&!(h=h.substring(0,h.lastIndexOf(" ")),c++,10<c););a=a.response.resultData.resultList;var l=null,k=null;null!=a&&$.each(a,function(a,b){"Query_Pdp_Model"==b.resultType&&(l=b.contentList);"Query_HelpContents"==b.resultType&&(k=b.contentList)});$(".su07-search-kv__suggested-searches-wrap").css("display","");$(".su07-search-kv__no-searches-result").css("display","");null!=l&&$.each(l,function(a,
b){console.log("model:"+a);var c=fnDataCheck(b.fmyMktNm);4>a&&(e+='\x3cli role\x3d"listitem"\x3e',e+='\t\x3ca href\x3d"'+b.linkUrl+'" class\x3d"su07-search-kv__searches-link" an-tr\x3d"su07_search kv-'+digitalData.page.pageInfo.pageTrack+'-text-search" an-ca\x3d"search" an-ac\x3d"support search bar" an-la\x3d"suggested searches:'+c+fnDataCheck(b.modelCode)+'"\x3e'+boldReplace(c,h,"\x3cstrong\x3e","\x3c/strong\x3e")+" \x26lrm;("+fnDataCheck(b.modelCode)+")\x26lrm;\x3c/a\x3e",e+="\x3c/li\x3e")});null!=
k&&$.each(k,function(a,b){console.log("help content :"+a);var c=fnDataCheck(b.scTitle);4>a&&(e+='\x3cli role\x3d"listitem"\x3e',e+='\t\x3ca href\x3d"'+b.linkUrl+'" class\x3d"su07-search-kv__searches-link"  an-tr\x3d"su07_search kv-'+digitalData.page.pageInfo.pageTrack+'-text-search" an-ca\x3d"search" an-ac\x3d"support search bar" an-la\x3d"suggested searches:'+c+'"\x3e'+boldReplace(c,h,"\x3cstrong\x3e","\x3c/strong\x3e")+"\x3c/a\x3e",e+="\x3c/li\x3e")});g.find(".su07-search-kv__searches-list").html(e);
null==k&&null==l&&($(".su07-search-kv__suggested-searches-wrap").css("display","none"),$(".su07-search-kv__no-searches-result").css("display","block"))}function boldReplace(a,c,g,f){for(var e=new RegExp(c,"ig"),h,l=a,k="",d=0;null!=(h=e.exec(a));){var b=a.substring(0,h.index+c.length);b=b.replace(e,g+h[0]+f);k+=b;a=a.substring(h.index+c.length,a.length);if(100===d)break;d++}""!==k&&(l=k+a);return l}function fnDataCheck(a,c){var g="";null!=c&&0<c.length&&(g=c);null!=a&&0<a.length&&(g=a);return g};