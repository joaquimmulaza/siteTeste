var bc_addon_page=function(){function U(l){var b="jQuery1910499421933433041_151";if("ca"==siteCode||"ca_fr"==siteCode)b+=Math.floor(100*Math.random());if(void 0!=BC_PRODUCTS[l].categoryprefixData&&""!=BC_PRODUCTS[l].categoryprefixData.value&&null!=BC_PRODUCTS[l].categoryprefixData.value)var c=BC_PRODUCTS[l].categoryprefixData.value;var e=ba+"/"+multistoreSiteCode+"/servicesv2/getRelatedCategorizedProductsSimpleInfo?productCode\x3d"+l;"AEM_RAINBOW"==c&&(e=ba+"/"+multistoreSiteCode+"/servicesv2/getRelatedCategorizedProductsSimpleInfo?productCode\x3d"+
l+"\x26queryType\x3dACCESSORIES\x26categoryPrefix\x3dAEM_RAINBOW");c=t?{withCredentials:!0}:{};"Y"==hybrisJsonYn?$.ajax({url:e,type:"GET",dataType:"json",cache:!0,xhrFields:c,crossDomain:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(c){0<c.length?(ha(),$.each(c,function(c,b){var g=0;q[b.category.id]={};q[b.category.id].display_name=b.category.display_name;q[b.category.id].groupCount=b.category.groupCount;q[b.category.id].products=b.products;Q(q[b.category.id].products);
$.each(q[b.category.id].products,function(d,c){d=b.category.id+"_"+c.modelcode;a[d]={};a[d].categoryId=b.category.id;a[d].categoryOrder=b.category.order;null!=b.category.display_name&&(a[d].categoryName=b.category.display_name.toLowerCase());a[d].modelcode=c.modelcode;a[d].groupCode="";a[d].price="";a[d].priceValue="";a[d].promotionPrice="";a[d].promotionPriceValue="";a[d].commercialFlag="";a[d].referenceColor="";a[d].lowestWasPrice="";a[d].lowestWasPriceValue="";a[d].usp={};c.price&&(a[d].price=
c.price);a[d].promotionPrice=c.promotionPrice?c.promotionPrice:c.price;c.priceValue&&(a[d].priceValue=c.priceValue);a[d].promotionPriceValue=c.promotionPriceValue?c.promotionPriceValue:c.priceValue;c.lowestWasPrice&&(a[d].lowestWasPrice=c.lowestWasPrice.formattedValue,a[d].lowestWasPriceValue=c.lowestWasPrice.value);c.stocklevel&&(a[d].stocklevel=c.stocklevel);c.groupCode&&(a[d].groupCode=c.groupCode);c.commercialFlag&&(a[d].commercialFlag=c.commercialFlag);c.referenceColor&&(a[d].referenceColor=
c.referenceColor);y[d]||(y[d]={});if(c.usp){for(var e=0;e<c.usp.length;e++)a[d].usp[e]=c.usp[e];y[d].usp=c.usp}e=b.category.id+"_"+c.groupCode;if("F-"==c.modelcode.substr(0,2)){L=!0;r[c.modelcode]||(r[c.modelcode]={});if(c.imageUrl){a[d].imageUrl=c.imageUrl;var F={galleryImg:[c.imageUrl],galleryImgAlt:[""]};r[c.modelcode]=F}null!=e&&""!=e&&(e+=g,g++,w[e]=[],w[e].categoryId=b.category.id,w[e].categoryOrder=b.category.order,a[d].addOnGroupCode=e,a[d].name=c.name);M[l]=a;B[l]=w}else w[e]=[]})})):(bc_summary.moveToCart(),
window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){window.sg.components.bcProgressbar.hide();bc_summary.moveToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){L&&(BC_CARTDATA.addonBundleData=[]);x(l);S()}}):$.ajax({url:e,
type:"GET",dataType:"jsonp",xhrFields:c,jsonpCallback:b,cache:!0,crossDomain:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(c){0<c.length?(ha(),$.each(c,function(c,b){var e=0;q[b.category.id]={};q[b.category.id].display_name=b.category.display_name;q[b.category.id].groupCount=b.category.groupCount;q[b.category.id].products=b.products;$.each(q[b.category.id].products,function(d,c){d=b.category.id+"_"+c.modelcode;a[d]={};a[d].categoryId=b.category.id;
a[d].categoryOrder=b.category.order;null!=b.category.display_name&&(a[d].categoryName=b.category.display_name.toLowerCase());a[d].modelcode=c.modelcode;a[d].groupCode="";a[d].price="";a[d].priceValue="";a[d].promotionPrice="";a[d].promotionPriceValue="";a[d].commercialFlag="";a[d].referenceColor="";a[d].vatFreePriceValue="";c.lowestWasPrice&&(a[d].lowestWasPrice=c.lowestWasPrice.formattedValue,a[d].lowestWasPriceValue=c.lowestWasPrice.value);a[d].usp={};c.price&&(a[d].price=c.price);a[d].promotionPrice=
c.promotionPrice?c.promotionPrice:c.price;c.priceValue&&(a[d].priceValue=c.priceValue);a[d].promotionPriceValue=c.promotionPriceValue?c.promotionPriceValue:c.priceValue;c.stocklevel&&(a[d].stocklevel=c.stocklevel);c.groupCode&&(a[d].groupCode=c.groupCode);c.commercialFlag&&(a[d].commercialFlag=c.commercialFlag);c.referenceColor&&(a[d].referenceColor=c.referenceColor);c.vatEligible&&(a[d].vatEligible=c.vatEligible);c.vatFreePriceValue&&(a[d].vatFreePriceValue=c.vatFreePriceValue);c.lowestWasPrice&&
(a[d].lowestWasPrice=c.lowestWasPrice);c.lowestWasPriceValue&&(a[d].lowestWasPriceValue=c.lowestWasPriceValue);y[d]||(y[d]={});if(c.usp){for(var g=0;g<c.usp.length;g++)a[d].usp[g]=c.usp[g];y[d].usp=c.usp}g=b.category.id+"_"+c.groupCode;if("F-"==c.modelcode.substr(0,2)){L=!0;r[c.modelcode]||(r[c.modelcode]={});if(c.imageUrl){a[d].imageUrl=c.imageUrl;var F={galleryImg:[c.imageUrl],galleryImgAlt:[""]};r[c.modelcode]=F}null!=g&&""!=g&&(g+=e,e++,w[g]=[],w[g].categoryId=b.category.id,w[g].categoryOrder=
b.category.order,a[d].addOnGroupCode=g,a[d].name=c.name);M[l]=a;B[l]=w}else w[g]=[]})})):(bc_summary.moveToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){window.sg.components.bcProgressbar.hide();bc_summary.moveToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},
complete:function(){L&&(BC_CARTDATA.addonBundleData=[]);x(l);S()}})}function V(l){var b="AEM_";void 0!=BC_PRODUCTS[l].prefixData&&""!=BC_PRODUCTS[l].prefixData.value&&null!=BC_PRODUCTS[l].prefixData.value&&(b=BC_PRODUCTS[l].prefixData.value);var c="";$("#shopParmLang").val()&&(c="\x26lang\x3d"+$("#shopParmLang").val());$.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+l+"/relatedCategorizedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dACCESSORIES\x26categoryPrefix\x3d"+
b+c,type:"GET",dataType:"json",cache:!0,xhrFields:{withCredentials:!0},crossDomain:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(c){0<c.length?(ha(),$.each(c,function(c,b){var e=0;null!=b.category.id&&""!=b.category.id&&(q[b.category.id]={},q[b.category.id].display_name=b.category.display_name,q[b.category.id].groupCount=b.category.groupCount,q[b.category.id].products=b.products,Q(q[b.category.id].products),$.each(q[b.category.id].products,function(c,
d){c=b.category.id+"_"+d.modelcode;a[c]={};a[c].categoryId=b.category.id;a[c].categoryOrder=b.category.order;null!=b.category.display_name&&(a[c].categoryName=b.category.display_name.toLowerCase());a[c].modelcode=d.modelcode;a[c].groupCode="";a[c].price="";a[c].priceValue="";a[c].promotionPrice="";a[c].promotionPriceValue="";a[c].commercialFlag="";a[c].referenceColor="";a[c].vatFreePriceValue="";a[c].lowestWasPrice="";a[c].lowestWasPriceValue="";a[c].usp={};d.price&&(a[c].price=H?currencyComma(d.price.value,
currency):d.price.formattedValue,a[c].priceValue=d.price.value);d.promotionPrice?(a[c].promotionPrice=H?currencyComma(d.promotionPrice.value,currency):d.promotionPrice.formattedValue,a[c].promotionPriceValue=d.promotionPrice.value):d.price&&(a[c].promotionPrice=H?currencyComma(d.price.value,currency):d.price.formattedValue,a[c].promotionPriceValue=d.price.value);d.vatEligible&&(a[c].vatEligible=d.vatEligible);d.vatFreePrice&&(a[c].vatFreePriceValue=d.vatFreePrice.value);d.lowestWasPrice&&(a[c].lowestWasPrice=
d.lowestWasPrice.formattedValue,a[c].lowestWasPriceValue=d.lowestWasPrice.value);d.stock&&(a[c].stocklevel=d.stock.stockLevelStatus);d.groupCode&&(a[c].groupCode=d.groupCode);d.commercialFlag&&(a[c].commercialFlag=d.commercialFlag);d.referenceColor&&(a[c].referenceColor=d.referenceColor);y[c]||(y[c]={});if(d.usp){for(var g=0;g<d.usp.length;g++)a[c].usp[g]=d.usp[g];y[c].usp=d.usp}g=b.category.id+"_"+d.groupCode;if("F-"==d.modelcode.substr(0,2)){L=!0;r[d.modelcode]||(r[d.modelcode]={});if(d.picture){a[c].imageUrl=
d.picture.url;var F={galleryImg:[d.picture.url],galleryImgAlt:[""]};r[d.modelcode]=F}(d.price||d.promotionPrice)&&null!=g&&""!=g&&(g+=e,e++,w[g]=[],w[g].categoryId=b.category.id,w[g].categoryOrder=b.category.order,a[c].addOnGroupCode=g,a[c].name=d.name);M[l]=a;B[l]=w}else w[g]=[]}))})):(bc_summary.moveToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){window.sg.components.bcProgressbar.hide();
bc_summary.moveToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){L&&(BC_CARTDATA.addonBundleData=[]);x(l);S()}})}function Q(b){b&&b.sort(function(b,c){return c.priority&&0!=c.priority?0==b.priority?1:b.priority-c.priority:b.priority&&0!=b.priority?-1:0})}function x(b){var l=$("#apiStageInfo").val(),c=$("#searchDomain").val(),e=[];$.each(a,function(c,
b){"F-"!=b.modelcode.substr(0,2)&&(w[b.categoryId+"_"+b.groupCode]=[],0>e.indexOf(b.modelcode)&&e.push(b.modelcode))});var f={siteCode:siteCode,modelList:e.toString(),saleSkuYN:"N",onlyRequestSkuYN:"Y"};"Y"==multiStoreYn&&(f.shopSiteCd=multistoreSiteCode);var m=t?"epp/v2":"b2c",k=c+"/"+l+"/"+m+"/product/card/detail/hybris";if("ca"==siteCode||"ca_fr"==siteCode){k=c+"/"+l+"/"+m+"/product/card/detail/global";var g=$.cookies.get("country_region",{domain:".samsung.com"})?$.cookies.get("country_region",
{domain:".samsung.com"}):"CA-ON";f.regionCode=g}"NewHybris"==BC_GROUP.storeType&&(f={siteCode:siteCode,modelList:e.toString(),commonCodeYN:"N",saleSkuYN:"N",onlyRequestSkuYN:"Y"},k=c+"/"+l+"/"+m+"/product/card/detail/newhybris");t&&(f.companyCode=$("#eppCompanyCode").val(),f.shopSkuYN="N",window.sg.epp.common.isUserGroupPricing&&(f.groupName=window.sg.epp.common.groupName),""!=window.sg.epp.common.userStoreId&&(f.o2oId=window.sg.epp.common.userStoreId));0<e.length?$.ajax({url:k,type:"GET",data:f,
dataType:"json",cache:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(c){200==c.response.statusCode&&$.each(c.response.resultData.productList,function(c,d){c=d.modelList;null!=c&&0<c.length&&$.each(c,function(c,d){$.each(a,function(c,b){if(-1<c.indexOf(d.modelCode)){a[c]||(a[c]={});r[d.modelCode]||(r[d.modelCode]={});b=a[c].categoryId+"_"+a[c].groupCode;"F-"==d.modelCode.substr(0,2)||""==a[c].price&&""==a[c].promotionPrice||null==b||""==b||(w[b].categoryId=
a[c].categoryId,w[b].categoryOrder=a[c].categoryOrder,a[c].addOnGroupCode=b);null!=d.fmyChipList&&0<d.fmyChipList.length&&(d.fmyChipList[0]&&(a[c].optionType=d.fmyChipList[0].fmyChipType,a[c].optionCode=d.fmyChipList[0].fmyChipCode,a[c].optionEngName=d.fmyChipList[0].fmyChipName,a[c].optionName=d.fmyChipList[0].fmyChipLocalName),a[c].fmyChipList=d.fmyChipList);if(null==a[c].name||""==a[c].name)a[c].name=d.displayName?d.displayName:"";if(null==a[c].price||""==a[c].price)H?d.price&&(a[c].price=d.price):
d.priceDisplay&&(a[c].price=d.priceDisplay);if(null==a[c].promotionPrice||""==a[c].promotionPrice)H?d.promotionPriceValue&&(a[c].promotionPriceValue=d.promotionPriceValue):a[c].promotionPrice=d.promotionPriceDisplay?d.promotionPriceDisplay:d.priceDisplay;null!=a[c].priceValue&&""!=a[c].priceValue||!d.price||(a[c].priceValue=d.price);if(null==a[c].promotionPriceValue||""==a[c].promotionPriceValue)a[c].promotionPriceValue=d.promotionPrice?d.promotionPrice:d.price;d.thumbUrl&&(a[c].imageUrl=d.thumbUrl);
d.thumbUrlAlt&&(a[c].imageUrlAlt=d.thumbUrlAlt);d.modelName&&(a[c].modelname=d.modelName);null!=d.galleryImage&&0<d.galleryImage.length?(d.thumbUrl&&0>d.galleryImage.indexOf(d.thumbUrl)&&d.galleryImage.unshift(d.thumbUrl),r[d.modelCode].galleryImg=d.galleryImage):d.thumbUrl&&(zoomGalleryInfo={galleryImg:[d.thumbUrl],galleryImgAlt:[d.thumbUrlAlt]},r[d.modelCode]=zoomGalleryInfo);null!=d.galleryImageAlt&&0<d.galleryImageAlt.length&&(d.thumbUrlAlt&&0>d.galleryImageAlt.indexOf(d.thumbUrlAlt)&&d.galleryImageAlt.unshift(d.thumbUrlAlt),
r[d.modelCode].galleryImgAlt=d.galleryImageAlt);y[d.modelCode]||(y[d.modelCode]={});if(null!=d.usp&&0<d.usp.length){for(b=0;b<d.usp.length;b++)a[c].usp[b]=d.usp[b];y[d.modelCode].usp=d.usp}}})})});M[b]=a;B[b]=w},error:function(){window.sg.components.bcProgressbar.hide();bc_summary.moveToCart();console.log("Search API Error--")},complete:function(){0<Object.keys(q).length&&(X(b),h(b));BC_MODEL.isVoucher?_satellite.setVar("Add Page Name","evoucher"):_satellite.setVar("Add Page Name","add on");_satellite.track("page view");
window.sg.components.bcProgressbar.hide()}}):(X(b),h(b))}function X(b){var a=[];I=[];$.each(B[b],function(c,b){null!=b.categoryId&&void 0!=b.categoryId&&0>I.indexOf(b.categoryId)&&(a={categoryId:b.categoryId,categoryOrder:b.categoryOrder},I.push(b.categoryId),Y.push(a))});Y.sort(function(c,b){return("null"===c.categoryOrder)-("null"===b.categoryOrder)||+(parseInt(c.categoryOrder)>parseInt(b.categoryOrder))||-(parseInt(c.categoryOrder)<parseInt(b.categoryOrder))});I=[];for(var c=0;c<Y.length;c++)I.push(Y[c].categoryId);
$.each(I,function(c,b){q[b].groupCount=0});var l=[];$.each(M[b],function(c,b){void 0!=b.addOnGroupCode&&""!=b.addOnGroupCode&&null!=b.addOnGroupCode&&-1<I.indexOf(b.categoryId)&&0>l.indexOf(b.addOnGroupCode)&&(l.push(b.addOnGroupCode),q[b.categoryId].groupCount+=1)});var e="";$.each(I,function(c,b){c=0===c;null!=q[b].display_name&&(e+='\t\t\t\t\t\t\x3cli class\x3d"hubble-addon-page__category-item swiper-slide"\x3e',e+='\t\t\t\t\t\t\t\x3ca href\x3d"javascript:;" role\x3d"button" data-category-title\x3d"'+
q[b].display_name+'" '+(c?'title\x3d"selected"':"")+' class\x3d"s-category-link'+(c?" is-active":"")+'" data-category-id\x3d"'+b+'" an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+'-option-select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+":"+q[b].display_name.toLowerCase()+':tab"\x3e',e+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-category-text"\x3e'+q[b].display_name+"\x3cspan\x3e"+("Y"==$("#bvRTLFlag").val()?"\x26rlm;":"")+"("+q[b].groupCount+")"+("Y"==$("#bvRTLFlag").val()?"\x26rlm;":"")+"\x3c/span\x3e\x3c/span\x3e",
e+="\t\t\t\t\t\t\t\x3c/a\x3e",e+="\t\t\t\t\t\t\x3c/li\x3e")});$("#addonCategories").append(e);window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();setTimeout(function(){window.sg.common.utils.setFocusFirstFocusableEl(document.querySelector("#content__addon"))},300)}function h(a){$(".hubble-addon-page__list").remove();$(".hubble-addon-page__category-item .s-category-link").each(function(){$(this).hasClass("is-active")&&(p=
$(this).attr("data-category-id"))});if(M[a]){var e=0;$.each(M[a],function(c,d){c=d.categoryId+"_"+d.groupCode;d.groupCode&&d.name&&d.price&&(d.optionCode&&"F-"!=d.modelcode.substr(0,2)?p==d.categoryId?B[a][c].push(d):B[a][c]=[]:p==d.categoryId?(c+=e,null!=d.addOnGroupCode&&""!=d.addOnGroupCode?(B[a][d.addOnGroupCode]=[],B[a][d.addOnGroupCode].push(d)):(B[a][c]=[],B[a][c].push(d)),e++):(e=0,null!=d.addOnGroupCode&&""!=d.addOnGroupCode?B[a][d.addOnGroupCode]=[]:B[a][c+e]=[]))});$.each(B[a],function(c,
d){d.groupOptionChips={};$.each(d,function(c,b){if(0<d.length&&b.stocklevel&&null!=b.fmyChipList&&0<b.fmyChipList.length){var a=b.modelcode;b.productOptionChips={};$.each(b.fmyChipList,function(c,b){c=b.fmyChipType;var e=b.fmyChipCode,l=b.fmyChipName;b=b.fmyChipLocalName;null!=c&&""!=c&&-1<c.indexOf("SIZE")&&(c="MOBILE MEMORY");null==d.groupOptionChips[c]&&(d.groupOptionChips[c]={});null!=e&&""!=e&&(null==d.groupOptionChips[c][e]&&(d.groupOptionChips[c][e]={},d.groupOptionChips[c][e].fmyChipType=
c,d.groupOptionChips[c][e].fmyChipCode=e,d.groupOptionChips[c][e].fmyChipName=l,d.groupOptionChips[c][e].fmyChipLocalName=b,null==d.groupOptionChips[c][e].productList&&(d.groupOptionChips[c][e].productList=[])),d.groupOptionChips[c][e].productList.push(a))})}})});var c="",l=1;c+='            \x3cdiv class\x3d"hubble-addon-page__list"\x3e';c+='                \x3cdiv class\x3d"hubble-addon-page__list-inner list-four-center"\x3e';var t="";"cn"==siteCode&&(t='data-gs-flag\x3d"GetStock"');var r=!1;$.each(B[a],
function(a,d){for(a=0;a<d.length;a++){var e=d[a];r=p==e.categoryId?!0:!1;u.push(addOnsImgDomain(e.imageUrl))}for(i=0;i<u.length;i++)b[i]=new Image,b[i].src=u[i];if(r&&d[0]){var g=-1,F=d[0].modelcode;a=d[0].stocklevel;$.each(d,function(c,d){"outofstock"!=d.stocklevel.toLowerCase()&&-1==g&&(g=c,F=d.modelcode)});-1==g&&(g=0);a=d[g].stocklevel;var k=!1;"F-"==d[0].modelcode.substr(0,2)?void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(c,
b){if(b.addonBundleCode==d[0].modelcode)return k=!0,!1}):void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(c,b){if(b.addonModelCode==d[g].modelcode)return k=!0,!1});isNotEmpty(d[g].price);isNotEmpty(d[g].promotionPrice);e=isNotEmpty(d[g].priceValue)?parseFloat(d[g].priceValue):null;var R=isNotEmpty(d[g].promotionPriceValue)?parseFloat(d[g].promotionPriceValue):e;isNotEmpty(d[g].lowestWasPrice);var P=isNotEmpty(d[g].lowestWasPriceValue)?parseFloat(d[g].lowestWasPriceValue):
null,W=isNotEmpty(d[g].vatEligible)?d[g].vatEligible:null,y=isNotEmpty(d[g].vatFreePriceValue)?parseFloat(d[g].vatFreePriceValue):null,h=d[g].imageUrl,q="";d[g].imageUrl&&""!=d[g].imageUrl&&(q=h.substring(0,8));if(""===h||"/medias/"==q)h="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg";h&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=h&&"/medias/"!=q&&(h=addOnsImgDomain(h));q=d[g].imageUrlAlt?d[g].imageUrlAlt:"";var L=d[g].referenceColor,H=d[g].commercialFlag;
c+='                    \x3cdiv class\x3d"hubble-addon-page__item';"outofstock"==a.toLowerCase()&&"Y"==realTimeApiUse?c+=" is-disabled":k&&(c+=" is-selected");c+='"\x3e';c+='                        \x3cdiv class\x3d"hubble-addon-page__item-inner"\x3e';c+='                            \x3cdiv class\x3d"hubble-item-card"\x3e';c+='                                \x3cdiv class\x3d"hubble-item-card__img"\x3e';c+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card--badge"\x3e';null!=L&&""!=L&&null!=H&&
""!=H&&(c+='\t\t\t\t\t\t\t\t\t\t\x3cspan class\x3d"badge-icon  badge-icon--label" style\x3d"background:'+L+'"\x3e',c+=H,c+="\t\t\t\t\t\t\t\t\t\t\x3c/span\x3e");c+="\t\t\t\t\t\t\t\t\t\x3c/div\x3e";c+="                                    \x3cpicture\x3e";c+='                                        \x3cdiv class\x3d"image"\x3e';c+='                                            \x3cimg class\x3d"image__preview lazy-load responsive-img" data-desktop-src\x3d"'+h+'" data-mobile-src\x3d"'+h+'" alt\x3d"'+q+
'" aria-hidden\x3d"true"\x3e';c+='                                            \x3cimg class\x3d"image__main lazy-load responsive-img" data-desktop-src\x3d"'+h+'" data-mobile-src\x3d"'+h+'" alt\x3d"'+q+'"\x3e';c+="                                        \x3c/div\x3e";c+="                                    \x3c/picture\x3e";c+='                                    \x3ca href\x3d"javascript:;" class\x3d"hubble-pd-popup-opener zoom-popup-opener" an-tr\x3d"bridge_add on-'+bcPageTrack()+'-option_click3" an-ca\x3d"option click" an-ac\x3d"bridge"';
c=BC_MODEL.isVoucher?c+'an-la\x3d"evoucher:image click"':c+'an-la\x3d"add-on:image click"';c+=' data-modelcode\x3d"'+d[0].modelcode+'" data-modelname\x3d"'+d[0].modelname+'" data-modeldisplay\x3d"'+d[0].name+'"\x3e\x3cspan class\x3d"blind"\x3e"'+d[0].modelname+'"\x3c/span\x3e\x3c/a\x3e';c+="                                \x3c/div\x3e";c+='                                \x3cdiv class\x3d"hubble-item-card__content"\x3e';c+='                                    \x3cdiv class\x3d"hubble-item-card__product"\x3e';
c+='                                        \x3cstrong class\x3d"s-txt-title"\x3e'+d[g].name+"\x3c/strong\x3e";c+="                                    \x3c/div\x3e";c+='                                    \x3cdiv class\x3d"hubble-item-card__option-wrap"\x3e';"F-"!=d[0].modelcode.substr(0,2)&&(null!=d.groupOptionChips.COLOR&&(c+=n(d.groupOptionChips.COLOR,"COLOR",d,g,F)),null!=d.groupOptionChips["MOBILE MEMORY"]&&(c+=n(d.groupOptionChips["MOBILE MEMORY"],"MOBILE MEMORY",d,g,F)),null!=d.groupOptionChips["MEMORY MEMORY"]&&
(c+=n(d.groupOptionChips["MEMORY MEMORY"],"MEMORY MEMORY",d,g,F)));c+="                                    \x3c/div\x3e";c+="                                \x3c/div\x3e";c+='                                \x3cdiv class\x3d"hubble-item-card__price"\x3e';c+=fa(e,R,P,W,y);c+="                                \x3c/div\x3e";c+='                                \x3cdiv class\x3d"hubble-item-card__cta"\x3e';c+='                                    \x3cdiv class\x3d"hubble-item-card__cta-inner"\x3e';c+='                                        \x3cdiv class\x3d"s-cta-wrap"\x3e';
P="-cta-add";W="-option-select";"add-on"===m&&(P="-cta-option",W="-cta-buy stock button");"cn"==siteCode&&d[0].isComingSoon&&(t='data-gs-flag\x3d"ComingSoon"',T=Granite.I18n.get("Coming Soon Title",null,i18n_hint));"outofstock"==a.toLowerCase()?"F-"==d[0].modelcode.substr(0,2)?k?(c+='                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased" data-mo-code\x3d"'+d[0].modelcode+'" data-mo-name\x3d"'+d[0].modelname+'" data-mo-categoryId\x3d"'+d[0].categoryId+'" data-originalprice\x3d"'+
E+'" data-saveprice\x3d"'+z+'" data-totalprice\x3d"'+D+'" an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+P+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+':add item" data-modelcode\x3d"'+d[0].modelcode+'" data-modelname\x3d"'+d[0].modelname,1==BC_MODEL.vatEligible&&(c+='"data-sumprice \x3d"'+e+'"data-sumpromotionprice \x3d"'+R),c+='"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Added",null,i18n_hint)+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+f+" "+d[0].name+
"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):(c+='                                            \x3cbutton data-layer-target\x3d"#hubble-addon-bundle-layer" type\x3d"button" class\x3d"s-btn-encased hubble-pd-popup-opener" data-mo-bundle-name\x3d"'+d[0].name+'" data-mo-code\x3d"'+d[0].modelcode+'" data-mo-name\x3d"'+d[0].modelname+'" data-mo-categoryId\x3d"'+d[0].categoryId+'" data-originalprice\x3d"'+E+'" data-saveprice\x3d"'+z+'" data-totalprice\x3d"'+D,1==BC_MODEL.vatEligible&&(c+='"data-sumprice \x3d"'+
e+'"data-sumpromotionprice \x3d"'+R),c+='" an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+P+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+':add item" data-modelcode\x3d"'+d[0].modelcode+'" data-modelname\x3d"'+d[0].modelname+'"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Add",null,i18n_hint)+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+f+" "+d[0].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):c="Y"!=realTimeApiUse?c+('                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased s-out" data-mo-code\x3d"'+
d[g].modelcode+'" data-mo-name\x3d"'+d[g].modelname+'" data-modelcode\x3d"'+d[g].modelcode+'" data-modelname\x3d"'+d[g].modelname+'"an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+W+'" an-ca\x3d"buy cta" an-ac\x3d"stock alert'+("add-on"===m?"":":"+T)+'" an-la\x3d"'+m+':stock alert" '+t+'\x3e\x3cspan class\x3d"s-cta-text"\x3e'+T+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+f+" "+d[g].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):c+('                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased" disabled\x3d"disabled"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+
T+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"text"\x3eDelete\x3c/span\x3e\x3cspan class\x3d"name"\x3e'+d[g].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):"cn"==siteCode&&d[0].isComingSoon?c+='                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased s-out" data-mo-code\x3d"'+d[g].modelcode+'" data-mo-name\x3d"'+d[g].modelname+'" data-modelcode\x3d"'+d[g].modelcode+'" data-modelname\x3d"'+d[g].modelname+'"an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+
W+'" an-ca\x3d"buy cta" an-ac\x3d"stock alert'+("add-on"===m?"":":"+T)+'" an-la\x3d"'+m+':stock alert" '+t+'\x3e\x3cspan class\x3d"s-cta-text"\x3e'+T+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+f+" "+d[g].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e":k?(c+='                                            \t\t\x3cbutton type\x3d"button" class\x3d"s-btn-encased" data-mo-code\x3d"'+d[g].modelcode+'" data-mo-name\x3d"'+d[g].modelname+'" data-mo-categoryId\x3d"'+d[g].categoryId+
'" data-originalprice\x3d"'+E+'" data-saveprice\x3d"'+z+'" data-totalprice\x3d"'+D,1==BC_MODEL.vatEligible&&(c+='"data-sumprice \x3d"'+e+'"data-sumpromotionprice \x3d"'+R),c+='" an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+P+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+':add item" data-modelcode\x3d"'+d[g].modelcode+'" data-modelname\x3d"'+d[g].modelname+'"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Added",null,i18n_hint)+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+
f+" "+d[g].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e"):(c="F-"==d[0].modelcode.substr(0,2)?c+('                                            \x3cbutton data-layer-target\x3d"#hubble-addon-bundle-layer" type\x3d"button" class\x3d"s-btn-encased hubble-pd-popup-opener" data-mo-bundle-name\x3d"'+d[g].name+'" data-mo-code\x3d"'+d[g].modelcode+'" data-mo-name\x3d"'+d[g].modelname+'" data-mo-categoryId\x3d"'+d[g].categoryId+'" data-originalprice\x3d"'+E+'" data-saveprice\x3d"'+z+'" data-totalprice\x3d"'+
D):c+('                                            \x3cbutton type\x3d"button" class\x3d"s-btn-encased" data-mo-code\x3d"'+d[g].modelcode+'" data-mo-name\x3d"'+d[g].modelname+'" data-mo-categoryId\x3d"'+d[g].categoryId+'" data-originalprice\x3d"'+E+'" data-saveprice\x3d"'+z+'" data-totalprice\x3d"'+D),1==BC_MODEL.vatEligible&&(c+='"data-sumprice \x3d"'+e+'"data-sumpromotionprice \x3d"'+R),c+='" an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+P+'" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+':add item" data-modelcode\x3d"'+
d[g].modelcode+'" data-modelname\x3d"'+d[g].modelname+'"\x3e\x3cspan class\x3d"s-cta-text"\x3e'+Granite.I18n.get("Add",null,i18n_hint)+'\x3c/span\x3e\x3cspan class\x3d"blind"\x3e\x3cspan class\x3d"name"\x3e'+f+" "+d[g].name+"\x3c/span\x3e\x3c/span\x3e\x3c/button\x3e");c+="                                        \x3c/div\x3e";c+="                                    \x3c/div\x3e";c+="                                \x3c/div\x3e";c+="                            \x3c/div\x3e";c+="                        \x3c/div\x3e";
c+="                    \x3c/div\x3e";l++}});c+="                \x3c/div\x3e";c+="            \x3c/div\x3e";""!=c?$(".hubble-addon-page__inner").append(c):$("#content__addon").hide();var k=[];$(".hubble-addon-page .hubble-addon-page__list .hubble-addon-page__item .hubble-item-card__cta").each(function(){"F-"==$(this).find("button").attr("data-mo-code").substr(0,2)&&k.push($(this).find("button").attr("data-mo-code"))});bc_addon_page_bundle.getRelatedProductsSimpleInfo(k);window.sg.components.addOnsPage.reInit(!1);
window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight()}}function n(b,a,c,e,t){var l=null!=c[e].priceValue&&""!=c[e].priceValue?c[e].priceValue:null,F=null!=c[e].promotionPriceValue&&""!=c[e].promotionPriceValue?c[e].promotionPriceValue:priceValue,g="";if("COLOR"==a)f=c[e].optionName,g+='\x3cdiv class\x3d"option-selector option-selector__color-text hubble-item-card__option-color"\x3e',g+='\t\x3cdiv class\x3d"option-selector__color-name"\x3e'+Granite.I18n.get("Color",
null,i18n_hint),g="iq_ar"==siteCode||"iq_ku"==siteCode||"sa"==siteCode?g+":\x26nbsp":g+" : ",g+='\x3cspan class\x3d"color-name-text"\x3e'+c[e].optionName+"\x3c/span\x3e\x3c/div\x3e",g+='\t\x3cdiv class\x3d"option-selector__wrap option-selector__wrap--color-chip" data-desktop-view\x3d"5" data-mobile-view\x3d"4"\x3e';else if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a)g+='\x3cdiv class\x3d"option-selector hubble-item-card__option-memory"\x3e',g+='\t\x3cdiv class\x3d"option-selector__wrap option-selector__wrap--capacity" data-desktop-view\x3d"2" data-mobile-view\x3d"2"\x3e';
g+='\t\t\x3cdiv class\x3d"option-selector__swiper"\x3e';g+='\t\t\t\x3cdiv class\x3d"option-selector__swiper-container"\x3e';g+='\t\t\t\t\x3cdiv class\x3d"option-selector__swiper-wrapper" role\x3d"list"\x3e';$.each(b,function(d,b){var f="",p="";$.each(c[e].fmyChipList,function(c,d){if("COLOR"==d.fmyChipType)f=d.fmyChipCode;else if("MOBILE MEMORY"==d.fmyChipType||"MEMORY MEMORY"==d.fmyChipType)p=d.fmyChipCode});var k="";-1<b.productList.indexOf(t)?$.each(c,function(c,d){if(d.modelcode==t)return k=d,
!1}):$.each(c,function(c,d){$.each(d.fmyChipList,function(c,a){c=a.fmyChipType;null!=c&&""!=c&&-1<c.indexOf("SIZE")&&(c="MOBILE MEMORY");if(b.fmyChipCode==a.fmyChipCode&&b.fmyChipType==c)return k=d,!1})});d="";k.modelcode!=t&&""!=f&&""!=p&&null!=c.groupOptionChips.COLOR&&(d=!0,-1<c.groupOptionChips.COLOR[f].productList.indexOf(t)&&(d=!1));var r=!1;k.modelcode==t&&(r=!0);var R=!1;"F-"==k.modelcode.substr(0,2)?void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,
function(c,d){if(d.addonBundleCode==k.modelcode)return R=!0,!1}):void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(c,d){if(d.addonModelCode==k.modelcode)return R=!0,!1});var u=b.fmyChipCode,h=b.fmyChipType,y=b.fmyChipName,W=b.fmyChipLocalName;if("COLOR"==a)g+='\x3cspan class\x3d"option-selector__swiper-slide hubble-item-card__option-color-item';else if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a)g+='\x3cspan class\x3d"option-selector__swiper-slide hubble-item-card__option-memory-item';
var P=k.imageUrlAlt?k.imageUrlAlt:"";g+='" role\x3d"listitem"';g+=' data-category\x3d"'+k.categoryName+'" data-mo-categoryId\x3d"'+k.categoryId+'" data-mo-code\x3d"'+k.modelcode+'" data-mo-name\x3d"'+k.modelname+'" data-imgAlt\x3d"'+P+'"  data-mo-referencecolor\x3d"'+k.referenceColor+'" data-mo-commercialflag \x3d"'+k.commercialFlag+'"';g+=' data-name\x3d"'+escapeHtml(k.name)+'" data-imgpath\x3d"'+k.imageUrl+'" ';g+=' data-groupCode\x3d"'+k.groupCode+'"';g+=' data-fmyChipCode\x3d"'+escapeHtml(u)+
'"';g+=' data-fmychipType\x3d"'+h+'"';P=k.price;var q=k.promotionPrice,n=k.lowestWasPrice,L=k.priceValue,H=k.promotionPriceValue,ea=k.lowestWasPriceValue,v=k.vatEligible,w=k.vatFreePriceValue;g+=' data-apiPrice\x3d"'+P+'" ';""!=q&&q&&q!=P&&(g+=' data-apiPromotionPrice\x3d"'+q+'" ');g+=' data-apiPriceValue\x3d"'+L+'" ';""!=H&&H&&H!=L?(g+=' data-apiPromotionPriceValue\x3d"'+H+'" ',Number.isInteger(parseFloat(l))&&Number.isInteger(parseFloat(F)),ca(L,H,ea,v,w),g+=' data-apiSavePriceValue\x3d"'+z+'" '):
g+=' data-apiSavePriceValue\x3d""';g+=' data-apiTotalPriceValue\x3d"'+D+'" ';isNotEmpty(ea)&&ea&&(g+=' data-apiLowestWasPrice\x3d"'+n+'" ',g+=' data-apiLowestWasPriceValue\x3d"'+ea+'" ');isNotEmpty(w)&&(g+=' data-apiVatEligible\x3d"'+v+'" ',g+=' data-apiVatFreePriceValue\x3d"'+w+'" ');g+="\x3e";if("COLOR"==a)g+='\t\t\x3cspan class\x3d"option-selector__color hubble-pd-radio s-type-color js-radio-wrap',r&&(g+=" iss-checked"),"F-"!=k.modelcode.substr(0,2)&&"outofstock"==k.stocklevel.toLowerCase()&&(g+=
" is-item-disabled"),g+='"\x3e',g+='\t\t\t\x3cinput type\x3d"radio" id\x3d"addon-color_'+k.groupCode+"_"+u.replace(/#/g,"")+'" name\x3d"addon-color_'+k.groupCode+'" class\x3d"hubble-pd-radio__input',R&&(g+=" is-item-added"),g+='"',g+=' data-groupCode\x3d"'+k.groupCode+'"',g+=' data-fmyChipCode\x3d"'+b.fmyChipCode+'"',g+=' data-fmychipType\x3d"'+b.fmyChipType+'"',g="add-on"===m?g+(' an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+'-text-option" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+":"+h.toLowerCase()+
":"+y.toLowerCase()+'" data-modelcode\x3d"'+k.modelcode+'" data-modelname\x3d"'+k.modelname+'"'):g+(' an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+'-option-select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+":"+h.toLowerCase()+":"+y.toLowerCase()+'" data-modelcode\x3d"'+k.modelcode+'" data-modelname\x3d"'+k.modelname+'"'),r&&(g+=" checked\x3dchecked"),g+="\x3e",g+='\t\t\t\x3clabel for\x3d"addon-color_'+k.groupCode+"_"+u.replace(/#/g,"")+'" class\x3d"hubble-pd-radio__label"\x3e',g+='\t\t\t\t\x3cspan class\x3d"option-selector__color-code" style\x3d"background-color:'+
u+'"\x3e',g+="    \t\t\t\x3c/span\x3e",g+='\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+W+"\x3c/span\x3e",g+="\t\t\t\x3c/label\x3e",g+="\t\t\x3c/span\x3e",g+="\x3c/span\x3e";else if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a)g+='\t\t\x3cspan class\x3d"option-selector__size hubble-pd-radio js-radio-wrap',r&&(g+=" iss-checked"),d&&(g+=" is-disabled"),"F-"!=k.modelcode.substr(0,2)&&"outofstock"==k.stocklevel.toLowerCase()&&(g+=" is-item-disabled"),g+='"\x3e',g+='\t\t\t\x3cinput type\x3d"radio" id\x3d"addon-memory_'+
k.groupCode+"_"+(null!=b.fmyChipCode&&""!=b.fmyChipCode?escapeHtml(b.fmyChipCode).replace(" ",""):"")+'" name\x3d"addon-memory_'+k.groupCode+"_"+(null!=b.fmyChipCode&&""!=b.fmyChipCode?escapeHtml(b.fmyChipCode).replace(" ",""):"")+'" class\x3d"hubble-pd-radio__input',R&&(g+=" is-item-added"),g+='"',g+=' data-groupCode\x3d"'+k.groupCode+'"',g+=' data-fmychipType\x3d"'+h+'"',g+=' data-fmyChipCode\x3d"'+escapeHtml(b.fmyChipCode)+'"',g="add-on"===m?g+(' an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+'-text-option" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+
m+":"+h.toLowerCase()+":"+y.toLowerCase()+'" data-modelcode\x3d"'+k.modelcode+'" data-modelname\x3d"'+k.modelname+'"'):g+(' an-tr\x3d"bridge_'+G+"-"+bcPageTrack()+'-option-select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"'+m+":"+h.toLowerCase()+":"+y.toLowerCase()+'" data-modelcode\x3d"'+k.modelcode+'" data-modelname\x3d"'+k.modelname+'"'),r&&(g+=" checked\x3dchecked"),d&&(g+=" disabled"),g+="\x3e",g+='\t\t\t\x3clabel for\x3d"addon-memory_'+k.groupCode+"_"+(null!=b.fmyChipCode&&""!=b.fmyChipCode?
escapeHtml(b.fmyChipCode).replace(" ",""):"")+'" class\x3d"option-selector__size-label hubble-pd-radio__label"\x3e\x3cspan class\x3d"option-selector__size-label-text s-label-text"\x3e'+y+"\x3c/span\x3e\x3c/label\x3e",g+="\t\t\x3c/span\x3e",g+="\x3c/span\x3e"});if("MOBILE MEMORY"==a||"MEMORY MEMORY"==a)g+='\x3cdiv class\x3d"option-selector__floating-bar" style\x3d"display: none;"\x3e\x3c/div\x3e';g+="\t\t\t\t\x3c/div\x3e";g+="\t\t\t\x3c/div\x3e";g+='\t\t\t\x3cbutton type\x3d"button" class\x3d"option-selector__button-prev" aria-label\x3d"'+
Granite.I18n.get("Previous",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';g+='\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Previous",null,i18n_hint)+"\x3c/span\x3e";g+='\t\t\t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';g+='\t\t\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#previous-regular"\x3e\x3c/use\x3e';g+="\t\t\t\t\x3c/svg\x3e";g+="\t\t\t\x3c/button\x3e";
g+='\t\t\t\x3cbutton type\x3d"button" class\x3d"option-selector__button-next" aria-label\x3d"'+Granite.I18n.get("Next",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';g+='\t\t\t\t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Next",null,i18n_hint)+"\x3c/span\x3e";g+='\t\t\t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';g+='\t\t\t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#next-regular"\x3e\x3c/use\x3e';
g+="\t\t\t\t\x3c/svg\x3e";g+="\t\t\t\x3c/button\x3e";g+="\t\t\x3c/div\x3e";g+="\t\x3c/div\x3e";return g+="\x3c/div\x3e"}function C(b,a,c,e){var l=a.price,f=a.promotionPrice,k=a.priceValue,g=a.promotionPriceValue,d=a.lowestWasPrice,F=a.lowestWasPriceValue,t=a.vatEligible,p=a.vatFreePriceValue;"F-"!=a.modelcode.substr(0,2)&&"outofstock"==a.stocklevel.toLowerCase()?b.find(".hubble-pd-radio.js-radio-wrap").addClass("is-item-disabled"):b.find(".hubble-pd-radio.js-radio-wrap").removeClass("is-item-disabled");
b.attr("data-mo-code",a.modelcode).attr("data-imgalt",a.imageUrlAlt?a.imageUrlAlt:"").attr("data-name",escapeHtml(a.name)).attr("data-imgPath",a.imageUrl).attr("data-apiprice",l);b.find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-code",a.modelcode).attr("data-imgalt",a.imageUrlAlt?a.imageUrlAlt:"").attr("data-name",escapeHtml(a.name)).attr("data-imgPath",a.imageUrl).attr("data-apiprice",l);""!=f&&f&&f!=l&&(b.attr("data-apiPromotionPrice",f),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiPromotionPrice",
f));""!=d&&d&&d<=l&&d>f&&(b.attr("data_apiLowestWasPrice",d),b.find(".hubble-pd-radio.js-radio-wrap").attr("data_apiLowestWasPrice",d));b.attr("data-apiPriceValue",k);b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiPriceValue",k);isNotEmpty(g)&&g!=k?(ca(k,g,d,t,p),b.attr("data-apiSavePriceValue",z).attr("data-apiTotalPriceValue",D).attr("data-apiPromotionPriceValue",g),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiSavePriceValue",z).attr("data-apiTotalPriceValue",D).attr("data-apiPromotionPriceValue",
g)):(b.attr("data-apiSavePriceValue","").attr("data-apiTotalPriceValue",D),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiSavePriceValue","").attr("data-apiTotalPriceValue",D));""!=d&&d&&F<=k&&F>g&&(b.attr("data-apiLowestWasPrice",d).attr("data-apiLowestWasPriceValue",F),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiLowestWasPrice",d).attr("data-apiLowestWasPriceValue",F));""!=p&&p&&(b.attr("data-apiVatEligible",t).attr("data-apiVatFreePriceValue",p),b.find(".hubble-pd-radio.js-radio-wrap").attr("data-apiVatEligible",
t).attr("data-apiVatFreePriceValue",p));b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("an-la",m+":"+c.toLowerCase()+":"+e.toLowerCase());b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("data-modelcode",a.modelcode);b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("data-modelname",a.modelname);b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").removeClass("is-item-added");var r=!1;"F-"==a.modelcode.substr(0,2)?void 0!=
BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(c,d){if(d.addonBundleCode==a.modelcode)return r=!0,!1}):void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(c,d){if(d.addonModelCode==a.modelcode)return r=!0,!1});r&&b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").addClass("is-item-added")}function v(b,a){var c="";$.each(b,function(b,e){if(""!=a&&e.modelcode==a)return c=e,
!1});return c}function Z(b,a,c){var e="";$.each(b,function(b,l){var f="",g="";$.each(l.fmyChipList,function(c,b){if("COLOR"==b.fmyChipType)f=b.fmyChipCode;else if("MOBILE MEMORY"==b.fmyChipType||"MEMORY MEMORY"==b.fmyChipType)g=b.fmyChipCode});f==a&&g==c&&(e=l)});return e}function J(){var b=0,a=0,c=0,e=0,f=0;void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(l,g){g.bundleModelCode||(b+=Number(g.addonModelPrice),a+=Number(g.addonModelSavePrice),c+=
Number(g.addonModelOriginPrice),1==BC_MODEL.vatEligible&&(e+=Number(g.addonModelSumPrice),f+=Number(g.addonModelSumPromotionPrice)))});void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(l,g){b+=Number(g.addonBundlePrice);a+=Number(g.addonBundleSavePrice);c+=Number(g.addonBundleOriginPrice);1==BC_MODEL.vatEligible&&(e+=Number(addonData.addonModelSumPrice),f+=Number(addonData.addonModelSumPromotionPrice))});BC_MODEL.isVoucher&&(K=Number(BC_MODEL.voucherData.voucherPrice),
K>b?(K-=b,BC_MODEL.voucherBalance=K==Number(BC_MODEL.voucherData.voucherPrice)?"none":"below"):(BC_MODEL.voucherBalance="over",K=0),da=0<b&&b>BC_MODEL.voucherData.voucherPrice?b-Number(BC_MODEL.voucherData.voucherPrice):0);A(c,a,b);if(1==BC_MODEL.vatEligible){$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-default").replaceWith("");$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-save").replaceWith("");$(".hubble-addon-page__price .total-price").find(".s-price-default del").replaceWith("");
$(".hubble-addon-page__price .total-price").find(".s-price-save").replaceWith("");$(".hubble-addon-page__price .voucher-balance").find(".s-price").replaceWith("");$(".hubble-addon-page__price .extra-charge").find(".s-price").replaceWith("");$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price").replaceWith('\x3cspan class\x3d"s-vat-price"\x3e\x3c/span\x3e');$(".hubble-addon-page__price .total-price").find(".s-price").replaceWith('\x3cspan class\x3d"s-vat-price"\x3e\x3c/span\x3e');var m=
'    \x3cspan class\x3d"s-rrp"\x3e'+Granite.I18n.get("Precio antes: ",i18n_hint)+"\x3cem\x3e\x3cs\x3e"+currencyComma(e,currency)+"\x3c/s\x3e\x3c/em\x3e\x3c/span\x3e";m+='    \x3cspan class\x3d"s-promotion"\x3e'+Granite.I18n.get("Precio con descuento: ",i18n_hint)+"\x3cem\x3e"+currencyComma(f,currency)+"\x3c/em\x3e\x3c/span\x3e";m+='    \x3cspan class\x3d"s-except"\x3e'+Granite.I18n.get("Precio sin IVA: ",i18n_hint)+"\x3cem\x3e"+currencyComma(b,currency)+"\x3c/em\x3e\x3c/span\x3e";$(".hubble-addon-page__price .add-on-price-wrap").find(".s-vat-price").html(m);
$(".hubble-addon-page__price .total-price").find(".s-vat-price").html(m)}}function A(b,a,c){if(0<a){var e="",l="";if(wasPriceTypeA||wasPriceTypeC)if(wasPriceTypeC)if("it"==siteCode){var f=0;f=parseFloat(a/b*100).toFixed(2);l+=Granite.I18n.get("Risparmi il {0}",f,i18n_hint)+"% \x3cstrike\x3e("+currencyComma(b,currency)+") \x3c/strike\x3e"}else"pl"==siteCode&&(l+='\x3cspan class\x3d"blind"\x3eList price\x3c/span\x3e'+Granite.I18n.get("Najni\u017csza cena z 30 dni przed obni\u017ck\u0105:",i18n_hint)+
"\x3c/em\x3e\x3cs\x3e"+currencyComma(b,currency)+"\x3c/s\x3e\x3cem\x3e"+Granite.I18n.get("Save {0}",currencyComma(a,currency),i18n_hint)+"\x3c/em\x3e\x3c/span\x3e");else l+=Granite.I18n.get("RRP {0}",currencyComma(b,currency),i18n_hint);else e+='\x3cspan class\x3d"blind"\x3eList price\x3c/span\x3e'+currencyComma(b,currency),l+=Granite.I18n.get("Save {0}",currencyComma(a,currency),i18n_hint);t&&"pl"==siteCode||($(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-default del").html(e),
$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-save").html(l),$(".hubble-addon-page__price .total-price").find(".s-price-default del").html(e),$(".hubble-addon-page__price .total-price").find(".s-price-save").html(l))}else $(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-default del").html(""),$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price-save").html(""),$(".hubble-addon-page__price .total-price").find(".s-price-default del").html(""),$(".hubble-addon-page__price .total-price").find(".s-price-save").html("");
$(".hubble-addon-page__price .voucher-balance").find(".s-price").html(currencyComma(K,currency));$(".hubble-addon-page__price .extra-charge").find(".s-price").html(currencyComma(da,currency));$(".hubble-addon-page__price .add-on-price-wrap").find(".s-price").html('\x3cspan class\x3d"blind"\x3eDiscount price\x3c/span\x3e'+currencyComma(c,currency));$(".hubble-addon-page__price .total-price").find(".s-price").html('\x3cspan class\x3d"blind"\x3eDiscount price\x3c/span\x3e'+currencyComma(c,currency));
var k=0;void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(c,b){b.bundleModelCode||k++});void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(c,b){k++});$(".hubble-addon-page__price .s-txt-select-item").html(Granite.I18n.get("Selected items {0}","(\x3cspan\x3e"+k+"\x3c/span\x3e)",i18n_hint));$(".hubble-addon-page__price .total-price .s-price-title").html(Granite.I18n.get("Selected items {0}",
"(\x3cspan\x3e"+k+"\x3c/span\x3e)",i18n_hint));b=$(".hubble-addon-page__price .s-clear-btn");0<BC_CARTDATA.addonData.length?(b.removeClass("is-disabled"),b.removeAttr("disabled"),b.attr("an-tr","bridge_"+G+"-"+bcPageTrack()+"-option-select"),b.attr("an-ca","option click"),b.attr("an-ac","bridge"),b.attr("an-la",m+":clear all")):(b.addClass("is-disabled"),b.attr("disabled","disabled"))}function S(){$(".hubble-addon-page__list .hubble-addon-page__item.is-selected").each(function(){aa=$(this).find(".hubble-item-card__option-wrap .hubble-item-card__option-color-item").length;
e=$(this).find(".hubble-item-card__option-wrap .hubble-item-card__option-memory-item").length;if(0==aa||0==e)$(this).removeClass("is-selected"),$(this).find(".hubble-item-card__cta button span").html(Granite.I18n.get("Add",null,i18n_hint))});$(".hubble-addon-page__list .hubble-addon-page__item .hubble-pd-radio__input.is-item-added").each(function(){$(this).removeClass("is-item-added");$(this).parent().hasClass("iss-checked")&&$(this).parents(".hubble-addon-page__item").hasClass("is-selected")&&($(this).parents(".hubble-addon-page__item").removeClass("is-selected"),
$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button span").html(Granite.I18n.get("Add",null,i18n_hint)))});$(".hubble-addon-page__price-content .s-clear-btn").addClass("is-disabled");$(".hubble-addon-page__price-content .s-clear-btn").attr("disabled","disabled");J()}function N(){var b="true"===$("#isEppPage").val()?$("#eppCompanyCode").val():siteCode;b=$("#bcStoreDomain").val()+"/"+b+"/checkout/contactinfo";location.href=linkUrl(b)}function O(b){""!=b&&null!=b&&-1!=b.indexOf("$ORIGIN_PNG$")&&
(b=b.replace("$ORIGIN_PNG$","$THUB_SHOP_L$"));return b}function fa(b,a,c,e,f){var l="";if(isNotEmpty(a)&&b>a||isNotEmpty(e)&&isNotEmpty(f)){var m='\x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3eDiscount price\x3c/span\x3e'+currencyComma(a,currency)+"\x3c/span\x3e";l+='                                    \x3cspan class\x3d"s-price-wrap"\x3e';e&&f?(m="",vatUseYn&&""!=f&&f&&(m=m+'\x3cspan class\x3d"s-vat-price"\x3e'+('    \x3cspan class\x3d"s-except"\x3e'+Granite.I18n.get("Precio sin IVA: ",
i18n_hint)+"\x3cem\x3e"+currencyComma(f,currency)+"\x3c/em\x3e\x3c/span\x3e"),isNotEmpty(a)&&a!=b&&(m+='    \x3cspan class\x3d"s-promotion"\x3e'+Granite.I18n.get("Precio con descuento: ",i18n_hint)+"\x3cem\x3e"+currencyComma(a,currency)+"\x3c/em\x3e\x3c/span\x3e"),m+='    \x3cspan class\x3d"s-rrp"\x3e'+Granite.I18n.get("Precio antes: ",i18n_hint)+"\x3cem\x3e\x3cs\x3e"+currencyComma(b,currency)+"\x3c/s\x3e\x3c/em\x3e\x3c/span\x3e",m+="\x3c/span\x3e"),l+=m):(wasPriceTypeA&&(l+=m),l+=bc_common.getLowestWasPriceInfo(c,
b,a,!1,!1),wasPriceTypeA||(wasPriceTypeB||wasPriceTypeC?isNotEmpty(c)&&a<c&&a<b&&(l+="\x3cbr\x3e"):wasPriceTypeC||a<b&&(l+="\x3cbr\x3e"),l+=m))}else l=l+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                      \x3cspan class\x3d"s-price"\x3e'+currencyComma(b,currency)+"\x3c/span\x3e");l+="                                    \x3c/span\x3e";ca(b,a,c,e,f);return l}function ca(b,a,c,e,f){z=E=D=0;var m=!1;Number.isInteger(parseFloat(b))&&Number.isInteger(parseFloat(a))&&
(m=!0);isNotEmpty(a)?(wasPriceTypeA&&isNotEmpty(b)?"ro"!=siteCode||parseFloat(b)!=parseFloat(a)?(z=Number(parseFloat(b)-parseFloat(a)).toFixed(2),m&&(z=Number(parseFloat(b)-parseFloat(a))),E=b):E=a:wasPriceTypeB||wasPriceTypeC?isNotEmpty(c)&&(parseFloat(b)>=parseFloat(c)&&parseFloat(c)>parseFloat(a)&&0<parseFloat(c)-parseFloat(a)?(z=Number(parseFloat(c)-parseFloat(a)).toFixed(2),m&&(z=Number(parseFloat(c)-parseFloat(a))),E=c):parseFloat(c)>parseFloat(b)&&parseFloat(b)>=parseFloat(a)&&0<parseFloat(b)-
parseFloat(a)&&(z=Number(parseFloat(b)-parseFloat(a)).toFixed(2),m&&(z=Number(parseFloat(b)-parseFloat(a))),E=b)):!isNotEmpty(c)&&0<parseFloat(b)-parseFloat(a)&&(z=Number(parseFloat(b)-parseFloat(a)).toFixed(2),m&&(z=Number(parseFloat(b)-parseFloat(a))),E=b),D=a):D=b;wasPriceTypeA||0!=z||(E=D);e&&f&&(z=Number(parseFloat(b)-parseFloat(f)).toFixed(2),m&&(z=Number(parseFloat(b)-parseFloat(f))),D=f)}var ba=$("#bcStoreDomain").val(),a={},w={},M={},B={},q={},I=[],Y=[],D=0,E=0,z=0,K,da=0,aa="",e="",p="",
f="",b=[],u=[],m="add-on",G="add on",L=!1,r={},y={},ia=void 0!=BC_GROUP.stockAlertCtaText&&""!=BC_GROUP.stockAlertCtaText&&null!=BC_GROUP.stockAlertCtaText?BC_GROUP.stockAlertCtaText:Granite.I18n.get("Get Stock Alert",null,i18n_hint),T="Y"!=realTimeApiUse?ia:Granite.I18n.get("Out of Stock",null,i18n_hint),H=!1;if("hr"==siteCode||"si"==siteCode)H=!0;var t="true"===$("#isEppPage").val();$(document).on("click",".hubble-addon-page__category-item .s-category-link",function(b){window.sg.components.addOnsPage.activeCategory(b);
p!=$(this).attr("data-category-id")&&($(this).addClass("is-active"),$(this).attr("title","selected"),$(".hubble-addon-page__category-item .s-category-link").not($(this)).removeClass("is-active"),$(".hubble-addon-page__category-item .s-category-link").not($(this)).removeAttr("title"),h(BC_MODEL.modelCode),null!==document.querySelector(".hubble-addon-page__list").querySelector(".js-hubble-item-card__option-memory")&&$(".hubble-addon-page:not(.is-gift-type) .hubble-item-card__option-wrap .iss-checked .hubble-pd-radio__input").click())});
$(document).on("click",".hubble-addon-page:not(.is-gift-type) .hubble-item-card__option-wrap .hubble-pd-radio__input",function(b){b=$(this).parents(".hubble-item-card__option-wrap").find(".hubble-item-card__option-color-item .hubble-pd-radio");if("MOBILE MEMORY"==$(this).attr("data-fmychiptype")||"MEMORY MEMORY"==$(this).attr("data-fmychiptype"))b=$(this).parents(".hubble-item-card__option-wrap").find(".hubble-item-card__option-memory-item .hubble-pd-radio");b.each(function(){$(this).removeClass("iss-checked");
$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1)});$(this).parent().addClass("iss-checked");$(this).attr("checked","checked").prop("checked",!0);var a=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__input").attr("data-fmyChipCode");b=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__input").attr("data-fmyChipCode");
var c=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-color-item").attr("data-mo-referenceColor"),e=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-memory-item").attr("data-mo-referenceColor"),f=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-color-item").attr("data-mo-commercialFlag"),
l=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.iss-checked").parents("span.hubble-item-card__option-memory-item").attr("data-mo-commercialFlag"),k=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__label .hidden").html();$(this).parents(".option-selector.option-selector__color-text").find(".option-selector__color-name .color-name-text").html(k);void 0==a&&(a="");
void 0==b&&(b="");void 0==c&&(c="");void 0==e&&(e="");void 0==f&&(f="");void 0==l&&(l="");var g=$(this),d=$(this).parents(".hubble-item-card__option-color-item");if("MOBILE MEMORY"==$(this).attr("data-fmychiptype")||"MEMORY MEMORY"==$(this).attr("data-fmychiptype"))d=$(this).parents(".hubble-item-card__option-memory-item");if(""!=a&&""!=b){var t=B[BC_MODEL.modelCode][p+"_"+d.attr("data-groupCode")],r=Z(t,a,b);""==r&&($(this).parents(".hubble-item-card__option-wrap").find(".hubble-item-card__option-memory-item .hubble-pd-radio").each(function(){$(this).removeClass("iss-checked");
$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1)}),r=v(t,t.groupOptionChips.COLOR[a].productList[0]));""!=r&&($.each(r.fmyChipList,function(b,c){b="";if("COLOR"==c.fmyChipType)b=g.parents(".hubble-item-card").find(".hubble-item-card__option-color-item[data-fmychipcode\x3d'"+c.fmyChipCode+"']");else if("MOBILE MEMORY"==c.fmyChipType||"MEMORY MEMORY"==c.fmyChipType)b=g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(c.fmyChipCode)+
"']");C(b,r,c.fmyChipType,c.fmyChipName);b.find(".hubble-pd-radio.js-radio-wrap").removeClass("is-disabled");b.find(".hubble-pd-radio.js-radio-wrap").addClass("iss-checked");b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").removeAttr("disabled").prop("checked",!1);b.find(".hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").attr("checked","checked").prop("checked",!0)}),null==t.groupOptionChips.COLOR||null==t.groupOptionChips["MOBILE MEMORY"]&&null==t.groupOptionChips["MEMORY MEMORY"]||
(g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio.js-radio-wrap").addClass("is-disabled"),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item .hubble-pd-radio__input").attr("disabled","disabled"),$.each(t.groupOptionChips["MOBILE MEMORY"],function(b,c){$.each(c.productList,function(b,d){-1<t.groupOptionChips.COLOR[a].productList.indexOf(d)&&(b=v(t,d),C(g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+
escapeHtml(c.fmyChipCode)+"']"),b,c.fmyChipType,c.fmyChipName),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(c.fmyChipCode)+"']").find(".hubble-pd-radio.js-radio-wrap").removeClass("is-disabled"),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(c.fmyChipCode)+"']").find(".hubble-pd-radio__input").removeAttr("disabled"))})}),$.each(t.groupOptionChips["MEMORY MEMORY"],function(b,
c){$.each(c.productList,function(b,d){-1<t.groupOptionChips.COLOR[a].productList.indexOf(d)&&(b=v(t,d),C(g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(c.fmyChipCode)+"']"),b,c.fmyChipType,c.fmyChipName),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+escapeHtml(c.fmyChipCode)+"']").find(".hubble-pd-radio.js-radio-wrap").removeClass("is-disabled"),g.parents(".hubble-item-card").find(".hubble-item-card__option-memory-item[data-fmychipcode\x3d'"+
escapeHtml(c.fmyChipCode)+"']").find(".hubble-pd-radio__input").removeAttr("disabled"))})})))}b="instock";$(this).parent().hasClass("s-type-color");$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button ").removeClass("s-out");$(this).hasClass("is-item-added")?($(this).closest(".hubble-addon-page__item").removeClass("is-disabled"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").removeAttr("disabled"),$(this).closest(".hubble-addon-page__item").addClass("is-selected"),
$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .s-cta-text").text(Granite.I18n.get("Added",null,i18n_hint))):$(this).closest(".hubble-pd-radio").hasClass("is-item-disabled")?(b="oufofstock",$(this).closest(".hubble-addon-page__item").removeClass("is-selected"),$(this).closest(".hubble-addon-page__item").removeAttr("aria-selected"),"Y"!=realTimeApiUse?($(this).closest(".hubble-addon-page__item").removeClass("is-disabled"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").removeAttr("disabled")):
($(this).closest(".hubble-addon-page__item").addClass("is-disabled"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("disabled","disabled")),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .s-cta-text").html(T),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button ").addClass("s-out")):($(this).closest(".hubble-addon-page__item").removeClass("is-disabled"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").removeAttr("disabled"),
$(this).closest(".hubble-addon-page__item").removeClass("is-selected"),$(this).closest(".hubble-addon-page__item").removeAttr("aria-selected"),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint)));$(this).parents(".hubble-item-card__content").find(".hubble-item-card__product strong").html(unescapeHtml(d.attr("data-name")));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button .name").html(k+" "+d.attr("data-name"));
var h="";k=d.attr("data-imgPath");h=d.attr("data-imgAlt")?d.attr("data-imgAlt"):"";k&&""!=k&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=k&&k.substring(0,8);k&&""!=k||(k="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg");"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=k&&(k=addOnsImgDomain(k));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("src",O(k));$(this).closest(".hubble-item-card").find(".hubble-item-card__img source").attr("srcset",
O(k));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-pc",O(k));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-mobile",O(k));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("alt",h);$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-code",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-code"));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-modelcode",
$(this).closest(".hubble-pd-radio").parent().attr("data-mo-code"));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-name",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-name"));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-modelname",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-name"));$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-categoryId",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-categoryId"));
h=k="";""!=c?k=c:""!=e&&(k=e);""!=f?h=f:""!=l&&(h=l);c="";""!=k&&""!=h?(c=c+('\x3cspan class\x3d"badge-icon  badge-icon--label" style\x3d"background:'+k+'"\x3e')+h+"\x3c/span\x3e",$(this).parents("div.hubble-item-card").find(".hubble-item-card--badge").html(c)):$(this).parents("div.hubble-item-card").find(".hubble-item-card--badge .badge-icon--label").remove();c="";e=d.attr("data-apiPrice");c=parseFloat(d.attr("data-apiPriceValue"));e&&(d.attr("data-apiPromotionPrice")&&d.attr("data-apiPromotionPrice"),
e=d.attr("data-apiPromotionPriceValue")?parseFloat(d.attr("data-apiPromotionPriceValue")):c,d.attr("data-apiLowestWasPrice")&&d.attr("data-apiLowestWasPrice"),f=d.attr("data-apiLowestWasPriceValue")?parseFloat(d.attr("data-apiLowestWasPriceValue")):null,l=d.attr("data-apiVatEligible")?d.attr("data-apiVatEligible"):!1,d=d.attr("data-apiVatFreePriceValue")?parseFloat(d.attr("data-apiVatFreePriceValue")):null,d=""+fa(c,e,f,l,d),$(this).parents(".hubble-item-card").find(".hubble-item-card__price").html(d),
$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-originalprice",E),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-saveprice",z),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-totalprice",D),1==BC_MODEL.vatEligible&&($(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-sumprice",c),$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-sumpromotionprice",
e!=c&&e?e:0)));d="-cta-add";c="-option-select";"add-on"===m&&(d="-cta-option",c="-cta-buy stock button");"oufofstock"==b.toLowerCase()?($(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-tr","bridge_"+G+"-"+bcPageTrack()+c),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ca","buy cta"),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ac","stock alert"+("add-on"===m?"":":"+T)),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-la",
m+":stock alert")):($(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-tr","bridge_"+G+"-"+bcPageTrack()+d),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ca","option click"),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("an-ac","bridge"),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("ga-ac",m),$(this).parents("div.hubble-item-card").find(".hubble-item-card__cta button").attr("ga-la",
m+":add item"));$(this).parents("div.hubble-item-card").find(".hubble-pd-popup-opener.zoom-popup-opener").attr("data-modelcode",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-code"));$(this).parents("div.hubble-item-card").find(".hubble-pd-popup-opener.zoom-popup-opener").attr("data-modelname",$(this).closest(".hubble-pd-radio").parent().attr("data-mo-name"));$(this).parents("div.hubble-item-card").find(".hubble-pd-popup-opener.zoom-popup-opener").attr("data-modeldisplay",$(this).closest(".hubble-pd-radio").parent().attr("data-name"));
window.sg.components.addOnsPage.reInit(!1);window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight()});$(document).on("click",".hubble-item-card__cta button:not(.s-out)",function(b){var a=$(this).attr("data-mo-code");if("F-"==a.substr(0,2)){var c=!1;void 0!=BC_CARTDATA.addonBundleData&&0<BC_CARTDATA.addonBundleData.length&&$.each(BC_CARTDATA.addonBundleData,function(b,d){if(d.addonBundleCode==a)return c=!0,BC_CARTDATA.addonBundleData.splice(b,1),!1});if(void 0!=BC_CARTDATA.addonData){var f=
-1,m=0;0<BC_CARTDATA.addonData.length&&($.each(BC_CARTDATA.addonData,function(b,c){void 0!=c.bundleModelCode&&"addonbundle"==c.productType&&c.bundleModelCode==a&&(-1==f&&(f=b),m++)}),BC_CARTDATA.addonData.splice(f,m))}if(c)$(this).parents(".hubble-addon-page__item").removeClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint)),J(),isNotEmpty($(this).attr("data-bundle-code"))||($(this).attr("data-layer-target","#hubble-addon-bundle-layer"),$(this).addClass("hubble-pd-popup-opener"));
else if(isNotEmpty($(this).attr("data-bundle-code"))){for(var l=$(this).attr("data-bundle-code").split("|"),k=0;k<l.length;k++)""!=l[k]&&(b={addonModelCode:l[k],bundleModelCode:$(this).attr("data-mo-code"),productType:"addonbundle",addonBundleMode:"C"},void 0!=BC_CARTDATA.addonData&&BC_CARTDATA.addonData.push(b));b={addonBundleCode:$(this).attr("data-mo-code"),addonBundleMode:"P",addonBundleOriginPrice:$(this).attr("data-originalprice"),addonBundlePrice:$(this).attr("data-totalprice"),addonBundleSavePrice:$(this).attr("data-saveprice"),
addonModelCode:$(this).attr("data-mo-code"),addonModelOriginPrice:$(this).attr("data-originalprice"),addonModelPrice:$(this).attr("data-totalprice"),addonModelSavePrice:$(this).attr("data-saveprice"),bundleModelCode:$(this).attr("data-mo-code"),displayName:$(this).attr("data-mo-bundle-name"),productType:"addonbundle"};BC_CARTDATA.addonBundleData.push(b);$(document).trigger("bundleApplyEvent",{selectBundleCode:$(this).attr("data-mo-code")})}else $(this).parents(".hubble-addon-page__item").removeClass("is-selected"),
$(this).find(".s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint)),b={bundleModelCode:$(this).attr("data-mo-code"),bundleDisplayName:$(this).attr("data-mo-bundle-name"),bundleOriginPrice:$(this).attr("data-originalprice"),bundleSavePrice:$(this).attr("data-saveprice"),bundleTotalPrice:$(this).attr("data-totalprice")},BC_MODEL.vatEligible&&(b={bundleModelCode:$(this).attr("data-mo-code"),bundleDisplayName:$(this).attr("data-mo-bundle-name"),bundleOriginPrice:$(this).attr("data-originalprice"),
bundleSavePrice:$(this).attr("data-saveprice"),bundleTotalPrice:$(this).attr("data-totalprice"),bundleSumPrice:$(this).attr("data-sumprice"),bundleSumPromotionPrice:$(this).attr("data-sumpromotionprice")}),loadComponent("addon-bundle"),$(document).trigger("bundlePopupEvent",b,$(this))}else{if($(this).parents(".hubble-addon-page__item").hasClass("is-selected")){var g=!1;$(this).parents(".hubble-addon-page__item").removeClass("is-selected");$(this).find(".s-cta-text").text(Granite.I18n.get("Add",null,
i18n_hint))}else g=!0,$(this).parents(".hubble-addon-page__item").addClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Added",null,i18n_hint));aa=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-wrap .hubble-item-card__option-color-item").length;e=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-wrap .hubble-item-card__option-memory-item").length;$(this).parents(".hubble-item-card").find(".hubble-item-card__option-wrap").children().each(function(){$(this).find(".hubble-pd-radio").hasClass("iss-checked")&&
(g?$(this).find(".hubble-pd-radio.iss-checked .hubble-pd-radio__input").addClass("is-item-added"):$(this).find(".hubble-pd-radio.iss-checked .hubble-pd-radio__input").removeClass("is-item-added"))});b={};var d="",t="",p="-1";var r=$(this).attr("data-mo-code");l=$(this).attr("data-mo-name");b=$(this).attr("data-mo-categoryId");k=isNumber(parseFloat($(this).attr("data-originalprice")))?parseFloat($(this).attr("data-originalprice")):0;var h=isNumber(parseFloat($(this).attr("data-saveprice")))?parseFloat($(this).attr("data-saveprice")):
0;d=isNumber(parseFloat($(this).attr("data-totalprice")))?parseFloat($(this).attr("data-totalprice")):0;1==BC_MODEL.vatEligible&&(selectModelSumPrice=isNumber(parseFloat($(this).attr("data-sumprice")))?parseFloat($(this).attr("data-sumprice")):0,selectModelSumPromotionPrice=isNumber(parseFloat($(this).attr("data-sumpromotionprice")))?parseFloat($(this).attr("data-sumpromotionprice")):0);b=M[BC_MODEL.modelCode][b+"_"+r];var u=b.name;var y=b.pviTypeName;var q=b.pviSubtypeName;t=b.categorySubTypeEngName;
void 0!=BC_CARTDATA.addonData&&0<BC_CARTDATA.addonData.length&&$.each(BC_CARTDATA.addonData,function(b,c){if(c.addonModelCode==r&&"addon"==c.productType)return p=b,BC_CARTDATA.addonData.splice(p,1),!1});0>p&&(b={addonModelCode:r,addonModelName:l,dtmModelCode:r,addonModelPrice:d,addonModelOriginPrice:k,addonModelSavePrice:h,displayName:u,pviTypeName:y,pviSubtypeName:q,categorySubTypeEngName:t,modelrevenue:k,modelqty:1,productType:"addon"},1==BC_MODEL.vatEligible&&(b={addonModelCode:r,addonModelName:l,
dtmModelCode:r,addonModelPrice:d,addonModelOriginPrice:k,addonModelSavePrice:h,displayName:u,pviTypeName:y,pviSubtypeName:q,categorySubTypeEngName:t,modelrevenue:k,modelqty:1,productType:"addon",addonModelSumPrice:selectModelSumPrice,addonModelSumPromotionPrice:selectModelSumPromotionPrice}),BC_CARTDATA.addonData.push(b));bc_summary.setCtaTagging();J()}});$(document).on("click",".hubble-addon-page__price-content .s-clear-btn",function(b){b=Granite.I18n.get("Delete",null,i18n_hint);"jp"==siteCode&&
(b=Granite.I18n.get("Addons Clear All Delete",null,i18n_hint));bc_confirm.notify({htmlTitle:b,htmlText:Granite.I18n.get("You're sure you want to delete this item?",null,i18n_hint),btnPrimaryText:Granite.I18n.get("Yes",null,i18n_hint),btnGhostText:Granite.I18n.get("No",null,i18n_hint),btnPrimaryAttrs:{"an-tr":"bridge_"+G+"-"+bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":m+":delete option:yes"},btnGhostyAttrs:{"an-tr":"bridge_"+G+"-"+bcPageTrack()+"-option-select","an-ca":"option click",
"an-ac":"bridge","an-la":m+":delete option:no"}},"addon-clear-all");$(".confirm-popup").off("click",'.cta[data-event-type\x3d"addon-clear-all"]');$(".confirm-popup").on("click",'.cta[data-event-type\x3d"addon-clear-all"]',function(b){if($(this).hasClass("cta--contained"))BC_CARTDATA.addonData=[],BC_CARTDATA.addonBundleData=[],bc_summary.setCtaTagging(),S();else return!1})});$(document).on("click",".hubble-addon-page__cta:not(.gift-type) #addon_skip",function(b){if(BC_MODEL.isVoucher){b=!1;if("hk"==
siteCode||"hk_en"==siteCode)b=!0;var a=$(this),c=a.attr("data-pimsubtype"),e=a.attr("data-pvitype"),f=a.attr("data-pvisubtype"),m=a.attr("data-modelcode"),l=a.attr("data-modelname"),g=a.attr("data-modelrevenue"),d=a.attr("data-modelprice"),t=a.attr("data-modelqty"),p=a.attr("data-modeldisplay"),r=a.attr("data-modelcurrency");a=a.attr("data-discountprice");bc_confirm.notify({htmlTitle:Granite.I18n.get("Are you sure?",null,i18n_hint),htmlText:Granite.I18n.get("You didn't redeem your {0} credit.\x3cbr/\x3eIt will be gone once you press 'skip'.",
currencyComma(BC_MODEL.voucherData.voucherPrice,currency),i18n_hint),btnPrimaryText:Granite.I18n.get("Skip",null,i18n_hint),btnGhostText:Granite.I18n.get("Redeem",null,i18n_hint),btnColorChange:b,btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue-content_click3","an-ca":"ecommerce","an-ac":"addToCart","an-la":"evoucher:no addition:skip","data-pimsubtype":c,"data-pvitype":e,"data-pvisubtype":f,"data-modelcode":m,"data-modelname":l,"data-modelrevenue":g,"data-modelprice":d,
"data-modelqty":t,"data-modeldisplay":p,"data-modelcurrency":r,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"}},"redeem-skip");$(".confirm-popup").off("click",'.cta[data-event-type\x3d"redeem-skip"]');$(".confirm-popup").on("click",
'.cta[data-event-type\x3d"redeem-skip"]',function(b){if("hk"==siteCode||"hk_en"==siteCode)if($(this).hasClass("cta--outlined"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1;else if($(this).hasClass("cta--contained"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1})}else BC_CARTDATA.addonData=[],"cn"==siteCode?N():bc_summary.moveToCart()});$(document).on("click",".hubble-addon-page:not(.is-gift-type) .addon-continue-btn:not(.s-cta-disabled)",function(b){if(BC_MODEL.isVoucher){var a=
$(this);b=a.attr("data-pimsubtype");var c=a.attr("data-pvitype"),e=a.attr("data-pvisubtype"),f=a.attr("data-modelcode"),m=a.attr("data-modelname"),l=a.attr("data-modelrevenue"),g=a.attr("data-modelprice"),d=a.attr("data-modelqty"),t=a.attr("data-modeldisplay"),p=a.attr("data-modelcurrency");a=a.attr("data-discountprice");if(Number(K)==Number(BC_MODEL.voucherData.voucherPrice)){var r=!1;if("hk"==siteCode||"hk_en"==siteCode)r=!0;bc_confirm.notify({htmlTitle:Granite.I18n.get("Are you sure?",null,i18n_hint),
htmlText:Granite.I18n.get("You didn't redeem your {0} credit.\x3cbr/\x3eIt will be gone once you press 'skip'.",currencyComma(K,currency),i18n_hint),btnPrimaryText:Granite.I18n.get("Skip",null,i18n_hint),btnGhostText:Granite.I18n.get("Redeem",null,i18n_hint),btnColorChange:r,btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue-content_click3","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:skip","data-pimsubtype":b,"data-pvitype":c,"data-pvisubtype":e,
"data-modelcode":f,"data-modelname":m,"data-modelrevenue":l,"data-modelprice":g,"data-modelqty":d,"data-modeldisplay":t,"data-modelcurrency":p,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:no addition:redeem"}},"redeem-skip");$(".confirm-popup").off("click",
'.cta[data-event-type\x3d"redeem-skip"]');$(".confirm-popup").on("click",'.cta[data-event-type\x3d"redeem-skip"]',function(b){if("hk"==siteCode||"hk_en"==siteCode)if($(this).hasClass("cta--outlined"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1;else if($(this).hasClass("cta--contained"))BC_CARTDATA.addonData=[],bc_summary.moveToCart();else return!1})}else if(Number(K)!=Number(BC_MODEL.voucherData.voucherPrice)&&0<Number(K)){var h="";r=!1;var u="",y="";"hk"==siteCode||"hk_en"==siteCode?
(h=Granite.I18n.get("Are you sure??",null,i18n_hint),u=Granite.I18n.get("Skip",null,i18n_hint),y=Granite.I18n.get("hkBack",null,i18n_hint),r=!0):(h=Granite.I18n.get("Are you sure?",null,i18n_hint),u=Granite.I18n.get("Continue",null,i18n_hint),y=Granite.I18n.get("Back",null,i18n_hint));bc_confirm.notify({htmlTitle:h,htmlText:Granite.I18n.get("You still have credits remaining ({0})\x3cbr/\x3eRemaining credits will no longer be available once you press 'Continue'",currencyComma(K,currency),i18n_hint),
btnPrimaryText:u,btnGhostText:y,btnColorChange:r,btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue","an-ca":"ecommerce","an-ac":"addToCart","an-la":"evoucher:below evoucher:continue","data-pimsubtype":b,"data-pvitype":c,"data-pvisubtype":e,"data-modelcode":f,"data-modelname":m,"data-modelrevenue":l,"data-modelprice":g,"data-modelqty":d,"data-modeldisplay":t,"data-modelcurrency":p,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup",
"an-ca":"content click","an-ac":"feature","an-la":"evoucher:below evoucher:back"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:below evoucher:back"}},"redeem-back");$(".confirm-popup").off("click",'.cta[data-event-type\x3d"redeem-back"]');$(".confirm-popup").on("click",'.cta[data-event-type\x3d"redeem-back"]',function(b){if("hk"==siteCode||"hk_en"==siteCode)if($(this).hasClass("cta--outlined"))0<BC_CARTDATA.addonData.length?
bc_summary.addOnGoToCart():bc_summary.moveToCart();else return!1;else if($(this).hasClass("cta--contained"))0<BC_CARTDATA.addonData.length?bc_summary.addOnGoToCart():bc_summary.moveToCart();else return!1})}else bc_confirm.notify({htmlTitle:Granite.I18n.get("Great!",null,i18n_hint),htmlText:Granite.I18n.get("You redeemed all your credits!\x3cbr/\x3ePress 'continue' to proceed.\x3cbr/\x3eYou cannot change your selection once you press 'continue'.",null,i18n_hint),btnPrimaryText:Granite.I18n.get("Continue",
null,i18n_hint),btnGhostText:Granite.I18n.get("Select again",null,i18n_hint),btnPrimaryAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button skip continue","an-ca":"ecommerce","an-ac":"addToCart","an-la":"evoucher:over evoucher:continue","data-pimsubtype":b,"data-pvitype":c,"data-pvisubtype":e,"data-modelcode":f,"data-modelname":m,"data-modelrevenue":l,"data-modelprice":g,"data-modelqty":d,"data-modeldisplay":t,"data-modelcurrency":p,"data-discountprice":a},btnGhostyAttrs:{"an-tr":"bridge_evoucher-"+
bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:over evoucher:Select again"},btnCloseAttrs:{"an-tr":"bridge_evoucher-"+bcPageTrack()+"-cta-button popup","an-ca":"content click","an-ac":"feature","an-la":"evoucher:over evoucher:Select again"}},"redeem-select-again"),$(".confirm-popup").off("click",'.cta[data-event-type\x3d"redeem-select-again"]'),$(".confirm-popup").on("click",'.cta[data-event-type\x3d"redeem-select-again"]',function(b){if($(this).hasClass("cta--contained"))0<
BC_CARTDATA.addonData.length?bc_summary.addOnGoToCart():bc_summary.moveToCart();else return!1})}else void 0!=BC_CARTDATA.addonData?0<BC_CARTDATA.addonData.length?bc_summary.addOnGoToCart():"cn"==siteCode?N():bc_summary.moveToCart():"cn"==siteCode?N():bc_summary.moveToCart();bc_summary.setCtaTagging()});var ha=function(){window.sg.components.bcProgressbar.hide();$("body").css("display","none");if(BC_MODEL.isVoucher)G=m="evoucher",$(".hubble-addon-page__price-content .s-txt-select-item").hide(),$(".hubble-addon-page__price-content .add-on-price-wrap.s-price-wrap").hide(),
$(".hubble-addon-page__price-content .s-price-info").show(),$(".hubble-addon-page .hubble-addon-page__price-title .s-txt-title").html(BC_MODEL.voucherData.mainTitle),$(".hubble-addon-page .hubble-addon-page__price-title .s-txt-sub-title").html(BC_MODEL.voucherData.subTitle),""==$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").html()&&$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").remove(),""!=BC_MODEL.voucherData.description?
($(".hubble-addon-page .hubble-addon-page__desc-wrap").show(),$(".hubble-addon-page .hubble-addon-page__desc-wrap .s-desc").html(BC_MODEL.voucherData.description)):$(".hubble-addon-page .hubble-addon-page__desc-wrap").hide();else{var b=window.addOnTitle?window.addOnTitle:Granite.I18n.get("Amazing additions",null,i18n_hint);var a="uk"==siteCode?Granite.I18n.get("In order to reduce e-waste, our Smartphones do not come with a charger plug in the box. You can use your existing charger plug together with the included USB Type-C data cable, or add one to your order above.",
null,i18n_hint):isNotEmpty(window.addOnDescription)?window.addOnDescription:isNotEmpty(BC_GROUP.addonsDesc)?BC_GROUP.addonsDesc:"";"NewHybris"==$("#storeType").val()&&(b=BC_GROUP.addonsTitle?BC_GROUP.addonsTitle:Granite.I18n.get("Amazing additions",null,i18n_hint));$(".hubble-addon-page__price-content .s-price-info").hide();$(".hubble-addon-page__price-title .s-txt-title").html(b);""==$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").html()&&$(".hubble-addon-page .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").remove();
""!=a?($(".hubble-addon-page .hubble-addon-page__desc-wrap").show(),$(".hubble-addon-page .hubble-addon-page__desc-wrap .s-desc").html(a)):$(".hubble-addon-page .hubble-addon-page__desc-wrap").hide()}BC_CARTDATA.addonData=[];BC_CARTDATA.addonBundleData=[];$("#content").hide();$(".hubble-price-bar-disclaimer").hide();$(".hubble-price-bar").hide();b=$(".hubble-addon-page");b.removeClass("is-gift-type");b.find(".hubble-addon-page__sticky .hubble-addon-page__price").show();b.find(".hubble-addon-page__cta").show();
b.find(".hubble-addon-page__cta.gift-type").hide();b.find(".hubble-addon-page__notice").remove();$(".hubble-addon-page__category-wrapper").show();a=Granite.I18n.get("Continue",null,i18n_hint);"fr"==siteCode&&(a=Granite.I18n.get("Voir mon panier",null,i18n_hint));b.find(".addon-continue-btn .s-cta-text").text(a);$(".hubble-addon-page__list").remove();BC_MODEL.isVoucher||($(".hubble-addon-page__price-title .s-txt-sub-title").remove(),$(".hubble-addon-page__price-title .s-txt-desc").remove(),"uk"!=siteCode&&
$(".hubble-addon-page .hubble-addon-page__desc-wrap").remove());"it"==siteCode&&$(".hubble-addon-page__confirm-terms").remove();bc_addon_page_common.setPriceBar();bc_addon_page_common.setAddOnsType();$("#wrap").addClass("hubble-content__addon");$("#content__addon").show();$(document).scrollTop(0);bc_common.historyBackEvent();bc_summary.setCtaTagging()};$(document).on("click",".hubble-addon-page .hubble-item-card__cta-inner .s-btn-encased.s-out",function(b){$(this).closest(".hubble-addon-page__item").removeClass("is-selected");
$(this).closest(".hubble-addon-page__item").removeAttr("aria-selected");$(this).find(".s-cta-text").html(T);$(this).addClass("s-out");b=$(this).attr("data-mo-name");var a=$(this).attr("data-mo-code");$("#getStockProductCode").val(a);loadComponent("getstock");$("#getStockAlertLayer").trigger("click");$(".hubble-getstock-popup .hubble-pd-popup-closer").attr("data-modelcode",a).attr("data-modelname",b).attr("an-ca","buy cta").attr("an-ac","stock alert").attr("an-la","stock alert:close");$(".hubble-getstock-popup #getStockAlertSubmit").attr("data-modelcode",
a).attr("data-modelname",b).attr("an-ca","buy cta").attr("an-ac","stock alert").attr("an-la","stock alert:submit")});$(document).on("click",".hubble-addon-page__item .zoom-popup-opener",function(b){b=$(this).parents(".hubble-item-card").find(".hubble-item-card__cta button").attr("data-mo-code");0==$(".bc-zoom-popup").length&&loadComponent("zoom-popup");$(document).trigger("zoomPopup",[b,r,y,$(this)])});$(document).on("continueEvent",function(b,a){"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):
U(BC_MODEL.modelCode)});$(document).on("bundleApplyEvent",function(b,a){J();$(".hubble-addon-page__item .hubble-item-card__cta button").each(function(){if(a.selectBundleCode==$(this).attr("data-mo-code"))return"close"==a.type?($(this).parents(".hubble-addon-page__item").removeClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Add",null,i18n_hint))):($(this).parents(".hubble-addon-page__item").addClass("is-selected"),$(this).find(".s-cta-text").text(Granite.I18n.get("Added",null,
i18n_hint)),$(this).removeAttr("data-layer-target"),$(this).removeClass("hubble-pd-popup-opener")),!1})});return{bundleChangeGrid:function(b){b=$(".hubble-addon-page .hubble-addon-page__list .hubble-item-card .hubble-item-card__cta button[data-mo-code\x3d'"+b+"']");b.text(Granite.I18n.get("Out of Stock",null,i18n_hint));b.removeAttr("data-layer-target");b.removeClass("hubble-pd-popup-opener");b.addClass("is-cta-disabled cta--disabled");b.attr("disabled","disabled")},removeBundleChangeTarget:function(b,
a){b=$(".hubble-addon-page .hubble-addon-page__list .hubble-item-card__cta button[data-mo-code\x3d'"+b+"']");b.attr("data-bundle-code",a);b.removeAttr("data-layer-target");b.removeClass("hubble-pd-popup-opener")}}}(bc_addon_page),bc_addon_page_gift=function(){function U(e){var p="true"===$("#isEppPage").val()?{withCredentials:!0}:{},f="jQuery1910499421933433041_151";if("ca"==siteCode||"ca_fr"==siteCode)f+=Math.floor(100*Math.random());"Y"==hybrisJsonYn?$.ajax({url:ba+"/"+multistoreSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+
e+"\x26queryType\x3dSELECTION_OF_GIFT",type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:p,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){null!=b.products&&0<b.products.length?(aa(),$.each(b.products,function(b,e){a[e.modelcode]={};a[e.modelcode].modelcode=e.modelcode;a[e.modelcode].groupCode="";a[e.modelcode].price="";a[e.modelcode].priceValue="";a[e.modelcode].promotionPrice="";a[e.modelcode].promotionPriceValue="";a[e.modelcode].usp=
{};e.price&&(a[e.modelcode].price=e.price);a[e.modelcode].promotionPrice=e.promotionPrice?e.promotionPrice:e.price;e.priceValue&&(a[e.modelcode].priceValue=e.priceValue);a[e.modelcode].promotionPriceValue=e.promotionPriceValue?"za"==siteCode?e.promotionPriceValue.replace(/[^0-9]/g,""):e.promotionPriceValue:e.priceValue;e.stocklevel&&(a[e.modelcode].stocklevel=e.stocklevel);e.groupCode&&(a[e.modelcode].groupCode=e.groupCode);w[e.groupCode]=[];"F-"==e.modelcode.substr(0,2)&&(e.imageUrl&&(a[e.modelcode].imageUrl=
e.imageUrl),e.name&&(a[e.modelcode].name=e.name),e.stocklevel&&"outofstock"==e.stocklevel.toLowerCase()&&(a[e.modelcode].stocklevel="inStock"));if(e.usp)for(b=0;b<e.usp.length;b++)a[e.modelcode].usp[b]=e.usp[b]})):(BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")}),bc_summary.goToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),
console.log("No Related Product--"))},error:function(){BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")});window.sg.components.bcProgressbar.hide();bc_summary.goToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},complete:function(){x(e)}}):$.ajax({url:ba+"/"+multistoreSiteCode+
"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+e+"\x26queryType\x3dSELECTION_OF_GIFT",type:"GET",dataType:"jsonp",jsonpCallback:f,cache:!0,crossDomain:!0,xhrFields:p,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){null!=b.products&&0<b.products.length?(aa(),$.each(b.products,function(b,e){a[e.modelcode]={};a[e.modelcode].modelcode=e.modelcode;a[e.modelcode].groupCode="";a[e.modelcode].price="";a[e.modelcode].priceValue="";a[e.modelcode].promotionPrice=
"";a[e.modelcode].promotionPriceValue="";a[e.modelcode].usp={};e.price&&(a[e.modelcode].price=e.price);a[e.modelcode].promotionPrice=e.promotionPrice?e.promotionPrice:e.price;e.priceValue&&(a[e.modelcode].priceValue=e.priceValue);a[e.modelcode].promotionPriceValue=e.promotionPriceValue?"za"==siteCode?e.promotionPriceValue.replace(/[^0-9]/g,""):e.promotionPriceValue:e.priceValue;e.stocklevel&&(a[e.modelcode].stocklevel=e.stocklevel);e.groupCode&&(a[e.modelcode].groupCode=e.groupCode);w[e.groupCode]=
[];if("F-"==e.modelcode.substr(0,2)&&(e.imageUrl&&(a[e.modelcode].imageUrl=e.imageUrl),e.name&&(a[e.modelcode].name=e.name),e.stocklevel&&"outofstock"==e.stocklevel.toLowerCase()&&(a[e.modelcode].stocklevel="inStock"),e.usp))for(b=0;b<e.usp.length;b++)a[e.modelcode].usp[b]=e.usp[b]})):(BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")}),bc_summary.goToCart(),window.sg.components.addOnsPage.reInit(),
window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){BC_GROUP.services&&0<BC_GROUP.services.length&&$.each(BC_GROUP.services,function(b,a){"ADD-ON"==a.serviceType&&"N"==a.displayYn&&(BC_MODEL.addOnsYn="N")});window.sg.components.bcProgressbar.hide();bc_summary.goToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},
complete:function(){x(e)}})}function V(a){var e="";$("#shopParmLang").val()&&(e="\x26lang\x3d"+$("#shopParmLang").val());var f="true"===$("#isEppPage").val()?{withCredentials:!0}:{};null!=I.products&&0<I.products.length?(Q(I.products),x(a)):$.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+a+"/relatedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dSELECTION_OF_GIFT"+e,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:f,timeout:1E4,
beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){null!=b.products&&0<b.products.length?Q(b.products):(bc_summary.goToCart(),window.sg.components.addOnsPage.reInit(),window.sg.components.addOnsPage.cardSlice(),window.sg.components.addOnsPage.sameHeight(),console.log("No Related Product--"))},error:function(){bc_summary.goToCart();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight();console.log("Related Products API Error--")},
complete:function(){x(a)}})}function Q(e){aa();$.each(e,function(e,f){a[f.modelcode]={};a[f.modelcode].modelcode=f.modelcode;a[f.modelcode].groupCode="";a[f.modelcode].price="";a[f.modelcode].priceValue="";a[f.modelcode].promotionPrice="";a[f.modelcode].promotionPriceValue="";a[f.modelcode].usp={};f.price&&(a[f.modelcode].price=z?currencyComma(f.price.value,currency):f.price.formattedValue,a[f.modelcode].priceValue=f.price.value,f.promotionPrice?(a[f.modelcode].promotionPrice=z?currencyComma(f.promotionPrice.value,
currency):f.promotionPrice.formattedValue,a[f.modelcode].promotionPriceValue=f.promotionPrice.value):(a[f.modelcode].promotionPrice=z?currencyComma(f.price.value,currency):f.price.formattedValue,a[f.modelcode].promotionPriceValue=f.price.value));f.stock&&(a[f.modelcode].stocklevel=f.stock.stockLevelStatus);f.groupCode&&(a[f.modelcode].groupCode=f.groupCode);w[f.groupCode]=[];"F-"==f.modelcode.substr(0,2)&&(f.picture&&(a[f.modelcode].imageUrl=f.picture.url),f.name&&(a[f.modelcode].name=f.name),f.stock&&
"outofstock"==f.stock.stockLevelStatus.toLowerCase()&&(a[f.modelcode].stocklevel="inStock"));if(f.usp)for(e=0;e<f.usp.length;e++)a[f.modelcode].usp[e]=f.usp[e]})}function x(e){var p=$("#apiStageInfo").val(),f=$("#searchDomain").val(),b=[];$.each(a,function(a,e){"F-"!=e.modelcode.substr(0,2)&&(w[e.groupCode]=[],b.push(e.modelcode))});var u={siteCode:siteCode,modelList:b.toString(),saleSkuYN:"N",onlyRequestSkuYN:"Y"};"Y"==multiStoreYn&&(u.shopSiteCd=multistoreSiteCode);var m="true"===$("#isEppPage").val(),
q=m?"epp/v2":"b2c",n=f+"/"+p+"/"+q+"/product/card/detail/hybris";if("ca"==siteCode||"ca_fr"==siteCode){n=f+"/"+p+"/"+q+"/product/card/detail/global";var r=$.cookies.get("country_region",{domain:".samsung.com"})?$.cookies.get("country_region",{domain:".samsung.com"}):"CA-ON";u.regionCode=r}"NewHybris"==BC_GROUP.storeType&&(u={siteCode:siteCode,modelList:b.toString(),commonCodeYN:"N",saleSkuYN:"N",onlyRequestSkuYN:"Y"},n=f+"/"+p+"/"+q+"/product/card/detail/newhybris");m&&(u.companyCode=$("#eppCompanyCode").val(),
u.shopSkuYN="N",window.sg.epp.common.isUserGroupPricing&&(u.groupName=window.sg.epp.common.groupName),""!=window.sg.epp.common.userStoreId&&(u.o2oId=window.sg.epp.common.userStoreId));b&&0<b.length?$.ajax({url:n,type:"GET",data:u,dataType:"json",async:!1,cache:!0,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0)},success:function(b){200==b.response.statusCode&&$.each(b.response.resultData.productList,function(b,e){b=e.modelList;null!=b&&0<b.length&&$.each(b,function(b,
f){if("F-"!=f.modelCode.substr(0,2)){a[f.modelCode]||(a[f.modelCode]={});null!=f.fmyChipList&&0<f.fmyChipList.length&&(b=f.fmyChipList.filter(function(b){return"COLOR"==b.fmyChipType}),b[0]&&(a[f.modelCode].optionType=b[0].fmyChipType,a[f.modelCode].optionCode=b[0].fmyChipCode,a[f.modelCode].optionEngName=b[0].fmyChipName,a[f.modelCode].optionName=b[0].fmyChipLocalName));if(null==a[f.modelCode].name||""==a[f.modelCode].name)a[f.modelCode].name=f.displayName?f.displayName:"";if(null==a[f.modelCode].price||
""==a[f.modelCode].price)z?f.price&&(a[f.modelCode].price=currencyComma(f.price,currency)):f.priceDisplay&&(a[f.modelCode].price=f.priceDisplay);if(null==a[f.modelCode].promotionPrice||""==a[f.modelCode].promotionPrice)z?f.promotionPrice&&(a[f.modelCode].promotionPriceValue=currencyComma(f.promotionPrice,currency)):a[f.modelCode].promotionPrice=f.promotionPriceDisplay?f.promotionPriceDisplay:f.priceDisplay;null!=a[f.modelCode].priceValue&&""!=a[f.modelCode].priceValue||!f.priceDisplay||(a[f.modelCode].priceValue=
f.priceDisplay);if(null==a[f.modelCode].promotionPriceValue||""==a[f.modelCode].promotionPriceValue)a[f.modelCode].promotionPriceValue=f.promotionPriceDisplay?f.promotionPriceDisplay:f.priceDisplay;f.thumbUrl&&(a[f.modelCode].imageUrl=f.thumbUrl);f.thumbUrlAlt&&(a[f.modelCode].imageUrlAlt=f.thumbUrlAlt);f.modelName&&(a[f.modelCode].modelname=f.modelName);f.pviTypeName&&(a[f.modelCode].pviTypeName=f.pviTypeName);f.pviSubtypeName&&(a[f.modelCode].pviSubtypeName=f.pviSubtypeName);e.categorySubTypeEngName&&
(a[f.modelCode].categorySubTypeEngName=e.categorySubTypeEngName);if(null!=f.usp&&0<f.usp.length)for(b=0;b<f.usp.length;b++)a[f.modelCode].usp[b]=f.usp[b]}})})},error:function(){window.sg.components.bcProgressbar.hide();console.log("Search API Error--")},complete:function(){M[e]=a;B[e]=w;ca(e);h(e,!0);N();window.sg.components.bcProgressbar.hide()}}):(M[e]=a,B[e]=w,ca(e),h(e,!0),N(),window.sg.components.bcProgressbar.hide())}function X(a){var e="";$("#shopParmLang").val()&&(e="\x26lang\x3d"+$("#shopParmLang").val());
var f="true"===$("#isEppPage").val()?{withCredentials:!0}:{};return $.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+a+"/relatedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dSELECTION_OF_GIFT_FOR_SERVICETYPE\x26serviceId\x3d"+BC_CARTDATA.tariffData[0].modelCode+e,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:f,timeout:1E4,beforeSend:function(){window.sg.components.bcProgressbar.show(!0);I={}},error:function(){},complete:function(){window.sg.components.bcProgressbar.hide()}})}
function h(a,p){$(".hubble-addon-page__category-wrapper").hide();if(M[a]){var e=0;$.each(M[a],function(b,f){f.groupCode&&f.name&&(f.optionCode?B[a][f.groupCode].push(f):(B[a][f.groupCode+e]=[],B[a][f.groupCode+e].push(f),e++))});var b="",h=1,m=1;b+='            \x3cdiv class\x3d"hubble-addon-page__list"\x3e';b+='                \x3cdiv class\x3d"hubble-addon-page__list-inner list-four-center"\x3e';$.each(B[a],function(a,e){for(a=0;a<e.length;a++)D.push(addOnsImgDomain(e[a].imageUrl));for(i=0;i<D.length;i++)Y[i]=
new Image,Y[i].src=D[i];if(e[0]){var f=-1;a=e[0].stocklevel;$.each(e,function(b,c){"outofstock"!=c.stocklevel.toLowerCase()&&-1==f&&(f=b)});-1==f&&(f=0);var p=null!=e[f].price&&""!=e[f].price?e[f].price:"",q=null!=e[f].promotionPrice&&""!=e[f].promotionPrice?e[f].promotionPrice:"",u=null!=e[f].priceValue&&""!=e[f].priceValue?e[f].priceValue:"",t=null!=e[f].promotionPriceValue&&""!=e[f].promotionPriceValue?e[f].promotionPriceValue:"";a=e[f].stocklevel;var r=e[f].imageUrl,l="";e[f].imageUrl&&""!=e[f].imageUrl&&
(l=r.substring(0,8));if(""===r||"/medias/"==l)r="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg";r&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=r&&"/medias/"!=l&&(r=addOnsImgDomain(r));l=e[f].imageUrlAlt?e[f].imageUrlAlt:"";b+='                    \x3cdiv class\x3d"hubble-addon-page__item';1==m&&(b+=" is-selected");b+='"\x3e';b+='                        \x3cdiv class\x3d"hubble-addon-page__item-inner"\x3e';b+='                            \x3cdiv class\x3d"hubble-item-card"\x3e';
b+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card__select"\x3e';b+='    \t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-pd-radio js-radio-wrap';b="F-"==e[f].modelcode.substr(0,2)?b+"\tadd-bundle":b+" add-ons";"F-"!=e[f].modelcode.substr(0,2)&&"outofstock"==a.toLowerCase()&&(b+=" is-disabled");b+='" data-mo-code\x3d"'+e[f].modelcode+'" data-mo-name\x3d"'+e[f].modelname+'" data-mo-bundle-name\x3d"'+escapeHtml(e[f].name)+'" data-mo-stocklevel\x3d"'+a.toLowerCase()+'" data-displayName\x3d"'+escapeHtml(e[f].name)+
'" data-pviTypeName\x3d'+e[f].pviTypeName+'" data-pviSubtypeName\x3d"'+e[f].pviSubtypeName+'" data-categorySubTypeEngName\x3d"'+e[f].categorySubTypeEngName+'"\x3e';b+='        \t\t\t\t\t\t\t\t\t\x3cinput type\x3d"radio" id\x3d"freeGift-rdo'+m+'" name\x3d"freeGift" class\x3d"hubble-pd-radio__input" data-modelcode\x3d"'+e[f].modelname+'" data-modelname\x3d"'+e[f].modelname+'"';"outofstock"==a.toLowerCase()&&(b+=" disabled\x3ddisabled");b+="\x3e";b+='        \t\t\t\t\t\t\t\t\t\x3clabel for\x3d"freeGift-rdo'+
m+'" class\x3d"hubble-pd-radio__label';b="F-"==e[f].modelcode.substr(0,2)?b+' hubble-pd-popup-opener" data-layer-target\x3d"#hubble-addon-bundle-layer"\x3e':b+'"\x3e';b+='            \t\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-box-wrap"\x3e\x3cspan class\x3d"s-box"\x3e\x3c/span\x3e\x3c/span\x3e';b+='            \t\t\t\t\t\t\t\t\t\x3cstrong class\x3d"blind"\x3e'+Granite.I18n.get("Select Free Gift",null,i18n_hint)+"\x3c/strong\x3e";b+="        \t\t\t\t\t\t\t\t\t\x3c/label\x3e";b+="    \t\t\t\t\t\t\t\t\t\x3c/div\x3e";
b+="\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+='                                \x3cdiv class\x3d"hubble-item-card__img"\x3e';b+="                                    \x3cpicture\x3e";b+='                                    \t\x3cdiv class\x3d"image"\x3e';b+='                                    \t\t\x3cimg class\x3d"image__preview lazy-load responsive-img" data-desktop-src\x3d"'+O(r)+'" data-mobile-src\x3d"'+O(r)+'" alt\x3d"'+l+'" aria-hidden\x3d"true"\x3e';b+='                                    \t\t\x3cimg class\x3d"image__main lazy-load responsive-img" data-desktop-src\x3d"'+
O(r)+'" data-mobile-src\x3d"'+O(r)+'" alt\x3d"'+l+'"\x3e';b+="\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+="                                    \x3c/picture\x3e";b+="                                \x3c/div\x3e";b+='                                \x3cdiv class\x3d"hubble-item-card__content"\x3e';b+='                                    \x3cdiv class\x3d"hubble-item-card__product"\x3e';b+='                                        \x3cstrong class\x3d"s-txt-title"\x3e'+e[f].name+"\x3c/strong\x3e";b+="                                    \x3c/div\x3e";
b+='                                    \x3cdiv class\x3d"hubble-item-card__option-wrap"\x3e';b+='\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"option-selector option-selector__color-text hubble-item-card__option-color"\x3e';b+='\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"option-selector__color-name"\x3e'+Granite.I18n.get("Color",null,i18n_hint)+' : \x3cspan class\x3d"color-name-text"\x3e'+e[f].optionName+"\x3c/span\x3e\x3c/div\x3e";b+='\t\t\t\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"option-selector__wrap option-selector__wrap--color-chip" data-desktop-view\x3d"5" data-mobile-view\x3d"4"\x3e';
b+='                                        \t\t\t\x3cdiv class\x3d"option-selector__swiper"\x3e';b+='                                        \t\t\t\t\x3cdiv class\x3d"option-selector__swiper-container"\x3e';b+='                                        \t\t\t\t\t\x3cdiv class\x3d"option-selector__swiper-wrapper" role\x3d"list"\x3e';"F-"!=e[0].modelcode.substr(0,2)&&$.each(e,function(a,c){if(0<e.length&&c.stocklevel&&c.price&&""!=c.optionCode&&"COLOR"==c.optionType){b+='                                            \x3cspan class\x3d"option-selector__swiper-slide hubble-item-card__option-color-item';
"F-"!=c.modelcode.substr(0,2)&&"outofstock"==c.stocklevel.toLowerCase()&&(b+=" is-item-disabled");var p=c.imageUrlAlt?c.imageUrlAlt:"";b+='" role\x3d"listitem"';b+=' data-mo-code\x3d"'+c.modelcode+'" data-mo-name\x3d"'+c.modelname+'" data-imgAlt\x3d"'+p+'" ';b+=' data-name\x3d"'+c.name+'" data-imgpath\x3d"'+c.imageUrl+'" ';b+=' data-groupCode\x3d"'+c.groupCode+'"';b+=' data-fmyChipCode\x3d"'+c.optionCode+'"';b+=' data-mo-stocklevel\x3d"'+c.stocklevel+'"';if("se"==siteCode||"dk"==siteCode||"no"==siteCode||
"fi"==siteCode||"za"==siteCode){var l=null!=c.price&&""!=c.price?c.price.replace(/(\s*)/g,""):"",m=null!=c.promotionPrice&&""!=c.promotionPrice?c.promotionPrice.replace(/(\s*)/g,""):"",k=null!=c.priceValue&&""!=c.priceValue?c.priceValue.replace(/(\s*)/g,""):"";p=null!=c.promotionPriceValue&&""!=c.promotionPriceValue?c.promotionPriceValue.replace(/(\s*)/g,""):"";b+=' data-apiPrice\x3d"'+l+'" ';""!=m&&m&&m!=l&&(b+=' data-apiPromotionPrice\x3d"'+m+'" ');b+=' data-apiPriceValue\x3d"'+k+'" ';""!=p&&p&&
p!=k?(b+=' data-apiPromotionPriceValue\x3d"'+p+'" ',l=!1,Number.isInteger(parseFloat(u))&&Number.isInteger(parseFloat(t))&&(l=!0),m=Number(parseFloat(u)-parseFloat(t)).toFixed(2),l&&(m=Number(parseFloat(u)-parseFloat(t))),b+=' data-apiSavePriceValue\x3d"'+m+'" ',b+=' data-apiTotalPriceValue\x3d"'+p+'" '):(b+=' data-apiSavePriceValue\x3d""',b+=' data-apiTotalPriceValue\x3d"'+k+'" ')}b+="\x3e";b+='                                                \x3cspan class\x3d"option-selector__color hubble-pd-radio s-type-color js-radio-wrap';
f==a&&(b+=" is-checked");b+='"\x3e';b+='                                                    \x3cinput type\x3d"radio" id\x3d"addon-color_'+c.modelcode+'" name\x3d"addon-color_'+c.groupCode+'" class\x3d"hubble-pd-radio__input"';b+=' an-tr\x3d"bridge_free gift-'+bcPageTrack()+'-text- select" an-ca\x3d"option click" an-ac\x3d"bridge" an-la\x3d"free gift:'+c.optionType.toLowerCase()+":"+c.optionEngName.toLowerCase()+'" data-modelname\x3d"'+c.modelname+'" data-modelcode\x3d"'+c.modelcode+'"';f==a&&(b+=
" checked\x3dchecked");b+="\x3e";b+='                                                    \x3clabel for\x3d"addon-color_'+c.modelcode+'" class\x3d"hubble-pd-radio__label"\x3e';b+='                                                    \t\t\x3cspan class\x3d"option-selector__color-code" style\x3d"background-color:'+c.optionCode+'"\x3e';b+=c.optionEngName;b+="                                                    \t\t\x3c/span\x3e";b+='                                                    \t\t\x3cspan class\x3d"hidden"\x3e'+
c.optionName+"\x3c/span\x3e";b+="                                                    \x3c/label\x3e";b+="                                                \x3c/span\x3e";b+="                                            \x3c/span\x3e";h++}});b+="                                      \t\t\t\t\t\x3c/div\x3e";b+="                                      \t\t\t\t\x3c/div\x3e";b+='                                                     \x3cbutton type\x3d"button" class\x3d"option-selector__button-prev" aria-label\x3d"'+
Granite.I18n.get("Previous",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';b+='                                                     \t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Previous",null,i18n_hint)+"\x3c/span\x3e";b+='                                                         \t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';b+='                                                             \t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#previous-regular"\x3e\x3c/use\x3e';
b+="                                                         \t\x3c/svg\x3e";b+="                                                     \x3c/button\x3e";b+='                                                     \x3cbutton type\x3d"button" class\x3d"option-selector__button-next" aria-label\x3d"'+Granite.I18n.get("Next",null,i18n_hint)+'" role\x3d"button" aria-disabled\x3d"true"\x3e';b+='                                                     \t\x3cspan class\x3d"hidden"\x3e'+Granite.I18n.get("Next",null,
i18n_hint)+"\x3c/span\x3e";b+='                                                     \t\t\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e';b+='                                                     \t\t\t\x3cuse xlink:href\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/svg-sprite.svg#next-regular"\x3e\x3c/use\x3e';b+="                                                     \t\t\x3c/svg\x3e";b+="                                                     \x3c/button\x3e";
b+="                                      \t\t\t\x3c/div\x3e";b+="                                      \t\t\x3c/div\x3e";b+="                                      \t\x3c/div\x3e";b+="                                 \t\x3c/div\x3e";b+="                                 \x3c/div\x3e";b+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card__price"\x3e';"se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode?(""!=q&&q&&q!=p?(r=!1,Number.isInteger(parseFloat(u))&&Number.isInteger(parseFloat(t))&&
(r=!0),l=Number(parseFloat(u)-parseFloat(t)).toFixed(2),r&&(l=Number(parseFloat(u)-parseFloat(t))),b+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-wrap"\x3e',b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+p+"\x3c/del\x3e\x3c/span\x3e",b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-save"\x3e'+Granite.I18n.get("Save {0}",currencyComma(parseFloat(l),currency),i18n_hint)+"\x3c/span\x3e",
b+="    \t\t\t\t\t\t\t\t\x3cbr\x3e",b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+"\x3c/span\x3e"+q+"\x3c/span\x3e"):(b+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-wrap"\x3e',b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price"\x3e'+p+"\x3c/span\x3e"),b+="\t\t\t\t\t\t\t\t\x3c/span\x3e"):"za"==siteCode&&""!=p&&p&&""!=q&&q&&q!=p&&4E3<=parseFloat(u)-parseFloat(t)&&(r=!1,Number.isInteger(parseFloat(u))&&Number.isInteger(parseFloat(t))&&
(r=!0),l=Number(parseFloat(u)-parseFloat(t)).toFixed(2),r&&(l=Number(parseFloat(u)-parseFloat(t))),b+='\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-wrap"\x3e',b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+currencyComma(u,currency)+"\x3c/del\x3e\x3c/span\x3e",b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price-save"\x3e'+Granite.I18n.get("Save {0}",currencyComma(l,currency),i18n_hint)+
"\x3c/span\x3e",b+="    \t\t\t\t\t\t\t\t\x3cbr\x3e",b+='    \t\t\t\t\t\t\t\t\x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+"\x3c/span\x3e"+currencyComma(t,currency)+"\x3c/span\x3e",b+="\t\t\t\t\t\t\t\t\x3c/span\x3e");b+="\t\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+='\t\t\t\t\t\t\t\t\t\x3cdiv class\x3d"hubble-item-card__message"\x3e';b+='    \t\t\t\t\t\t\t\t\t\x3cspan class\x3d"s-alert-text"\x3e';"F-"!=e[f].modelcode.substr(0,2)&&"outofstock"==
a.toLowerCase()&&(b+=Granite.I18n.get("Out of Stock",null,i18n_hint));b+="\x3c/span\x3e";b+="\t\t\t\t\t\t\t\t\t\x3c/div\x3e";b+="                            \x3c/div\x3e";b+="                        \x3c/div\x3e";b+="                    \x3c/div\x3e";m++}});p=v(!0,m);""!=p&&(b+=p);b+="                \x3c/div\x3e";b+="            \x3c/div\x3e";K&&(b+=Z());$(".hubble-addon-page__inner").append(b)}else b=v(!1),""!=b&&$(".hubble-addon-page__inner").append(b);"se"!=siteCode&&"dk"!=siteCode&&"no"!=siteCode&&
"fi"!=siteCode&&n();p=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap:first").attr("data-mo-code");isNotEmpty(p)&&"F-"==p.substr(0,2)?A():S();var q=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap.add-bundle").each(function(){null!=$(this).attr("data-mo-code")&&""!=$(this).attr("data-mo-code")&&q.push($(this).attr("data-mo-code"))});bc_addon_page_bundle.getRelatedProductsSimpleInfo(q,
"gift");_satellite.setVar("Add Page Name","free gift");_satellite.track("page view");window.sg.components.hubblePageLoading.hide();window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight()}function n(){$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap").each(function(){$(this).removeClass("is-checked");$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",
!1);$(".hubble-addon-page__item").removeClass("is-selected");if("outofstock"!=$(this).attr("data-mo-stocklevel"))return $(this).find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0),$(this).addClass("is-checked"),$(this).closest(".hubble-addon-page__item").addClass("is-selected"),BC_CARTDATA.preSelected=$(this).closest(".hubble-addon-page__item").index(),!1});if(BC_MODEL.isFreeSmc&&!$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").is(":checked")){var e=
$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap.add-smc:eq(0)");e.find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0);e.addClass("is-checked");e.closest(".hubble-addon-page__item").addClass("is-selected")}$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap .hubble-pd-radio__input").is(":checked")||(e=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap:eq(0)"),
e.find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0),e.parents(".hubble-item-card__select").addClass("is-checked"),e.closest(".hubble-addon-page__item").addClass("is-selected"),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .s-cta-text").text(Granite.I18n.get("Skip",null,i18n_hint)),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").addClass("add-skip").removeClass("cta--disabled"),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").attr("aria-disabled",
!1))}function C(e,a){if(smcProducts[BC_MODEL.modelCode])"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):U(BC_MODEL.modelCode);else{e="";e=$("#bcStoreDomain").val()+"/"+multistoreSiteCode+"/servicesv2/getSmcSimpleInfo?productCode\x3d"+BC_MODEL.modelCode;a="true"===$("#isEppPage").val()?{withCredentials:!0}:{};var f="jQuery1910499421933433041_131";if("ca"==siteCode||"ca_fr"==siteCode)f+=Math.floor(100*Math.random());e="Y"==hybrisJsonYn?$.ajax({url:e,type:"GET",dataType:"json",timeout:1E4,cache:!0,
crossDomain:!0,xhrFields:{withCredentials:!0}}):$.ajax({url:e,type:"GET",dataType:"jsonp",jsonpCallback:f,timeout:1E4,xhrFields:a,async:!1,cache:!0});e.done(function(b){smcProducts[BC_MODEL.modelCode]=b;"NewHybris"==$("#storeType").val()?(SERVICEDATA.globalCareData=b,V(BC_MODEL.modelCode)):U(BC_MODEL.modelCode)});e.fail(function(){"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):U(BC_MODEL.modelCode)})}}function v(e,a){var f="";if(BC_MODEL.isFreeSmc&&smcProducts[BC_MODEL.modelCode]){var b=
smcProducts[BC_MODEL.modelCode];if(null!=b&&null!=b.smcs&&0<b.smcs.length){e||(f+='\x3cdiv class\x3d"hubble-addon-page__list"\x3e',f+='  \x3cdiv class\x3d"hubble-addon-page__list-inner list-four-center"\x3e');var p=void 0!=a&&""!=a?a:1,h=0;$.each(b.smcs,function(b,a){if("monthly"!=a.paymentCycle&&0==h){b=a.price;var e=isNotEmpty(a.promotionPrice)?a.promotionPrice:a.price,m=isNotEmpty(a.summary)?a.summary:"";f+='\x3cdiv class\x3d"hubble-addon-page__item';1==p&&(f+=" is-selected");f+='"\x3e';f+='  \x3cdiv class\x3d"hubble-addon-page__item-inner"\x3e';
f+='    \x3cdiv class\x3d"hubble-item-card"\x3e';f+='      \x3cdiv class\x3d"hubble-item-card__select"\x3e';f+='        \x3cdiv class\x3d"hubble-pd-radio js-radio-wrap add-smc';1==p&&(f+=" is-checked");f+='" data-smc-price\x3d"'+b+'" data-smc-promotionprice\x3d"'+e+'" data-smc-code\x3d"'+a.smcCode+'" data-smc-name\x3d"'+a.title+'"\x3e';f+='        \x3cinput type\x3d"radio" id\x3d"freeGift-rdo'+p+'" class\x3d"hubble-pd-popup-opener hubble-pd-radio__input" data-layer-target\x3d"#hubble-care-layer" name\x3d"freeGift" data-modelcode\x3d"'+
a.smcCode+'" data-modelname\x3d""';1==p&&(f+=' checked\x3d"checked"');f+="\x3e";f+='          \x3clabel for\x3d"freeGift-rdo'+p+'" class\x3d"hubble-pd-radio__label" title\x3d"'+Granite.I18n.get("Samsung Care+ layer popup",null,i18n_hint)+'"\x3e';f+='            \x3cspan class\x3d"s-box-wrap"\x3e\x3cspan class\x3d"s-box"\x3e\x3c/span\x3e\x3c/span\x3e';f+='            \x3cstrong class\x3d"blind"\x3e'+Granite.I18n.get("Select Samsung Care+",null,i18n_hint)+"\x3c/strong\x3e";f+="          \x3c/label\x3e";
f+="        \x3c/div\x3e";f+="      \x3c/div\x3e";f+='      \x3cdiv class\x3d"hubble-item-card__img"\x3e';f+="        \x3cpicture\x3e";f+='          \x3csource srcset\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" media\x3d"(max-width: 768px)"\x3e';f+='          \x3cimg class\x3d"js-img-src" src\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" data-src-pc\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" data-src-mobile\x3d"/etc.clientlibs/samsung/clientlibs/consumer/global/clientlib-common/resources/images/insurance-ico.svg" alt\x3d""\x3e';
f+="        \x3c/picture\x3e";f+="      \x3c/div\x3e";f+='      \x3cdiv class\x3d"hubble-item-card__content"\x3e';f+='        \x3cdiv class\x3d"hubble-item-card__product"\x3e';f+='          \x3cstrong class\x3d"s-txt-title"\x3e'+a.title+"\x3c/strong\x3e";f+="        \x3c/div\x3e";f+='        \x3cdiv class\x3d"hubble-item-card__option-wrap"\x3e';f+='          \x3cdiv class\x3d"hubble-item-card__option-color s-color-slick"\x3e\x3c/div\x3e';f+='          \x3cp class\x3d"s-txt-desc"\x3e'+m+"\x3c/p\x3e";
f+="        \x3c/div\x3e";f+="      \x3c/div\x3e";f+='      \x3cdiv class\x3d"hubble-item-card__price"\x3e';f+="      \x3c/div\x3e";f+='      \x3cdiv class\x3d"hubble-item-card__message"\x3e\x3c/div\x3e';f+="    \x3c/div\x3e";f+="  \x3c/div\x3e";f+="\x3c/div\x3e";p++;h++}});e||(f+="  \x3c/div\x3e",f+="\x3c/div\x3e")}}return f}function Z(){var a="";if("it"==siteCode)return $.each(q,function(e,f){isNotEmpty(f.content)&&(a+='\x3cdiv class\x3d"hubble-addon-page__confirm-terms"\x3e',a+=' \x3cdiv class\x3d"hubble-addon-page__confirm-terms-checkbox-wrap"',
a+="\x3e",a+='   \x3cdiv class\x3d"checkbox-v2"\x3e',a+='     \x3cinput class\x3d"checkbox-v2__input" type\x3d"checkbox" name\x3d"checkbox" id\x3d"free-gift--terms-checkbox-'+(parseInt(e)+1)+'"\x3e',a+='     \x3clabel class\x3d"checkbox-v2__label" for\x3d"free-gift--terms-checkbox-'+(parseInt(e)+1)+'"\x3e',a+='       \x3cspan class\x3d"checkbox-v2__label-box-wrap"\x3e',a+='         \x3cspan class\x3d"checkbox-v2__label-box"\x3e',a+='           \x3csvg class\x3d"checkbox-v2__label-box-icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e',
a+='             \x3cuse xlink:href\x3d"#done-bold" href\x3d"#done-bold"\x3e\x3c/use\x3e',a+="           \x3c/svg\x3e",a+="         \x3c/span\x3e",a+="       \x3c/span\x3e",a+='       \x3cspan class\x3d"checkbox-v2__label-text"\x3e'+f.content+" \x3c/span\x3e",a+="     \x3c/label\x3e",a+="   \x3c/div\x3e",a+=" \x3c/div\x3e",a+="\x3c/div\x3e")}),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .addon-continue-btn .s-cta-text").html(Granite.I18n.get("Partecipa e continua",null,i18n_hint)),
a}function J(){var a=ba,p={};"true"===$("#isEppPage").val()&&(p={withCredentials:!0},a=COMMONMETADATA.hyblisStoreDomain);return $.ajax({url:a+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/tnc?context\x3dFOC\x26value\x3d"+BC_PRODUCTS[BC_MODEL.modelCode].categoryGroupCode,type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:p,timeout:1E4,success:function(a){isNotEmpty(a)&&$.each(a,function(b,a){q[b]={};q[b].code="";q[b].title="";q[b].content="";q[b].required="";q[b].type="";q[b].code=
a.code;q[b].title=a.title;q[b].content=a.content;q[b].required=a.required;q[b].type=a.type})}})}function A(){BC_CARTDATA.giftCareData=[];BC_CARTDATA.freeGiftBundleData=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)").each(function(){var a=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap.add-bundle.is-checked").each(function(){null!=$(this).attr("data-mo-code")&&
""!=$(this).attr("data-mo-code")&&a.push($(this).attr("data-mo-code"))});bc_addon_page_bundle.getRelatedProductsSimpleInfo(a,"gift")});bc_summary.setCtaTagging()}function S(){BC_CARTDATA.giftCareData=[];BC_CARTDATA.freeGiftData=[];BC_CARTDATA.freeGiftBundleData=[];$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)").each(function(){if($(this).hasClass("add-smc")){var a=$(this).find(".hubble-pd-popup-opener").attr("data-layer-target");
a&&0!=a.length||(a={modelCode:$(this).attr("data-smc-code"),modelName:$(this).attr("data-smc-name"),price:$(this).attr("data-smc-price"),salePrice:$(this).attr("data-smc-promotionprice")},BC_CARTDATA.giftCareData.push(a))}else a={addonModelCode:$(this).attr("data-mo-code"),addonModelName:$(this).attr("data-mo-name"),dtmModelCode:$(this).attr("data-mo-code"),addonModelPrice:0,addonModelOriginPrice:0,displayName:$(this).attr("data-displayName"),pviTypeName:$(this).attr("data-pviTypeName"),pviSubtypeName:$(this).attr("data-pviSubtypeName"),
categorySubTypeEngName:$(this).attr("data-categorySubTypeEngName"),modelrevenue:0,modelqty:1},BC_CARTDATA.freeGiftData.push(a)});bc_summary.setCtaTagging()}function N(){var a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__top-inner .hubble-addon-page__product-cta a");if("se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode)a.removeClass("cta--disabled"),a.attr("aria-disabled",!1);else if(da)BC_CARTDATA.freeGiftData=[],$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .s-cta-text").text(Granite.I18n.get("Skip",
null,i18n_hint)),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").addClass("add-skip").removeClass("cta--disabled"),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a").attr("aria-disabled",!1);else{if(0==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list").length)a.removeClass("cta--disabled"),a.attr("aria-disabled",!1);else{var p=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)");
0<p.length?p.hasClass("add-smc")||"outofstock"!=p.attr("data-mo-stocklevel").toLowerCase()?(a.removeClass("cta--disabled"),a.attr("aria-disabled",!1)):(a.addClass("cta--disabled"),a.attr("aria-disabled",!0)):a.hasClass("add-skip")?(a.removeClass("cta--disabled"),a.attr("aria-disabled",!1),BC_MODEL.freeGiftOos=!0,bc_summary.setCtaTagging()):(a.addClass("cta--disabled"),a.attr("aria-disabled",!0))}if(K&&!a.hasClass("cta--disabled")&&0<$(".hubble-addon-page.is-gift-type .hubble-addon-page__confirm-terms-checkbox-wrap").length)for(var f=
p=0;f<$(".hubble-addon-page__confirm-terms-checkbox-wrap .checkbox-v2__input").length;f++)$(".hubble-addon-page__confirm-terms-checkbox-wrap #free-gift--terms-checkbox-"+(f+1)).closest(".hubble-addon-page__confirm-terms-checkbox-wrap").find(".checkbox-v2__input").is(":checked")&&(p+=1),p==$(".hubble-addon-page__confirm-terms-checkbox-wrap .checkbox-v2__input").length?(a.removeClass("cta--disabled"),a.attr("aria-disabled",!1)):(a.addClass("cta--disabled"),a.attr("aria-disabled",!0))}}function O(a){""!=
a&&null!=a&&-1!=a.indexOf("$ORIGIN_PNG$")&&(a=a.replace("$ORIGIN_PNG$","$THUB_SHOP_L$"));return a}function fa(a){"confirm"==a?$(".hubble-addon-page__item").each(function(a){$(this).find(".hubble-item-card__select .js-radio-wrap").hasClass("is-checked")&&(BC_CARTDATA.preSelected=a)}):$(".hubble-addon-page__list .hubble-addon-page__item").each(function(a){BC_CARTDATA.preSelected===a?(a=$(this).find(".hubble-item-card__select .js-radio-wrap"),a.hasClass("is-checked")||(a.addClass("is-checked"),$(this).find(".hubble-item-card__select .js-radio-wrap.is-checked").closest(".hubble-addon-page__item").addClass("is-selected"),
a.find("input:radio").attr("checked","checked").prop("checked",!0))):(a=$(this).find(".hubble-item-card__select .js-radio-wrap"),a.removeClass("is-checked"),$(".hubble-addon-page__item").removeClass("is-selected"),a.find("input:radio").removeAttr("checked").prop("checked",!1))})}function ca(a){da&&$.each(M[a],function(a,e){"outofstock"!=e.stocklevel.toLowerCase()&&(da=!1)})}var ba=$("#bcStoreDomain").val(),a={},w={},M={},B={},q={},I={},Y=[],D=[],E="";$(".hubble-addon-page.is-gift-type");var z=!1;
if("hr"==siteCode||"si"==siteCode)z=!0;var K=!1;"it"==siteCode&&(K=!0,J());var da=!0;$(document).off("change",".hubble-addon-page.is-gift-type .hubble-item-card__option-wrap .hubble-pd-radio__input");$(document).on("change",".hubble-addon-page.is-gift-type .hubble-item-card__option-wrap .hubble-pd-radio__input",function(a){$(this).parents(".hubble-item-card").find(".hubble-item-card__select .hubble-pd-radio.js-radio-wrap").addClass("is-checked");$(this).closest(".hubble-pd-radio").parent().hasClass("is-item-disabled")?
$(this).parents(".hubble-item-card").find(".hubble-item-card__message .s-alert-text").text(Granite.I18n.get("Out of Stock",null,i18n_hint)):$(this).parents(".hubble-item-card").find(".hubble-item-card__message .s-alert-text").text("");$(this).parents(".hubble-item-card__option-wrap").find(".hubble-pd-radio").each(function(){$(this).removeClass("is-checked");$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1);$(".hubble-addon-page__item").removeClass("is-selected")});$(this).parent().addClass("is-checked");
$(this).attr("checked","checked").prop("checked",!0);$(this).closest(".hubble-addon-page__item").addClass("is-selected");$(this).parents(".hubble-item-card").find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-code",$(this).parents(".hubble-item-card__option-color-item").attr("data-mo-code"));$(this).parents(".hubble-item-card").find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-name",$(this).parents(".hubble-item-card__option-color-item").attr("data-mo-name"));$(this).parents(".hubble-item-card").find(".hubble-pd-radio.js-radio-wrap").attr("data-mo-stocklevel",
$(this).parents(".hubble-item-card__option-color-item").attr("data-mo-stocklevel"));$(this).parents(".hubble-item-card__content").find(".hubble-item-card__product strong").html($(this).parents(".hubble-item-card__option-color-item").attr("data-name"));var e="";a=$(this).parents(".hubble-item-card__option-color-item").attr("data-imgPath");e=$(this).parents(".hubble-item-card__option-color-item").attr("data-imgAlt")?$(this).parents(".hubble-item-card__option-color-item").attr("data-imgAlt"):"";a&&""!=
a&&"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=a&&a.substring(0,8);a&&""!=a||(a="/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg");"/etc/designs/smg/global/imgs/configurator-pd/default-96x196.jpg"!=a&&(a=addOnsImgDomain(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("src",O(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img source").attr("srcset",O(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-pc",
O(a));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("data-src-mobile",O(a).replace("$COMP_SHOP_LIST$","$THUB_SHOP_L$"));$(this).closest(".hubble-item-card").find(".hubble-item-card__img img").attr("alt",e);if("se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode||"za"==siteCode)if(e="",a=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPrice"),e=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPriceValue"),a){var f=
"";var b=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPromotionPrice");f=$(this).parents(".hubble-item-card__option-color-item").attr("data-apiPromotionPriceValue");var h="";if("za"==siteCode){if(b&&""!=b&&b!=a&&4E3<=parseFloat(e)-parseFloat(f)){var m=Number(parseFloat(e)-parseFloat(f)).toFixed(2);h=h+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                        \x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+
Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+currencyComma(e,currency)+"\x3c/del\x3e\x3c/span\x3e");h+='                                        \x3cspan class\x3d"s-price-save"\x3e'+Granite.I18n.get("Save {0}",currencyComma(parseFloat(m),currency),i18n_hint)+"\x3c/span\x3e";h=h+"                                        \x3cbr\x3e"+('                                        \x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+
"\x3c/span\x3e"+currencyComma(f,currency)+"\x3c/span\x3e");h+="                                    \x3c/span\x3e"}}else b&&""!=b&&b!=a?(m=Number(parseFloat(e)-parseFloat(f)).toFixed(2),h=h+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                        \x3cspan class\x3d"s-price-default"\x3e\x3cdel\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("List price",null,i18n_hint)+"\x3c/span\x3e"+a+"\x3c/del\x3e\x3c/span\x3e"),h+='                                        \x3cspan class\x3d"s-price-save"\x3e'+
Granite.I18n.get("Save {0}",currencyComma(m,currency),i18n_hint)+"\x3c/span\x3e",h=h+"                                        \x3cbr\x3e"+('                                        \x3cspan class\x3d"s-price"\x3e\x3cspan class\x3d"blind"\x3e'+Granite.I18n.get("Discount price",null,i18n_hint)+"\x3c/span\x3e"+b+"\x3c/span\x3e"),h+="                                    \x3c/span\x3e"):h=h+'                                    \x3cspan class\x3d"s-price-wrap"\x3e'+('                                        \x3cspan class\x3d"s-price"\x3e'+
a+"\x3c/span\x3e")+"                                    \x3c/span\x3e";$(this).parents(".hubble-item-card").find(".hubble-item-card__price").html(h)}a=$(this).parents(".hubble-item-card").find(".hubble-item-card__option-color-item .hubble-pd-radio.iss-checked").find(".hubble-pd-radio__label .hidden").html();$(this).parents(".option-selector.option-selector__color-text").find(".option-selector__color-name .color-name-text").html(a);N();bc_summary.setCtaTagging();$(this).parents(".hubble-item-card").find(".hubble-item-card__select .hubble-pd-radio.js-radio-wrap").hasClass("is-checked")&&
$(this).parents(".hubble-item-card").find(".hubble-item-card__select .hubble-pd-radio.js-radio-wrap").trigger("click");"outofstock"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-stocklevel").toLowerCase()?$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").find(".s-box-wrap").hide():$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").find(".s-box-wrap").show();
window.sg.components.addOnsPage.reInit();window.sg.components.addOnsPage.cardSlice();window.sg.components.addOnsPage.sameHeight()});$(document).on("click",".hubble-addon-page.is-gift-type .hubble-item-card__option-wrap .hubble-pd-radio__input",function(a){$(this).change()});$(document).on("click",".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap",function(a){if(!$(this).hasClass("add-bundle")||!$(this).hasClass("is-disabled"))if($(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card .hubble-item-card__select .hubble-pd-radio").each(function(){$(this).removeClass("is-checked");
$(this).find(".hubble-pd-radio__input").removeAttr("checked").prop("checked",!1);$(".hubble-addon-page__item").removeClass("is-selected")}),$(this).addClass("is-checked"),$(this).find(".hubble-pd-radio__input").attr("checked","checked").prop("checked",!0),$(this).closest(".hubble-addon-page__item").addClass("is-selected"),$(this).hasClass("add-smc"))0==$("#hubble-care-layer").length&&window.sg.components.bcProgressbar.show(),setTimeout(function(){loadComponent("care");var e=$(this).find(".hubble-pd-popup-opener").attr("data-layer-target");
if(e&&0!=e.length){var b=$(this).attr("data-smc-code"),h=0;0<h&&$(this).find(".hubble-pd-radio__label").attr("data-layer-target","");void 0!=BC_CARTDATA.careData&&0<BC_CARTDATA.careData.length?1>h&&(bc_confirm.notify({htmlText:Granite.I18n.get("Enjoy free Samsung Care+. Press 'Continue' to replace your Samsung Care+ as a free gift.",null,i18n_hint),btnPrimaryText:Granite.I18n.get("Continue",null,i18n_hint),btnGhostText:Granite.I18n.get("Back",null,i18n_hint),btnPrimaryAttrs:{"an-tr":"gift_care-"+
bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":"gift_care:add-on:delete option:continue"},btnGhostyAttrs:{"an-tr":"gift_care-"+bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":"gift_care:add-on:delete option:back"},btnCloseAttrs:{"an-tr":"gift_care-"+bcPageTrack()+"-option-select","an-ca":"option click","an-ac":"bridge","an-la":"gift_care:add-on:delete option:close"}},"gift-care-select"),$(".confirm-popup").off("click",'.cta[data-event-type\x3d"gift-care-select"]'),
$(".confirm-popup").on("click",'.cta[data-event-type\x3d"gift-care-select"]',function(e){$(this).hasClass("cta--contained")&&($(this).find(".hubble-pd-radio__label").attr("data-layer-target","#hubble-care-layer"),h=1,"NewHybris"==BC_GROUP.storeType?(BC_MODEL.freeSmcPop=!0,configuratorCare.fromGiftPopup(SERVICEDATA.globalCareData,b,BC_MODEL.isFreeGift,BC_MODEL.modelCode,$(this))):bc_hybris_care_popup.init(b,BC_MODEL.isFreeGift,a,$(this)))})):($(this).find(".hubble-pd-radio__label").attr("data-layer-target",
"#hubble-care-layer"),"NewHybris"==BC_GROUP.storeType?(BC_MODEL.freeSmcPop=!0,configuratorCare.fromGiftPopup(SERVICEDATA.globalCareData,b,BC_MODEL.isFreeGift,BC_MODEL.modelCode,$(this))):bc_hybris_care_popup.init(b,BC_MODEL.isFreeGift,a,$(this)))}else BC_CARTDATA.giftCareData=[],e={modelCode:$(this).attr("data-smc-code"),modelName:$(this).attr("data-smc-name"),price:$(this).attr("data-smc-price"),salePrice:$(this).attr("data-smc-promotionprice")},BC_CARTDATA.giftCareData.push(e),BC_CARTDATA.preSelected=
$(this).closest(".hubble-addon-page__item").index(),"F-"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-code").substr(0,2)?A():S(),N()},10);else if($(this).hasClass("add-bundle")&&""!=$(this).find(".hubble-pd-radio__label").attr("data-layer-target")){if("F-"==$(this).attr("data-mo-code").substr(0,2)){var e={bundleModelCode:$(this).attr("data-mo-code"),bundleDisplayName:$(this).attr("data-mo-bundle-name"),bundleOriginPrice:"",
bundleSavePrice:"",bundleTotalPrice:""};loadComponent("addon-bundle");$(document).trigger("bundlePopupEvent",e,$(this));A()}}else BC_CARTDATA.preSelected=$(this).closest(".hubble-addon-page__item").index(),"F-"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-code").substr(0,2)?A():S(),N()});$(document).on("click",".hubble-addon-page.is-gift-type .hubble-addon-page__confirm-terms-checkbox-wrap .checkbox-v2__input",function(a){N()});
$(document).on("click",".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta a:not(.cta--disabled)",function(a){if(0==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list").length)bc_summary.goToCart();else if(a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked:not(.is-disabled)"),0<a.length)if(a.hasClass("add-smc"))a.find(".hubble-pd-popup-opener").is("[data-layer-target]")?a.find(".hubble-pd-popup-opener").trigger("click"):
(BC_CARTDATA.careData=BC_CARTDATA.giftCareData,bc_summary.goToCart());else if(a.hasClass("add-bundle"))if(void 0!=BC_CARTDATA.freeGiftBundleData&&0<BC_CARTDATA.freeGiftBundleData.length)BC_CARTDATA.careData=""!=E?E:[],BC_CARTDATA.freeGiftData=BC_CARTDATA.freeGiftBundleData,bc_summary.goToCart();else if(""!=a.find(".hubble-pd-radio__label").attr("data-layer-target"))a.find(".hubble-pd-radio__label").trigger("click");else{if(""!=a.attr("data-bundle-code")){for(var e=a.attr("data-bundle-code").split("|"),
f=0;f<e.length;f++)if(""!=e[f]){var b={addonModelCode:e[f],bundleModelCode:a.attr("data-mo-code")};BC_CARTDATA.freeGiftBundleData.push(b)}BC_CARTDATA.freeGiftData=BC_CARTDATA.freeGiftBundleData;bc_summary.goToCart()}}else BC_CARTDATA.careData=""!=E?E:[],bc_summary.goToCart();else $(this).hasClass("add-skip")?bc_summary.goToCart():("se"==siteCode||"dk"==siteCode||"no"==siteCode||"fi"==siteCode)&&bc_summary.goToCart()});$(document).on("click",".hubble-addon-page__cta #addon_nothanks, .hubble-addon-page__cta.gift-type #addon_skip",
function(a){BC_CARTDATA.freeGiftData=[];bc_summary.goToCart()});var aa=function(){$("body").css("display","none");$("#content").hide();$(".hubble-price-bar-disclaimer").hide();$(".hubble-price-bar").hide();var a=$(".hubble-addon-page");a.addClass("is-gift-type");a.find(".hubble-addon-page__sticky .hubble-addon-page__price").hide();a.find(".hubble-addon-page__cta").hide();"se"!=siteCode&&"dk"!=siteCode&&"no"!=siteCode&&"fi"!=siteCode&&"it"!=siteCode||a.find(".hubble-addon-page__cta.gift-type").show();
var h="",f="";void 0!=BC_MODEL.freeGiftData&&(h="undefined"!=typeof BC_MODEL.freeGiftData.mainTitle&&""!=BC_MODEL.freeGiftData.mainTitle?BC_MODEL.freeGiftData.mainTitle:"",f="undefined"!=typeof BC_MODEL.freeGiftData.subTitle&&""!=BC_MODEL.freeGiftData.subTitle?BC_MODEL.freeGiftData.subTitle:"",addonDesc="undefined"!=typeof BC_MODEL.freeGiftData.description&&""!=BC_MODEL.freeGiftData.description?BC_MODEL.freeGiftData.description:"");if(""!=h||""!=f)a.find(".hubble-addon-page__price-title .s-txt-title").html(h),
a.find(".hubble-addon-page__price-title .s-txt-sub-title").html(f),""==$(".hubble-addon-page.is-gift-type .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").html()&&$(".hubble-addon-page.is-gift-type .hubble-addon-page__inner .hubble-addon-page__price-title .s-txt-desc").remove();""!=addonDesc?($(".hubble-addon-page .hubble-addon-page__desc-wrap").show(),$(".hubble-addon-page.is-gift-type .hubble-addon-page__desc-wrap .s-desc").html(addonDesc)):$(".hubble-addon-page .hubble-addon-page__desc-wrap").hide();
"fr"==siteCode&&(a=isNotEmpty(BC_GROUP.continueCtaText)?BC_GROUP.continueCtaText:Granite.I18n.get("Continue",null,i18n_hint),$(".hubble-addon-page.is-gift-type .hubble-addon-page__product-cta .addon-continue-btn .s-cta-text").text(a));bc_addon_page_common.setPriceBar();$("#wrap").addClass("hubble-content__addon");$("#content__addon").show();$(document).scrollTop(0);E=void 0!=BC_CARTDATA.careData&&0<BC_CARTDATA.careData.length?BC_CARTDATA.careData:"";bc_addon_page_common.setAddOnsType();bc_common.historyBackEvent()};
$(document).on("freeContinueEvent",function(a,h){window.sg.components.bcProgressbar.hide();BC_MODEL.isFreeSmc?C():"NewHybris"==$("#storeType").val()?V(BC_MODEL.modelCode):U(BC_MODEL.modelCode)});return{bundleChangeGrid:function(a){a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap[data-mo-code\x3d'"+a+"']");a.parents(".hubble-item-card").find(".hubble-item-card__message .s-alert-text").text(Granite.I18n.get("Out of Stock",null,i18n_hint));
a.find(".hubble-pd-radio__input").attr("disabled","disabled");a.addClass("is-disabled");a.attr("data-mo-stocklevel","outofstock");a.find(".hubble-pd-radio__label").attr("data-layer-target","");n()},setAddOnsData:function(){S()},changeContinueCta:function(){N()},selectProductFromPopBtn:function(a){fa(a)},removeBundleChangeTarget:function(a,h){a=$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .hubble-pd-radio.js-radio-wrap[data-mo-code\x3d'"+a+"']");a.attr("data-bundle-code",
h);a.find(".hubble-pd-radio__label").attr("data-layer-target","")},getNewRelatedProductsTariffGift:function(a){return X(a)},setRelatedProductsObj:function(a){I=a},getRelatedProductsObj:function(){return I},removeRelatedProductsObj:function(){I={}}}}(bc_addon_page_gift),bundleProducts=[],bc_addon_page_bundle=function(){function U(h,n,C){if(bundleProducts[h])Q(bundleProducts[h],h,n),"gift"==n&&"F-"==h.substr(0,2)&&x(h,bundleProducts[h]);else{var v="true"===$("#isEppPage").val()?{withCredentials:!0}:
{};C="jQuery1910499421933433041_0"+C;if("ca"==siteCode||"ca_fr"==siteCode)C+=Math.floor(100*Math.random());"Y"==hybrisJsonYn?$.ajax({url:X+"/"+multistoreSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+h+"\x26queryType\x3dSELECTION_OF_BUNDLE",type:"GET",dataType:"json",cache:!0,crossDomain:!0,xhrFields:v,timeout:1E4,success:function(n){null!=n.products&&0<n.products.length&&(bundleProducts[h]=n.products)},error:function(){},complete:function(){Q(bundleProducts[h],h,n);"gift"==n&&
"F-"==h.substr(0,2)&&x(h,bundleProducts[h])}}):$.ajax({url:X+"/"+multistoreSiteCode+"/servicesv2/getRelatedProductsSimpleInfo?productCode\x3d"+h+"\x26queryType\x3dSELECTION_OF_BUNDLE",type:"GET",dataType:"jsonp",jsonpCallback:C,cache:!0,crossDomain:!0,xhrFields:v,timeout:1E4,success:function(n){null!=n.products&&0<n.products.length&&(bundleProducts[h]=n.products)},error:function(){},complete:function(){Q(bundleProducts[h],h,n);"gift"==n&&"F-"==h.substr(0,2)&&x(h,bundleProducts[h])}})}}function V(h,
n,C){bundleProducts[h]?(Q(bundleProducts[h],h,n),"gift"==n&&"F-"==h.substr(0,2)&&x(h,bundleProducts[h])):(C="true"===$("#isEppPage").val()?{withCredentials:!0}:{},$.ajax({url:COMMONMETADATA.hyblisStoreDomain+"/tokocommercewebservices/v2/"+multistoreSiteCode+"/products/"+h+"/relatedProducts?fields\x3dSIMPLE_INFO\x26queryType\x3dSELECTION_OF_BUNDLE",type:"GET",dataType:"json",cache:!0,crossDomain:!0,timeout:1E4,xhrFields:C,success:function(n){null!=n.products&&0<n.products.length&&(bundleProducts[h]=
n.products)},error:function(){},complete:function(){Q(bundleProducts[h],h,n);"gift"==n&&"F-"==h.substr(0,2)&&x(h,bundleProducts[h])}}))}function Q(h,n,C){var v={},Z=!1;if(null!=h){var J=0;$.each(h,function(h,n){n.groupCode&&(null==v[n.groupCode]&&(v[n.groupCode]=[],J++),v[n.groupCode].push(n))});var A=[];$.each(v,function(h,n){var v=0;$.each(n,function(h,a){"NewHybris"==$("#storeType").val()?"outofstock"==a.stock.stockLevelStatus.toLowerCase()&&v++:"outofstock"==a.stocklevel.toLowerCase()&&v++});
A.push(0<v&&v==n.length?"Y":"N")});Z=-1<A.indexOf("Y")?!0:!1;if(0<h.length&&h.length==J){var x="",N=0;$.each(v,function(h,n){$.each(n,function(h,n){0<N&&(x+="|");x+=n.modelcode;N++})});"gift"==C?bc_addon_page_gift.removeBundleChangeTarget(n,x):bc_addon_page.removeBundleChangeTarget(n,x)}}else Z=!1;Z&&("gift"==C?bc_addon_page_gift.bundleChangeGrid(n):"recommend"==C?bc_addon_recommend_product.bundleChangeGrid(n):bc_addon_page.bundleChangeGrid(n))}function x(h,n){if("F-"==$(".hubble-addon-page.is-gift-type .hubble-addon-page__list .hubble-item-card__select .js-radio-wrap.is-checked").attr("data-mo-code").substr(0,
2)&&(BC_CARTDATA.freeGiftData=[],"F-"==h.substr(0,2))){h=!1;for(var C="",v="",x="",J="",A=0;A<n.length;A++)-1==x.indexOf(n[A].groupCode)&&(isNotEmpty(v)&&(v+=","),isNotEmpty(x)&&(x+=","),isNotEmpty(J)&&(J+=","),"NewHybris"==$("#storeType").val()?"outofstock"!=n[A].stock.stockLevelStatus.toLowerCase()&&(v+=n[A].modelcode,x+=n[A].groupCode,J+=n[A].name):"outofstock"!=n[A].stocklevel.toLowerCase()&&(v+=n[A].modelcode,x+=n[A].groupCode,J+=n[A].name));if(isNotEmpty(x))for(A=0;A<n.length;A++)-1==C.indexOf(n[A].groupCode)&&
(isNotEmpty(C)&&(C+=","),C+=n[A].groupCode),h=x==C?!0:!1;isNotEmpty(v)&&isNotEmpty(x)&&isNotEmpty(J)&&h&&(n={addonModelCode:v,addonModelName:x,dtmModelCode:v,addonModelPrice:0,addonModelOriginPrice:0,displayName:J,pviTypeName:$(".hubble-addon-page__inner .is-checked").attr("data-pviTypeName"),pviSubtypeName:$(".hubble-addon-page__inner .is-checked").attr("data-pviSubtypeName"),categorySubTypeEngName:$(".hubble-addon-page__inner .is-checked").attr("data-categorySubTypeEngName"),modelrevenue:0,modelqty:1},
BC_CARTDATA.freeGiftData.push(n))}}var X=$("#bcStoreDomain").val();return{getRelatedProductsSimpleInfo:function(h,n){$.each(h,function(h,v){"NewHybris"==$("#storeType").val()?V(v,n,h):U(v,n,h)})}}}(bc_addon_page_bundle);