(function(){var f=window.sg.common.$q,e=window.sg.common.lazyLoad,l=window.sg.common.utils,d=function(b){var a=this;this.selector={section:".hubble-offer-banner-wrap",component:".hubble-offer-banner",open:"is-collapse",btn:".hubble-offer-banner__cta button",btnBlind:".hubble-offer-banner__cta .blind",content:".hubble-offer-banner",bannerDetail:".hubble-offer-banner__detail",simpleTitle:".hubble-offer-banner__simple",unFoldTimeTextArea:".hubble-offer-banner__detail .hubble-offer-banner__simple-txt-area",
unFoldTimer:".hubble-offer-banner__detail .s-promo-timearea .s-timer",foldMessage:".hubble-offer-banner__simple .s-promo-timearea",foldTimeTextArea:".hubble-offer-banner__simple .hubble-offer-banner__simple-txt-area",foldTimer:".hubble-offer-banner__simple .s-promo-timearea .s-timer",close:".s-offer-close span.blind"};this.ele={window:f(window),section:f(b),component:f(b),btn:null,btnBlind:null,content:null,bannerDetail:null,simpleTitle:null,unFoldTimeTextArea:null,unFoldTimer:null,foldMessage:null,
foldTimeTextArea:null,foldTimer:null,close:null};this.START_IN="Offer Start in";this.ENDING_IN="Offer Ending in";this.gap=null;this.handler={toggle:function(){a.ele.component.hasClass(a.selector.open)?a.openBanner():a.closeBanner()},resize:function(){a.resize()},scroll:function(){0>a.ele.btn.offset().bottom?a.ele.btn.removeClass("cta-bounce-on"):a.ele.btn.addClass("cta-bounce-on")},timer:{setCount:function(){clearInterval(a.counterTimer);if(null===a.gap||void 0===a.gap||0>a.gap)a.gap=0;a.handler.timer.count();
a.counterTimer=setInterval(a.handler.timer.count,1E3);var c=a.ele.foldMessage.target[0].innerHTML;0<=c.indexOf(a.START_IN)&&a.ele.foldMessage.innerHTML(c.replace(a.START_IN,a.ENDING_IN))},count:function(){var c="";var b=a.counter.numbers(a.fold.start,a.fold.end,a.gap);a.gap++;var d=a.ele.component.find(".hubble-offer-banner__simple .s-promo-timearea .s-timer"),g=a.ele.component.find(".hubble-offer-banner__detail .s-promo-timearea .s-timer");(a.fold.end-a.fold.start)/1E3<a.gap&&(a.fold.use=!1,clearInterval(a.counterTimer));
"00"===b.day?(d.find(".days").remove(),d.addClass("not-days")):d.find(".days .text").innerHTML(b.day);d.find(".hours .text").innerHTML(b.hour);d.find(".mins .text").innerHTML(b.minute);d.find(".seconds .text").innerHTML(b.second);"00"===b.day?(g.find(".days").remove(),g.addClass("not-days")):(g.find(".days .text").innerHTML(b.day),c=b.day+" "+a.globalText.Days+" ");g.find(".hours .text").innerHTML(b.hour);g.find(".mins .text").innerHTML(b.minute);g.find(".seconds .text").innerHTML(b.second);c=""+
c+b.hour+" "+a.globalText.Hours+" "+b.minute+" "+a.globalText.Mins+" "+b.second+" "+a.globalText.Secs;b=a.ele.component.find(".hubble-offer-banner__simple .hubble-offer-banner__simple-txt-area .timer-txt");d=a.ele.component.find(".hubble-offer-banner__detail .hubble-offer-banner__simple-txt-area .timer-txt");0<b.target.length&&b.innerHTML(c);0<d.target.length&&d.innerHTML(c)}}};this.counter={makeDate:function(b){var c=b.replace(/\+[0-9]{4}$/,""),a=new Date(c);c=b.substring(c.length);""!==c&&(b=parseInt(c.substring(0,
3),0),c=parseInt(c.substring(3),0),0>b&&(c*=-1),a.setHours(a.getHours()+-1*b),a.setMinutes(a.getMinutes()+-1*c));return a},numbers:function(b,a,d){b=a-b-1E3*d;return 0>=b?{day:this.numFormat(0),hour:this.numFormat(0),minute:this.numFormat(0),second:this.numFormat(0)}:{day:this.numFormat(Math.floor(b/864E5)),hour:this.numFormat(Math.floor(b%864E5/36E5)),minute:this.numFormat(Math.floor(b%36E5/6E4)),second:this.numFormat(Math.floor(b%6E4/1E3))}},numFormat:function(b){return 10>b&&0<=b?"0"+b:b}};this.fold=
{start:null,end:null,use:!0};this.text={};this.timer=null;this.DELAY_TIME=400;this.counterTimer=0;this.timeStart=this.timeEnd=null;d.instances.set(b,this);this.init()};d.prototype.setProperty=function(){this.ele.component=this.ele.section.find(this.selector.component);this.ele.btn=this.ele.component.find(this.selector.btn);this.ele.btnBlind=this.ele.component.find(this.selector.btnBlind);this.ele.bannerDetail=this.ele.component.find(this.selector.bannerDetail);this.ele.simpleTitle=this.ele.component.find(this.selector.simpleTitle);
this.ele.unFoldTimeTextArea=this.ele.component.find(this.selector.unFoldTimeTextArea);this.ele.foldTimeTextArea=this.ele.component.find(this.selector.foldTimeTextArea);this.ele.unFoldTimer=this.ele.component.find(this.selector.unFoldTimer);this.ele.foldMessage=this.ele.component.find(this.selector.foldMessage);this.ele.foldTimer=this.ele.component.find(this.selector.foldTimer);this.ele.close=this.ele.component.find(this.selector.close);this.globalText=JSON.parse(this.ele.component.target[0].dataset.globalText);
this.foldingPc=this.ele.component.target[0].dataset.foldingPc;this.foldingMobile=this.ele.component.target[0].dataset.foldingMobile;if(this.ele.foldTimeTextArea.hasClass("active")){var b=this.ele.foldTimeTextArea.attr("data-start-time"),a=this.ele.foldTimeTextArea.attr("data-end-time");b&&(this.fold.start=this.counter.makeDate(b));a&&(this.fold.end=this.counter.makeDate(a));b&&a?(b="ru-RU"===this.getLang()?"sub-text":"blind",this.ele.foldTimer.innerHTML('\x3cspan class\x3d"days"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"date"\x3e'+
this.globalText.Days+'\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan class\x3d"hours"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"'+b+'"\x3e'+this.globalText.Hours+'\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan class\x3d"mins"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"'+b+'"\x3e'+this.globalText.Mins+'\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan class\x3d"seconds"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"'+
b+'"\x3e'+this.globalText.Secs+"\x3c/span\x3e\n            \x3c/span\x3e"),this.ele.unFoldTimer.innerHTML('\x3cspan class\x3d"days"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"sub-text"\x3e'+this.globalText.Days+'\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan class\x3d"hours"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"sub-text"\x3e'+this.globalText.Hours+'\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan class\x3d"mins"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"sub-text"\x3e'+
this.globalText.Mins+'\x3c/span\x3e\n            \x3c/span\x3e\n            \x3cspan class\x3d"seconds"\x3e\n              \x3cspan class\x3d"text"\x3e\x3c/span\x3e\n              \x3cspan class\x3d"sub-text"\x3e'+this.globalText.Secs+"\x3c/span\x3e\n            \x3c/span\x3e")):(this.fold.start=-1,this.fold.end=-1)}else this.fold.use=!1};d.prototype.init=function(){this.setProperty();this.bindEvents();this.bannerInit()};d.prototype.reInit=function(){clearInterval(this.counterTimer);clearInterval(this.timer);
this.unBindEvents();this.setProperty();this.bindEvents();this.bannerInit()};d.prototype.bindEvents=function(){this.ele.btn.on("click",this.handler.toggle);this.ele.window.on("resize",this.handler.resize);this.ele.window.on("scroll",this.handler.scroll)};d.prototype.unBindEvents=function(){this.ele.btn.off("click",this.handler.toggle);this.ele.window.off("resize",this.handler.resize);this.ele.window.off("scroll",this.handler.scroll)};d.prototype.openBanner=function(){var b=this;this.ele.section.addClass("is-active");
this.ele.component.removeClass("is-collapse");this.ele.section.removeClass("is-init");this.ele.close.innerHTML(this.globalText.Collapse);this.timer&&clearTimeout(this.timer);this.resize();this.ele.simpleTitle.hide();this.ele.bannerDetail.show();this.maxHeight=this.ele.bannerDetail.innerHeight();this.ele.component.css({height:this.maxHeight+"px","transition-duration":""});this.ele.component.find(".hubble-offer-banner__detail-img img").off("load").on("load",function(){b.ele.component.hasClass("is-collapse")||
b.ele.component.css({height:b.ele.bannerDetail.innerHeight()+"px"})});this.ele.component.find(".hubble-offer-banner__detail-mobile-img img").off("load").on("load",function(){b.ele.component.hasClass("is-collapse")||b.ele.component.css({height:b.ele.bannerDetail.innerHeight()+"px"})});this.timer=setTimeout(function(){b.ele.component.removeClass(b.selector.open);b.ele.section.addClass("is-active");e.setLazyLoad()},this.DELAY_TIME-100)};d.prototype.closeBanner=function(){var b=this;this.ele.section.removeClass("is-active");
this.ele.component.addClass("is-collapse");this.ele.component.css({height:"0"});this.ele.btn.removeClass("cta-bounce-on");this.ele.close.innerHTML(this.globalText.Expand);this.timer=setTimeout(function(){b.ele.simpleTitle.show();b.minHeight=b.ele.simpleTitle.innerHeight();b.ele.component.css({height:b.minHeight+"px"});b.ele.bannerDetail.hide();b.ele.component.addClass(b.selector.open)},this.DELAY_TIME)};d.prototype.resize=function(){this.ele.component.css({height:""});this.ele.section.hasClass("is-active")?
this.ele.component.css({height:this.ele.bannerDetail.innerHeight()+"px"}):this.ele.component.css({height:this.ele.simpleTitle.innerHeight()+"px"})};d.prototype.bannerInit=function(){var b=this;this.ele.section.hasClass("is-loaded")||(this.ele.section.addClass("is-loaded"),this.ele.section.addClass("is-init"),setTimeout(function(){b.ele.section.removeClass("is-init")},3E3));this.fold.use&&this.handler.timer.setCount();"desktop"===l.getCurrentDevice()&&"Y"===this.foldingPc||"mobile"===l.getCurrentDevice()&&
"Y"===this.foldingMobile?this.closeBanner():this.openBanner();this.resize()};d.prototype.getLang=function(){return document.documentElement.lang};d.instances=new WeakMap;window.sg.components.hubbleOfferBanner={init:function(){f(".hubble-offer-banner-wrap").target.forEach(function(b){d.instances.has(b)||new d(b)})},reInit:function(){f(".hubble-offer-banner-wrap").target.forEach(function(b){d.instances.has(b)?d.instances.get(b).reInit():new d(b)})},openBanner:function(){f(".hubble-offer-banner-wrap").target.forEach(function(b){d.instances.has(b)?
d.instances.get(b).openBanner():new d(b)})},closeBanner:function(){f(".hubble-offer-banner-wrap").target.forEach(function(b){d.instances.has(b)?d.instances.get(b).closeBanner():new d(b)})}}})();
(function(f,e,l){function d(b){var k="",a={};"P"===b?k="DEFAULT":"L"===b?k="LEASE":"E"===b&&(k="EUP");e.each(h,function(b,d){if(d&&d.bannerType===k)return c.show(),a=h[b],!1;c.hide()});return a}function b(b){if("Y"==BC_GROUP.bannerUseYn)return c.remove(),!1;var a="";"P"===b?a=d("P"):"L"===b?a=d("L"):"E"===b&&(a=d("E"));m(a);if(!a.bannerType)return!1;"undefined"!=typeof a.unfoldBGColor&&c.find(".hubble-offer-banner__detail").css("background-color",a.unfoldBGColor);"undefined"!=typeof a.unfoldTitle&&
c.find(".hubble-offer-banner__detail-title h2").html(unescapeHtml(a.unfoldTitle));"undefined"!=typeof a.unfoldDescription&&c.find(".hubble-offer-banner__detail-desc p").html(unescapeHtml(a.unfoldDescription));"undefined"!=typeof a.foldTitle&&c.find(".hubble-offer-banner__simple p.s-promo-textarea").html(unescapeHtml(a.foldTitle));"undefined"==typeof a.unfoldTextColor&&(a.unfoldTextColor="");"WHITE"===a.unfoldTextColor.toUpperCase()?(c.find(".hubble-offer-banner__detail").addClass("s-theme-bright"),
"none"===e(".hubble-offer-banner__simple").css("display")&&c.find(".s-offer-close").addClass("s-theme-bright")):(c.find(".hubble-offer-banner__detail").removeClass("s-theme-bright"),"none"===e(".hubble-offer-banner__simple").css("display")&&c.find(".s-offer-close").removeClass("s-theme-bright"));if("Y"===a.ctaUseYn){var g=a.ctaUrl?a.ctaUrl:"javascript:;";"undefined"==typeof a.ctaText&&(a.ctaText="");c.find(".hubble-offer-banner__detail-cta").show();c.find(".hubble-offer-banner__detail-cta a").attr("href",
g);c.find(".hubble-offer-banner__detail-cta a").html(a.ctaText);c.find(".hubble-offer-banner__detail-cta a").append('\x3csvg class\x3d"icon" focusable\x3d"false" aria-hidden\x3d"true"\x3e\x3cuse xlink:href\x3d"#outlink-bold" href\x3d"#outlink-bold"\x3e\x3c/use\x3e');c.find(".hubble-offer-banner__detail-cta a").attr("target","_blank")}else c.find(".hubble-offer-banner__detail-cta").hide();if(isClickFirst||"P"!=b)"null"!=a.imagePath&&""!=a.imagePath&&null!=a.imagePath?"null"!=a.imageTitle&&""!=a.imageTitle&&
null!=a.imageTitle?c.find(".hubble-offer-banner__detail-img img").attr("alt",a.imageTitle):c.find(".hubble-offer-banner__detail-img img").removeAttr("alt"):c.find(".hubble-offer-banner__detail-img").remove(),"null"!=a.mobileImagePath&&""!=a.mobileImagePath&&null!=a.mobileImagePath?"null"!=a.mobileImageTitle&&"undefined"!=typeof a.mobileImageTitle&&""!=a.mobileImageTitle&&null!=a.mobileImageTitle?c.find(".hubble-offer-banner__detail-mobile-img img").attr("alt",""):c.find(".hubble-offer-banner__detail-mobile-img img").removeAttr("alt"):
c.find(".hubble-offer-banner__detail-mobile-img").remove();"undefined"==typeof a.foldTextColor&&(a.foldTextColor="");"undefined"!=typeof a.foldBGColor&&c.find(".hubble-offer-banner__simple").css("background-color",a.foldBGColor);"WHITE"===a.foldTextColor.toUpperCase()?(c.find(".hubble-offer-banner__simple").addClass("s-theme-bright"),"none"!=e(".hubble-offer-banner__simple").css("display")&&c.find(".s-offer-close").addClass("s-theme-bright")):(c.find(".hubble-offer-banner__simple").removeClass("s-theme-bright"),
"none"!=e(".hubble-offer-banner__simple").css("display")&&c.find(".s-offer-close").removeClass("s-theme-bright"));!isClickFirst||"N"!=a.bannerFoldingStatus&&"N"!=a.mobileBannerFoldingStatus||e(".hubble-offer-banner").hasClass("is-collapse")||window.sg.components.hubbleOfferBanner.closeBanner();e(".hubble-offer-banner__cta .s-offer-close").attr("an-tr","action tracking-"+bcPageTrack()+"-text-view more");e(".hubble-offer-banner__cta .s-offer-close").attr("an-ca","indication");e(".hubble-offer-banner__cta .s-offer-close").attr("an-ac",
"view more");e(".hubble-offer-banner__cta .s-offer-close").attr("an-la","view more");setTimeout(function(){"none"===e(".hubble-offer-banner__simple").css("display")&&("WHITE"===a.unfoldTextColor.toUpperCase()?c.find(".s-offer-close").addClass("s-theme-bright"):c.find(".s-offer-close").removeClass("s-theme-bright"));"none"!=e(".hubble-offer-banner__simple").css("display")&&("WHITE"===a.foldTextColor.toUpperCase()?c.find(".s-offer-close").addClass("s-theme-bright"):c.find(".s-offer-close").removeClass("s-theme-bright"))},
1E3)}function a(){e(document).on("click",".hubble-offer-banner__cta .s-offer-close",function(a){a.preventDefault();e(this).attr("an-ac","view more");e(this).attr("an-la","view more")})}var c=e(".hubble-offer-banner"),h=BC_GROUP.banners;e(document).on("productChangeEvent",function(){if(0<c.length){var a=BC_MODEL.leaseYn,d=e("#storeType").val();"GPv2"==d||"NewHybris"==d?b("P"):"Y"===a?b("L"):"E"===a?b("E"):b("P")}});var m=function(a){if(a&&0<Object.keys(a).length){var b=e("#hubble-offer-banner"),c=
b.attr("data-global-text"),d=/<[^>]*>?/g;a=void 0!=a.unfoldTitle?a.unfoldTitle.replace(d,""):" ";c=JSON.parse(c);c.Expand=Granite.I18n.get("{0} Expand",a,i18n_hint);c.Collapse=Granite.I18n.get("{0} Collapse",a,i18n_hint);b.attr("data-global-text",JSON.stringify(c))}};e(function(){0<c.length&&(h&&0<h.length&&b("P"),a())})})(window,window.jQuery,window.document);