(function(){function d(){c.$popup.find(".hubble-pd-popup__layer-inner").target.forEach(function(a){var b=e(a);a=b.find(".hubble-pd-popup__foot");var d=b.find(".hubble-pd-popup__content-wrap");b=b.find(".hubble-pd-popup__content");var f=c.$popup.find(".hubble-pd-popup__wrap").height();b.css({maxHeight:""});f=0<a.target.length?f-((parseFloat(d.css("padding-top"))||0)+(a.offset().height||0)):f-((parseFloat(d.css("padding-top"))||0)+(parseFloat(d.css("padding-bottom"))||0));b.css({maxHeight:f+"px"})})}
function g(a,b){b=void 0===b?null:b;a=e(a);a.show();a.setLayerFocus(".hubble-pd-popup__layer",f.close);a.trigger("openPopup");document.documentElement.classList.add("hive-layer-scroll-lock");e("head").attr("aria-hidden","true");a.find(".hubble-pd-popup__layer").removeAttr("role");a.find(f.close).off("click").on("click",k);c.$popup=a;c.$openBtn=e(b);a.hasClass("is-scroll-active")&&(0<a.find(".hubble-pd-popup__foot").target.length&&a.find(".hubble-pd-popup__content-wrap").css({paddingBottom:"0"}),d(),
e(window).off("resize",d).on("resize",d));window.sg.common.lazyLoad.setLazyLoad()}function k(){var a=c.$popup;a.hide();a.offLayerFocus();document.documentElement.classList.remove("hive-layer-scroll-lock");e("head").removeAttr("aria-hidden");a.find(".hubble-pd-popup__layer").attr("role","dialog");a.find(f.close).off("click");e(window).off("resize",d);c.$openBtn.focus();c.$popup=null;c.$openBtn=null}function l(){c.$btns.off("click").on("click",function(a){g(a.currentTarget.dataset.layerTarget,a.currentTarget)})}
function h(){c.$btns=e(f.section);l()}var e=window.sg.common.$q,f={section:"[data-layer-target]",close:".hubble-pd-popup-closer"},c={$btns:null,$popup:null,$openBtn:null};window.sg.components.hubblePdPopup={init:h,reinit:function(a,b){a=void 0===a?null:a;b=void 0===b?null:b;null===a?h():g(a,b)},openPopup:g,closePopup:k,resizeHeight:d};e.ready(h)})();